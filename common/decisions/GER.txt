debug_decisions = {
	DEBUG_Manu = {
		priority = 999
		allowed = {
			tag = GER
		}

		visible = {
			is_ai = no
			is_debug = yes
		}

		available = {
		}

		complete_effect = {
		}
	}
	DEBUG_DANNE_GER = {
		priority = 999
		allowed = {
			always = yes
			tag = GER
		}

		visible = {
			is_debug = yes
		}

		available = {
			
		}

		complete_effect = {	
			if = {
				limit = {
					OR = {
						has_dynamic_modifier = { modifier = GER_mefo_bills_modifier }
						has_dynamic_modifier = { modifier = GER_economy_of_conquest_modifier }
					}
				}
				custom_effect_tooltip = GER_modify_economy_of_conquest_modifier_tt
				add_to_variable = { 
					GER_industrial_consumer_goods_factor = -0.1
					tooltip = consumer_goods_factor_tt
				}
				GER_reduce_mefo_bills_penalty = yes
			}
		}
	}
	DEBUG_DANNE_change_CG_GER = {
		priority = 999
		allowed = {
			always = yes
			tag = GER
		}

		visible = {
			is_debug = yes
		}

		available = {
			
		}

		complete_effect = {	
			if = {
				limit = {
					OR = {
						has_dynamic_modifier = { modifier = GER_mefo_bills_modifier }
						has_dynamic_modifier = { modifier = GER_economy_of_conquest_modifier }
					}
				}
				custom_effect_tooltip = GER_modify_economy_of_conquest_modifier_tt
				add_to_variable = { 
					GER_industrial_consumer_goods_factor = 0.1
					tooltip = consumer_goods_factor_tt
				}
				GER_add_mefo_bills_penalty = yes
			}
		}
	}
}





#Category only allowed for GER
GER_mefo_bills_category = {

	GER_mefo_bills_mission = {

		allowed = { always = no }

		icon = ger_mefo_bills

		available = {
			#NOT = { has_government = democratic }
			#GER_can_delay_mefo_payment = yes #TODO_DANNE Remove this trigger entirely
			has_political_power > 0
			hidden_trigger = { always = no }
		}

		#cost = GER_mefo_bill_counter?10

		days_mission_timeout = 180
		is_good = yes
		fire_only_once = yes

		cancel_trigger = {
			hidden_trigger = {
				OR = {
					NOT = { has_dynamic_modifier = { modifier = GER_mefo_bills_modifier } }
					has_idea = GER_mefo_bills_ended
				}
			}
		}

		days_remove = GER_extend_mefo_bills_days?0
		remove_effect = {
		}

		complete_effect = {
		}

		timeout_effect = {
			if = {
				limit = {
					has_country_flag = ger_has_cancelled_mefo
				}
				#GER_remove_mefo_bills = yes
				#1
				GER_pay_back_mefo_bills = yes
			}
			else = {
				custom_effect_tooltip = GER_mefo_bills_mission_tt #TODO_Danne Re-write this to better fit the new circumstances!
				custom_effect_tooltip = GER_mefo_bills_effect_in_days
				hidden_effect = {
					set_variable = { GER_extend_mefo_bills_days = days_mission_timeout@GER_mefo_bills_mission }
					set_country_flag = paid_for_mefo
				}
				#GER_mefo_bills_level_up = yes
				if = {
					limit = {
						check_variable = { var = GER_mefo_bill_counter value = 15 compare = less_than }
					}
					hidden_effect = { set_variable = { var = GER_mefo_bill_counter value = 10 } }
				}
				add_to_variable = { var = GER_mefo_bill_counter value = 10 }

				hidden_effect = {
					activate_mission = GER_mefo_bills_mission
				}
			}
		}

		ai_will_do = {
			base = 200
		}
	}

	GER_cancel_mefos = {

		icon = ger_mefo_bills

		ai_will_do = {
			base = 0
		}

		available = {
			always = no
		}

		cost = 0

		fire_only_once = no

		visible = {
			has_dynamic_modifier = { modifier = GER_mefo_bills_modifier }
			#hidden_trigger = { #These are showing up as triggers for cancelation
			#	NOT = {
			#		has_country_flag = ger_has_cancelled_mefo
			#		has_idea = GER_mefo_bills_ended
			#	}
			#}
		}

		cancel_if_not_visible = yes

		remove_effect = {
			set_country_flag = ger_has_cancelled_mefo
		}

		complete_effect = {
			effect_tooltip = {
				retire_character = GER_hjalmar_schacht
				show_ideas_tooltip = hjalmar_schacht
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_stop_rearmament = yes
		}
	}

	#GER_renew_mefos = {
#
	#	icon = ger_mefo_bills
#
	#	available = {
	#		hidden_trigger = {
	#			has_country_flag = ger_has_cancelled_mefo
	#			NOT = {
	#				OR = {
	#					NOT = { GER_has_mefo_bills = yes }
	#					has_idea = GER_mefo_bills_ended
	#				}
	#			}
	#		}
	#	}
#
	#	cost = 0
#
	#	fire_only_once = no
#
	#	visible = {
	#		hidden_trigger = {
	#			has_country_flag = ger_has_cancelled_mefo
	#			NOT = {
	#				OR = {
	#					NOT = { GER_has_mefo_bills = yes }
	#					has_idea = GER_mefo_bills_ended
	#				}
	#			}
	#		}
	#	}
#
	#	cancel_if_not_visible = yes
#
	#	remove_effect = {
	#		clr_country_flag = ger_has_cancelled_mefo
	#	}
#
	#	ai_will_do = {
	#		factor = 200
	#	}
	#}
}

GER_seize_gold_reserves_cat = {
	GER_seize_gold_reserves = {
		priority = 1
		icon = GFX_decision_generic_confiscation

		ai_will_do = {
			base = 10
			modifier = {
				factor = 2.5
				check_variable = { GER_industrial_consumer_goods_factor > 0.25 }
			}
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.5 }
			}
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.75 }
			}
			modifier = {
				factor = 5
				check_variable = { GER_industrial_consumer_goods_factor > 0.99 }
			}
			modifier = {
				factor = 1.5
				has_war_with_major = yes
			}
			modifier = {
				factor = 1.5
				FROM = {
					is_major = yes
				}
			}
			modifier = {
				factor = 0
				check_variable = { GER_industrial_consumer_goods_factor < 0.15 }
			}
		}

		target_non_existing = yes #This is required for the Decision to even show up. TODO_Danne fix a better solution
		target_array = ROOT.GER_european_targets_array

		target_trigger = {
			FROM = {
				has_country_flag = GER_has_capitulated_to_germany
				NOT = { #Don't seize France's gold reserves too soon; set up Vichy France first. Set in event France.10 and cleared in event france.14
					has_country_flag = GER_dont_seize_gold_reserves_flag
				}
				any_core_state = {
					is_controlled_by = ROOT
					NOT = { is_core_of = ROOT }
					NOT = { has_state_flag = GER_seize_gold_reserves_state_flag }
					OR = {
						check_variable = { industrial_complex_level > 0 }
						check_variable = { arms_factory_level > 0 }
						check_variable = { building_level@dockyard > 0 }
					}
				}
			}
		}

		available = {
			FROM = {
				has_country_flag = GER_has_capitulated_to_germany
			}
			ROOT = {
				custom_trigger_tooltip = {
					tooltip = GER_economy_of_conquest_modifier_consumer_goods_tt
					check_variable = { GER_industrial_consumer_goods_factor > 0 }
				}
			}
		}

		target_root_trigger = {
			ROOT = { has_dynamic_modifier = { modifier = GER_economy_of_conquest_modifier }}
		}
		
		fire_only_once = no

		cost = 25

		complete_effect = {
			ROOT = { set_temp_variable = { occupied_state_num_factory = 0 } } #This will show how many factories in total Germany controls from FROM's cores
			add_to_temp_variable = { GER.occupied_state_num_factory = FROM.num_of_military_factories_in_cores@GER }
			add_to_temp_variable = { GER.occupied_state_num_factory = FROM.num_of_civilian_factories_in_cores@GER }
			add_to_temp_variable = { GER.occupied_state_num_factory = FROM.num_of_naval_factories_in_cores@GER }
			FROM = {
				every_core_state = {
					limit = {
						is_on_continent = europe
						is_fully_controlled_by = ROOT
						NOT = { has_state_flag = GER_seize_gold_reserves_state_flag }
					}

					add_compliance = -5
					add_resistance = 10
					set_state_flag = GER_seize_gold_reserves_state_flag
					add_dynamic_modifier = { modifier = GER_overburdened_state_modifier days = 90 }
				}
			}
			ROOT = {			
				divide_temp_variable = { occupied_state_num_factory = 200 } #This is necessary since a single factory will increase the occupied_state_num_factory number to 1, which in turn translates to -100% when subtracting from the Consumer Goods. Dividing it by 100 here will give you 1% instead, which is more like what we want.
				multiply_temp_variable = { occupied_state_num_factory = -1 }

				custom_effect_tooltip = GER_modify_economy_of_conquest_modifier_tt
				if = {
					limit = {
						check_variable = { occupied_state_num_factory < 50 }
					}
					add_to_variable = {
						GER_industrial_consumer_goods_factor = occupied_state_num_factory
						tooltip = consumer_goods_factor_tt
					}
				}
				else = {
					add_to_variable = {
						GER_industrial_consumer_goods_factor = -0.25
						tooltip = consumer_goods_factor_tt
					}
				}
				GER_reduce_mefo_bills_penalty = yes
			}
		}
	}
}

# Operational Planning
GER_operational_planning_category = {

	# Campaign Instructions against [FROM.GetName]
	GER_operational_planning = {
		icon = GFX_decision_hol_draw_up_staff_plans

		ai_will_do = {
			base = 1
			modifier = {
				factor = 5
				has_war_with = FROM
			}
			modifier = {
				factor = 2
				FROM = {
					is_major = yes
				}
			}
			modifier = {
				factor = 10
				FROM = {
					original_tag = POL
				}
				has_completed_focus = GER_danzig_or_war
			}
			modifier = {
				factor = 10
				FROM = {
					original_tag = SOV
				}
				has_completed_focus = GER_war_with_the_ussr
			}
			#modifier = {
			#	factor = 1.5
			#	has_wargoal_against = FROM
			#}
			modifier = {
				factor = 10
				FROM = {
					original_tag = FRA
				}
				OR = {
					divisions_in_state = {
						state = 6
						size > 5
						#type = armor
					}
					divisions_in_state = {
						state = 977
						size > 5
						#type = armor
					}
					divisions_in_state = {
						state = 34
						size > 5
						#type = armor
					}
					divisions_in_state = {
						state = 980
						size > 5
						#type = armor
					}
				}
			}
			modifier = { #Don't Blitzkrieg France unless you can bypass the Maginot
				factor = 0
				FROM = {
					original_tag = FRA
					any_core_state = {
						state_is_fully_controlled_by_ROOT_subject_or_faction_member = no
						ROOT = {
							divisions_in_state = {
								state = PREV
								size < 1
								#type = armor
							}
						}
					}
					NOT = {
						any_controlled_state = {
							OR = {
								is_core_of = HOL
								is_core_of = BEL
							}
							any_neighbor_state = {
								is_fully_controlled_by = ROOT
							}
						}
					}
				}
				980 = {	state_is_fully_controlled_by_ROOT_subject_or_faction_member = no }
				28 = { state_is_fully_controlled_by_ROOT_subject_or_faction_member = no }
			}
			modifier = { #Save CP and XP for the French offensive
				factor = 0
				FROM = {
					OR = {
						original_tag = HOL
						original_tag = BEL
					}
					is_ai = yes
				}
				has_war_with = FRA
				command_power < 80
				has_army_experience < 40
			}
			modifier = { #Muahahahaha
				factor = 2
				FROM = {
					is_ai = no
				}
			}
			modifier = { #Germany is super aggressive and wastes CP and XP on countries they only have a War Goal on
				factor = 0
				NOT = {
					has_war_with = FROM
				}
			}
			modifier = { #Save CP and XP for the offensive
				factor = 0
				focus_progress = {
				    focus = GER_war_with_the_ussr
				    progress > 0.01
				}
				NOT = {
					has_completed_focus = GER_war_with_the_ussr
				}
				NOT = {
					has_completed_focus = GER_war_with_the_ussr
				}
			}
		}

		allowed = {
			original_tag = GER
		}

		days_remove = 365

		custom_cost_trigger = {
			command_power > 24
			has_army_experience > 14
		}

		custom_cost_text = decision_cost_CP_25_ArmXP_15 

		available = { #Can't be target_root_trigger
			NOT = {	has_country_flag = GER_operational_planning_flag }
			OR = {
				has_war_with = FROM
				has_wargoal_against = FROM
			}
		}

		target_array = ROOT.GER_war_targets_array

		target_trigger = { #TODO_Danne This needs to be refined! 
			FROM = {
				has_war_with = ROOT
				any_controlled_state = {
					is_on_continent = europe
					any_neighbor_state = {
						is_controlled_by_ROOT_or_ally = yes
					}
				}
			}
		}

	#	fire_only_once = yes
		
		complete_effect = {
			hidden_effect = {
				add_command_power = -25
				army_experience = -15
				set_country_flag = GER_operational_planning_flag
			}
			#BLITZKRIEG
			if = {
				limit = {
					has_completed_focus = GER_adopt_new_panzer_doctrine
				}
				if = { #It's easier to make this a separate modifier and using scripted loc to display the effects in the "main" state modifier
					limit = {
						has_completed_focus = GER_panzergrenadier
					}
					hidden_effect= {
						every_state = {
							limit = {
								is_controlled_by = FROM
								is_on_continent = europe
							}
							add_dynamic_modifier = {
								modifier = GER_motor_and_mech_attack_modifier
								scope = GER
								days = 45
							}
						}
					}
				}
				if = { #Add basic Blitzkrieg modifier
					limit = {
						has_completed_focus = GER_adopt_new_panzer_doctrine
						NOT = { has_completed_focus = GER_advanced_panzer_research }
					}
					every_state = {
						limit = {
							is_controlled_by = FROM
							is_on_continent = europe
						}
						add_dynamic_modifier = {
							modifier = GER_blitzkrieg_modifier
							scope = GER
							days = 45
						}
					}
				}
				else_if = { #Add Blitzkrieg Level 2
					limit = {
						has_completed_focus = GER_advanced_panzer_research
						NOT = { has_completed_focus = GER_expand_kummersdorfs_capacity }
					}
					every_state = {
						limit = {
							is_controlled_by = FROM
							is_on_continent = europe
						}
						add_dynamic_modifier = {
							modifier = GER_blitzkrieg_modifier_lvl_2
							scope = GER
							days = 45
						}
					}
				}
				else_if = { #Add Blitzkrieg Level 3
					limit = {
						has_completed_focus = GER_expand_kummersdorfs_capacity
					}
					every_state = {
						limit = {
							is_controlled_by = FROM
							is_on_continent = europe
						}
						add_dynamic_modifier = {
							modifier = GER_blitzkrieg_modifier_lvl_3
							scope = GER
							days = 45
						}
					}
				}
				hidden_effect = { #This removes the GER_operational_planning_flag, enabling Germany to do the decision again. remove_effect won't work if the country in question capitulates
					country_event = { id = wuw_GER_military_events.1 days = 45 } 
				}
			}
			#BEWEGUNGSKRIEG
			else_if = {
				limit = {
					has_completed_focus = GER_the_prussian_legacy
				}
				if = { #It's easier to make this a separate modifier and using scripted loc to display the effects in the "main" state modifier
					limit = {
						has_completed_focus = GER_panzergrenadier
					}
					hidden_effect= {
						every_state = {
							limit = {
								is_controlled_by = FROM
								is_on_continent = europe
							}
							add_dynamic_modifier = {
								modifier = GER_motor_and_mech_attack_modifier
								scope = GER
								days = 90
							}
						}
					}
				}
				if = { #Add basic bewegungskrieg modifier
					limit = {
						has_completed_focus = GER_the_prussian_legacy
						NOT = { has_completed_focus = GER_lessons_of_the_great_war }
					}
					every_state = {
						limit = {
							is_controlled_by = FROM
							is_on_continent = europe
						}
						add_dynamic_modifier = {
							modifier = GER_bewegungskrieg_modifier
							scope = GER
							days = 90
						}
					}
				}
				else_if = { #Add bewegungskrieg Level 2
					limit = {
						has_completed_focus = GER_lessons_of_the_great_war
						NOT = { has_completed_focus = GER_artillery_bombardment }
					}
					every_state = {
						limit = {
							is_controlled_by = FROM
							is_on_continent = europe
						}
						add_dynamic_modifier = {
							modifier = GER_bewegungskrieg_modifier_lvl_2
							scope = GER
							days = 90
						}
					}
				}
				else_if = { #Add bewegungskrieg Level 3
					limit = {
						has_completed_focus = GER_artillery_bombardment
						NOT = { has_completed_focus = GER_stormtroopers }
					}
					every_state = {
						limit = {
							is_controlled_by = FROM
							is_on_continent = europe
						}
						add_dynamic_modifier = {
							modifier = GER_bewegungskrieg_modifier_lvl_3
							scope = GER
							days = 90
						}
					}
				}
				else_if = { #Add bewegungskrieg Level 4
					limit = {
						has_completed_focus = GER_stormtroopers
					}
					every_state = {
						limit = {
							is_controlled_by = FROM
							is_on_continent = europe
						}
						add_dynamic_modifier = {
							modifier = GER_bewegungskrieg_modifier_lvl_4
							scope = GER
							days = 90
						}
					}
				}				
				hidden_effect = { #This removes the GER_operational_planning_flag, enabling Germany to do the decision again. remove_effect won't work if the country in question capitulates
					country_event = { id = wuw_GER_military_events.1 days = 90 } 
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt
		}
		remove_effect = {
		}
	}
	GER_operational_planning_africa = {
		icon = GFX_decision_hol_draw_up_staff_plans

		ai_will_do = {
			base = 0 #TODO_DANNE Don't do this for now, concentrate your efforts elsewhere
			#modifier = {
			#	factor = 5
			#	has_war_with = FROM
			#}
			#modifier = {
			#	factor = 2
			#	FROM = {
			#		is_major = yes
			#	}
			#}
		}

		allowed = {
			original_tag = GER
		}

		days_remove = 365

		custom_cost_trigger = {
			command_power > 24
			has_army_experience > 14
		}

		custom_cost_text = decision_cost_CP_25_ArmXP_15

		visible = { has_completed_focus = GER_establish_the_afrikakorps }

		available = { #Can't be target_root_trigger
			NOT = {	has_country_flag = GER_operational_planning_flag }
			OR = {
				has_war_with = FROM
				has_wargoal_against = FROM
			}
			hidden_trigger = {
				has_completed_focus = GER_establish_the_afrikakorps
			}
		}

		target_array = ROOT.GER_war_targets_array

		target_trigger = { #TODO_Danne This needs to be refined! 
			FROM = {
				has_war_with = ROOT
				any_controlled_state = {
					is_on_continent = africa
					any_neighbor_state = {
						is_controlled_by_ROOT_or_ally = yes
					}
				}
			}
		}

		fire_only_once = yes
		
		complete_effect = {
			hidden_effect = {
				add_command_power = -25
				army_experience = -15
				set_country_flag = GER_operational_planning_flag
			}
			if = {
				limit = {
					has_completed_focus = GER_adopt_new_panzer_doctrine
				}
				if = { #It's easier to make this a separate modifier and using scripted loc to display the effects in the "main" state modifier
					limit = {
						has_completed_focus = GER_panzergrenadier
					}
					hidden_effect= {
						every_state = {
							limit = {
								is_controlled_by = FROM
								is_on_continent = africa
							}
							add_dynamic_modifier = {
								modifier = GER_motor_and_mech_attack_modifier
								scope = GER
								days = 45
							}
						}
					}
				}
				if = { #Add basic Blitzkrieg modifier
					limit = {
						has_completed_focus = GER_adopt_new_panzer_doctrine
						NOT = { has_completed_focus = GER_advanced_panzer_research }
					}
					every_state = {
						limit = {
							is_controlled_by = FROM
							is_on_continent = africa
						}
						add_dynamic_modifier = {
							modifier = GER_blitzkrieg_modifier
							scope = GER
							days = 45
						}
					}
				}
				else_if = { #Add Blitzkrieg Level 2
					limit = {
						has_completed_focus = GER_advanced_panzer_research
						NOT = { has_completed_focus = GER_expand_kummersdorfs_capacity }
					}
					every_state = {
						limit = {
							is_controlled_by = FROM
							is_on_continent = africa
						}
						add_dynamic_modifier = {
							modifier = GER_blitzkrieg_modifier_lvl_2
							scope = GER
							days = 45
						}
					}
				}
				else_if = { #Add Blitzkrieg Level 3
					limit = {
						has_completed_focus = GER_expand_kummersdorfs_capacity
					}
					every_state = {
						limit = {
							is_controlled_by = FROM
							is_on_continent = africa
						}
						add_dynamic_modifier = {
							modifier = GER_blitzkrieg_modifier_lvl_3
							scope = GER
							days = 45
						}
					}
				}
				hidden_effect = { #This removes the GER_operational_planning_flag, enabling Germany to do the decision again. remove_effect won't work if the country in question capitulates
					country_event = { id = wuw_GER_military_events.1 days = 45 } 
				}
			}
			#BEWEGUNGSKRIEG
			else_if = {
				limit = {
					has_completed_focus = GER_the_prussian_legacy
				}
				if = { #It's easier to make this a separate modifier and using scripted loc to display the effects in the "main" state modifier
					limit = {
						has_completed_focus = GER_panzergrenadier
					}
					hidden_effect= {
						every_state = {
							limit = {
								is_controlled_by = FROM
								is_on_continent = africa
							}
							add_dynamic_modifier = {
								modifier = GER_motor_and_mech_attack_modifier
								scope = GER
								days = 90
							}
						}
					}
				}
				if = { #Add basic bewegungskrieg modifier
					limit = {
						has_completed_focus = GER_the_prussian_legacy
						NOT = { has_completed_focus = GER_lessons_of_the_great_war }
					}
					every_state = {
						limit = {
							is_controlled_by = FROM
							is_on_continent = africa
						}
						add_dynamic_modifier = {
							modifier = GER_bewegungskrieg_modifier
							scope = GER
							days = 90
						}
					}
				}
				else_if = { #Add bewegungskrieg Level 2
					limit = {
						has_completed_focus = GER_lessons_of_the_great_war
						NOT = { has_completed_focus = GER_artillery_bombardment }
					}
					every_state = {
						limit = {
							is_controlled_by = FROM
							is_on_continent = africa
						}
						add_dynamic_modifier = {
							modifier = GER_bewegungskrieg_modifier_lvl_2
							scope = GER
							days = 90
						}
					}
				}
				else_if = { #Add bewegungskrieg Level 3
					limit = {
						has_completed_focus = GER_artillery_bombardment
						NOT = { has_completed_focus = GER_stormtroopers }
					}
					every_state = {
						limit = {
							is_controlled_by = FROM
							is_on_continent = africa
						}
						add_dynamic_modifier = {
							modifier = GER_bewegungskrieg_modifier_lvl_3
							scope = GER
							days = 90
						}
					}
				}
				else_if = { #Add bewegungskrieg Level 4
					limit = {
						has_completed_focus = GER_stormtroopers
					}
					every_state = {
						limit = {
							is_controlled_by = FROM
							is_on_continent = africa
						}
						add_dynamic_modifier = {
							modifier = GER_bewegungskrieg_modifier_lvl_4
							scope = GER
							days = 90
						}
					}
				}				
				hidden_effect = { #This removes the GER_operational_planning_flag, enabling Germany to do the decision again. remove_effect won't work if the country in question capitulates
					country_event = { id = wuw_GER_military_events.1 days = 90 } 
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
		}
		remove_effect = {
		}
	}
}

GER_price_controls_cat = {
	GER_guns_before_butter = {

		icon = GFX_decision_ger_military_buildup

		ai_will_do = {
			base = 5
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.2 }
			}
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.3 }
			}
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.4 }
			}
			modifier = {
				factor = 0
				check_variable = { GER_industrial_consumer_goods_factor < 0.1 }
			}
		}

		available = {
		}

		visible = { #This decision is not available for the 1939 Start
			NOT = { has_country_flag = GER_inactivate_price_control_measures_flag }
		}

		cost = 30

		fire_only_once = yes

		complete_effect = {
			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_consumer_goods_factor = -0.05
				tooltip = consumer_goods_factor_tt
			}
			GER_reduce_mefo_bills_penalty = yes
			add_war_support = 0.025
		}
	}

	GER_arbeit_und_brot = {

		icon = GFX_decision_generic_political_address

		ai_will_do = {
			base = 5
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.2 }
			}
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.3 }
			}
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.4 }
			}
			modifier = {
				factor = 0
				check_variable = { GER_industrial_consumer_goods_factor < 0.1 }
			}
		}

		available = {
		}

		visible = { #This decision is not available for the 1939 Start
			NOT = { has_country_flag = GER_inactivate_price_control_measures_flag }
		}

		cost = 30

		fire_only_once = yes

		complete_effect = {
			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_consumer_goods_factor = -0.05
				tooltip = consumer_goods_factor_tt
			}
			GER_reduce_mefo_bills_penalty = yes
			add_popularity = { ideology = ROOT popularity = 0.025 }
		}
	}
	GER_collect_scrap_metal = {

		icon = GFX_decision_steel

		ai_will_do = {
			base = 5
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.2 }
			}
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.3 }
			}
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.4 }
			}
			modifier = {
				factor = 0
				check_variable = { GER_industrial_consumer_goods_factor < 0.1 }
			}
		}

		available = {
		}

		visible = { #This decision is not available for the 1939 Start
			NOT = { has_country_flag = GER_inactivate_price_control_measures_flag }
		}

		cost = 30

		fire_only_once = yes

		complete_effect = {
			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_consumer_goods_factor = -0.05
				tooltip = consumer_goods_factor_tt
			}
			GER_reduce_mefo_bills_penalty = yes
			add_timed_idea = {
				idea = GER_collect_scrap_metal_ns
				days = 90
			}
		}
	}
	GER_ersatz_material = {

		icon = GFX_decision_generic_consumer_goods

		ai_will_do = {
			base = 5
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.2 }
			}
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.3 }
			}
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.4 }
			}
			modifier = {
				factor = 0
				check_variable = { GER_industrial_consumer_goods_factor < 0.1 }
			}
		}

		available = {
			has_completed_focus = GER_coal_liquefaction
		}

		visible = { #This decision is not available for the 1939 Start
			NOT = { has_country_flag = GER_inactivate_price_control_measures_flag }
		}

		cost = 30

		fire_only_once = yes

		complete_effect = {
			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_consumer_goods_factor = -0.05
				tooltip = consumer_goods_factor_tt
			}
			GER_reduce_mefo_bills_penalty = yes
		}
	}
	GER_import_tariffs = {

		icon = GFX_decision_eng_trade_unions_demand

		ai_will_do = {
			base = 2.5
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.2 }
			}
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.3 }
			}
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.4 }
			}
			modifier = {
				factor = 0
				check_variable = { GER_industrial_consumer_goods_factor < 0.1 }
			}
		}

		available = {
		}

		visible = { #This decision is not available for the 1939 Start
			NOT = { has_country_flag = GER_inactivate_price_control_measures_flag }
		}

		cost = 15

		fire_only_once = yes

		complete_effect = {
			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_consumer_goods_factor = -0.15
				tooltip = consumer_goods_factor_tt
			}
			GER_reduce_mefo_bills_penalty = yes
			add_timed_idea = {
				idea = GER_import_tariffs_ns
				days = 365
			}
		}
	}
	GER_implement_rations = {

		icon = GFX_decision_eng_trade_unions_support

		ai_will_do = {
			base = 2.5
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.2 }
			}
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.3 }
			}
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.4 }
			}
			modifier = {
				factor = 0
				check_variable = { GER_industrial_consumer_goods_factor < 0.1 }
			}
		}

		available = {
			has_stability > 0.2
		}

		visible = { #This decision is not available for the 1939 Start
			NOT = { has_country_flag = GER_inactivate_price_control_measures_flag }
		}

		cost = 15

		fire_only_once = yes

		complete_effect = {
			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_consumer_goods_factor = -0.1
				tooltip = consumer_goods_factor_tt
			}
			GER_reduce_mefo_bills_penalty = yes
			add_stability = -0.025
		}
	}
	GER_implement_wage_controls = {

		icon = GFX_decision_hol_attract_foreign_investors

		ai_will_do = {
			base = 2.5
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.2 }
			}
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.3 }
			}
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.4 }
			}
			modifier = {
				factor = 0
				check_variable = { GER_industrial_consumer_goods_factor < 0.1 }
			}
		}

		available = {
			has_stability > 0.2
		}

		visible = { #This decision is not available for the 1939 Start
			NOT = { has_country_flag = GER_inactivate_price_control_measures_flag }
		}

		cost = 15

		fire_only_once = yes

		complete_effect = {
			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_consumer_goods_factor = -0.1
				tooltip = consumer_goods_factor_tt
			}
			GER_reduce_mefo_bills_penalty = yes
			add_stability = -0.025
		}
	}
	GER_exploit_the_gombos_treaty = {

		icon = GFX_decision_generic_fundraising

		ai_will_do = {
			base = 1
			modifier = {
				factor = 1.2
				check_variable = { GER_industrial_consumer_goods_factor > 0.3 }
			}
			modifier = {
				factor = 1.3
				check_variable = { GER_industrial_consumer_goods_factor > 0.5 }
			}
			modifier = {
				factor = 1.5
				check_variable = { GER_industrial_consumer_goods_factor > 0.7 }
			}
			modifier = {
				factor = 0
				check_variable = { GER_industrial_consumer_goods_factor < 0.1 }
			}
			modifier = {
				factor = 0
				is_historical_focus_on = yes 
			}
		}

		visible = {
			has_dlc = "Gotterdammerung"
			NOT = {
				OR = {
					is_in_faction_with = HUN
					has_guaranteed = HUN
				}
			}
			HUN = {
				exists = yes
				has_capitulated = no
			}
		}

		available = {
			HUN = {
				has_idea = HUN_gombos_trade_treaty
				NOT = {
					is_in_faction_with = ROOT
				}
			}
		}

		cost = 30

		fire_only_once = yes

		complete_effect = {
			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_consumer_goods_factor = -0.15
				tooltip = consumer_goods_factor_tt
			}
			custom_effect_tooltip = GER_exploit_the_gombos_treaty_tt
			GER_reduce_mefo_bills_penalty = yes
			custom_effect_tooltip = generic_skip_one_line_tt

			HUN = {
				country_event = {
					id = wuw_GER_diplomacy.56
					hours = 2
				}	
			}
			effect_tooltip = {
				HUN = {
					add_opinion_modifier = {
						target = ROOT
						modifier = GER_stole_our_money_opm
					}	
					remove_ideas = HUN_gombos_trade_treaty
				}
			}
		}
	}
}

GER_fortify_the_vaterland_cat = {
	GER_construct_the_westwall = {
		icon = GFX_decision_generic_fortification
		ai_will_do = {
			base = 10
			modifier = {
				factor = 3
				OR = {
					has_war_with = HOL
					has_war_with = BEL
					has_war_with = FRA
					has_war_with = ENG
				}
			}
			modifier = {
				factor = 2
				OR = {
					has_wargoal_against = HOL
					has_wargoal_against = BEL
					has_wargoal_against = FRA
				}
			}
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}

		visible = {
			NOT = {
				has_country_flag = GER_constructed_the_westwall
			}
		}

		available = {
			51 = { #Rineland
				is_fully_controlled_by = ROOT
				is_demilitarized_zone = no
			}
			42 = { #Moselland
				is_fully_controlled_by = ROOT
				is_demilitarized_zone = no
			}
			978 = { #Baden
				is_fully_controlled_by = ROOT
				is_demilitarized_zone = no
			}
			NOT = { has_country_flag = GER_constructing_forts_flag }
		}

		days_remove = 90

		fire_only_once = yes

		ai_hint_pp_cost = 15
		custom_cost_trigger = {
			command_power > GER_fort_construction_cp_cost
			has_political_power > GER_fort_construction_pp_cost
		}
		custom_cost_text = decision_cost_CP_25_pp_15

		modifier = {
			civilian_factory_use = 2
		}

		cancel_trigger = {
			NOT = { 
				has_full_control_of_state = 51 #Rineland
				has_full_control_of_state = 42 #Moselland
				has_full_control_of_state = 978 #Baden
			}
		}

		cancel_effect = {
			clr_country_flag = GER_constructing_forts_flag
		}

		complete_effect = {
			set_country_flag = GER_constructing_forts_flag

			hidden_effect = {
				add_command_power = GER_fort_construction_cp_payment
				add_political_power = GER_fort_construction_pp_payment
			}
		}

		remove_effect = {
			clr_country_flag = GER_constructing_forts_flag

			custom_effect_tooltip = GER_construct_westwall_tt
			hidden_effect = {
				if = {
					limit = {
						51 = { #Rhineland
							any_province_building_level = {
								province = {
									id = 3444
									id = 9522
									id = 3547
								}
								building = bunker
								level < 4 
							}
						}

					}
					51 = { #Rhineland
						add_building_construction = {
							type = bunker
							level = 2
							province = {
								id = 3444
								id = 9522
								id = 3547
							}
							instant_build = yes
						}
					}
				}
				if = {
					limit = {
						42 = { #Moselland
							any_province_building_level = {
								province = {
									id = 11470
									id = 11435
									id = 9575
									id = 11531
									id = 563
									id = 3558
								}
								building = bunker
								level < 4 
							}
						}

					}
					42 = { #Moselland
						add_building_construction = {
							type = bunker
							level = 2
							province = {
								id = 11470
								id = 11435
								id = 9575
								id = 11531
								id = 563
								id = 3558
							}
							instant_build = yes
						}
					}
				}
				if = {
					limit = {
						978 = { #Baden
							any_province_building_level = {
								province = {
									id = 3530
									id = 6568
									id = 6542
									id = 6712
									id = 11640
								}
								building = bunker
								level < 4
							}
						}

					}
					978 = { #Baden
						add_building_construction = {
							type = bunker
							level = 2
							province = {
								id = 3530
								id = 6568
								id = 6542
								id = 6712
								id = 11640
							}
							instant_build = yes
						}
					}
				}
			}
			hidden_effect = {
				set_country_flag = GER_constructed_the_westwall
			}
		}
	}

	GER_construct_the_ostwall = {
		icon = GFX_decision_generic_fortification
		ai_will_do = {
			base = 10
			modifier = {
				factor = 5
				has_war_with = SOV
				195 = { state_is_fully_controlled_by_ROOT_subject_or_faction_member = no } #Leningrad
				219 = { state_is_fully_controlled_by_ROOT_subject_or_faction_member = no } #Moskow
				217 = { state_is_fully_controlled_by_ROOT_subject_or_faction_member = no } #Stalingrad
				date > "1943.1.1"
			}
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}

		visible = {
		}

		available = { 
			custom_trigger_tooltip = {
				tooltip = GER_controls_dnieper_rive_tt
				813 = { #Virumaa
					state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
				}
				209 = { #Pskov
					state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
				}
				210 = { #Nevel
					state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
				}
				207 = { #Vitebsk
					state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
				}
				206 = { #Minsk
					state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
				}
				204 = { #Bobruysk
					state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
				}
				194 = { #Mozyr
					state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
				}
				202 = { #Kyiv
					state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
				}
				203 = { #Cherkasy
					state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
				}
				226 = { #Dnipropetrovsk
					state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
				}
				200 = { #Zaporozhe
					state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
				}
			}
			NOT = { has_country_flag = GER_constructing_forts_flag }
		}

		days_remove = 180

		fire_only_once = yes

		ai_hint_pp_cost = 15
		custom_cost_trigger = {
			command_power > GER_fort_construction_cp_cost
			has_political_power > GER_fort_construction_pp_cost
		}
		custom_cost_text = decision_cost_CP_25_pp_15

		modifier = {
			civilian_factory_use = 5
		}

		cancel_trigger = {
			custom_trigger_tooltip = {
				tooltip = GER_not_controls_dnieper_rive_tt
				OR = {
					813 = { #Virumaa
						state_is_fully_controlled_by_ROOT_subject_or_faction_member = no
					}
					209 = { #Pskov
						state_is_fully_controlled_by_ROOT_subject_or_faction_member = no
					}
					210 = { #Nevel
						state_is_fully_controlled_by_ROOT_subject_or_faction_member = no
					}
					207 = { #Vitebsk
						state_is_fully_controlled_by_ROOT_subject_or_faction_member = no
					}
					206 = { #Minsk
						state_is_fully_controlled_by_ROOT_subject_or_faction_member = no
					}
					204 = { #Bobruysk
						state_is_fully_controlled_by_ROOT_subject_or_faction_member = no
					}
					194 = { #Mozyr
						state_is_fully_controlled_by_ROOT_subject_or_faction_member = no
					}
					202 = { #Kyiv
						state_is_fully_controlled_by_ROOT_subject_or_faction_member = no
					}
					203 = { #Cherkasy
						state_is_fully_controlled_by_ROOT_subject_or_faction_member = no
					}
					226 = { #Dnipropetrovsk
						state_is_fully_controlled_by_ROOT_subject_or_faction_member = no
					}
					200 = { #Zaporozhe
						state_is_fully_controlled_by_ROOT_subject_or_faction_member = no
					}
				}
			}
		}

		cancel_effect = {
			clr_country_flag = GER_constructing_forts_flag
		}

		complete_effect = {
			set_country_flag = GER_constructing_forts_flag

			hidden_effect = {
				add_command_power = GER_fort_construction_cp_payment
				add_political_power = GER_fort_construction_pp_payment
			}
		}

		remove_effect = {
			clr_country_flag = GER_constructing_forts_flag

			custom_effect_tooltip = GER_construct_ostwall_tt
			effect_tooltip = {	
				every_state = {
					limit = { 
						state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
						bunker < 10
						OR = { #From the Baltic to Azov
							state = 813 #Virumaa
							state = 209 #Pskov
							state = 210 #Nevel
							state = 207 #Vitebsk
							state = 206 #Minsk
							state = 204 #Bobruysk
							state = 194 #Mozyr
							state = 202 #Kyiv
							state = 203 #Cherkasy
							state = 226 #Dnipropetrovsk
							state = 200 #Zaporozhe
						}
					}
					add_building_construction = {
						type = bunker
						level = 1
						instant_build = yes
						province = {
							all_provinces = yes
					    }
					}
				}
			}
			if = {
				limit = { 
					813 = {
						state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
					}
				}
				hidden_effect = {
					813 = {
						add_building_construction = {
							type = bunker
							level = 2
							province = 4640
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					209 = {
						state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
					}
				}
				hidden_effect = {
					209 = {
						add_building_construction = {
							type = bunker
							level = 1
							province = 415
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 1
							province = 3310
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					210 = {
						state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
					}
				}
				hidden_effect = {
					210 = {
						add_building_construction = {
							type = bunker
							level = 1
							province = 3333
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 1
							province = 11259
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 1
							province = 9386
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					207 = {
						state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
					}
				}
				hidden_effect = {
					207 = {
						add_building_construction = {
							type = bunker
							level = 1
							province = 323
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 11241
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 1
							province = 11220
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 1
							province = 3331
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					206 = {
						state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
					}
				}
				hidden_effect = {
					206 = {
						add_building_construction = {
							type = bunker
							level = 1
							province = 9289
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 1
							province = 3378
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					204 = {
						state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
					}
				}
				hidden_effect = {
					204 = {
						add_building_construction = {
							type = bunker
							level = 1
							province = 6373
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					194 = {
						state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
					}
				}
				hidden_effect = {
					194 = {
						add_building_construction = {
							type = bunker
							level = 1
							province = 6319
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 1
							province = 9249
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 1
							province = 3507
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					202 = {
						state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
					}
				}
				hidden_effect = {
					202 = {
						add_building_construction = {
							type = bunker
							level = 1
							province = 9568
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 1
							province = 3543
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 525
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 1
							province = 3494
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					203 = {
						state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
					}
				}
				hidden_effect = {
					203 = {
						add_building_construction = {
							type = bunker
							level = 1
							province = 11454
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 1
							province = 488
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 1
							province = 3468
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 1
							province = 6478
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					226 = {
						state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
					}
				}
				hidden_effect = {
					226 = {
						add_building_construction = {
							type = bunker
							level = 1
							province = 9433
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 11437
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					200 = {
						state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
					}
				}
				hidden_effect = {
					200 = {
						add_building_construction = {
							type = bunker
							level = 2
							province = 11405
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 1
							province = 6596
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 1
							province = 11700
							instant_build = yes
						}
					}
				}
			}
		}
	}
	GER_construct_the_alpenwall = {
		icon = GFX_decision_generic_mountain_fortification
		ai_will_do = {
			base = 10
			modifier = {
				factor = 2
				has_wargoal_against = ITA
			}
			modifier = {
				factor = 3
				any_enemy_country = {
					OR = {
						controls_state = 158 #Piemonte
						controls_state = 159 #Lombardia
						controls_state = 39 #Alto Adige
						controls_state = 160 #Veneto
						controls_state = 161 #Emilia Romagna
					}

				}
			}
		}

		visible = {
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = GER_controls_the_alps_tt
				845 = { #Jura Mountains
					state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
				}
				847 = { #Western Swiss Alps
					state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
				}
				151 = { #Eastern Swiss Alps
					state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
				}
				153 = { #Tirol
					state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
				}
				976 = { #Steiremark
					state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
				}
			}
			NOT = { has_country_flag = GER_constructing_forts_flag }
		}

		days_remove = 90

		fire_only_once = yes

		ai_hint_pp_cost = 15
		custom_cost_trigger = {
			command_power > GER_fort_construction_cp_cost
			has_political_power > GER_fort_construction_pp_cost
		}
		custom_cost_text = decision_cost_CP_25_pp_15

		modifier = {
			civilian_factory_use = 4
		}

		cancel_trigger = {
			custom_trigger_tooltip = {
				tooltip = GER_not_controls_the_alps_tt
				OR = {
					845 = { #Jura Mountains
						state_is_fully_controlled_by_ROOT_subject_or_faction_member = no
					}
					847 = { #Western Swiss Alps
						state_is_fully_controlled_by_ROOT_subject_or_faction_member = no
					}
					151 = { #Eastern Swiss Alps
						state_is_fully_controlled_by_ROOT_subject_or_faction_member = no
					}
					153 = { #Tirol
						state_is_fully_controlled_by_ROOT_subject_or_faction_member = no
					}
					976 = { #Steiremark
						state_is_fully_controlled_by_ROOT_subject_or_faction_member = no
					}
				}
			}
		}

		cancel_effect = {
			clr_country_flag = GER_constructing_forts_flag
		}

		complete_effect = {
			set_country_flag = GER_constructing_forts_flag

			hidden_effect = {
				add_command_power = GER_fort_construction_cp_payment
				add_political_power = GER_fort_construction_pp_payment
			}
		}

		remove_effect = {
			clr_country_flag = GER_constructing_forts_flag

			custom_effect_tooltip = GER_construct_alpenwall_tt
			effect_tooltip = {	
				every_state = {
					limit = { 
						state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
						bunker < 10
						OR = {
							state = 845 #Jura Mountains
							state = 847 #Western Swiss Alps
							state = 151 #Eastern Swiss Alps
							state = 153 #Tirol
							state = 976 #Steiremark
						}
					}
					add_building_construction = {
						type = bunker
						level = 1
						instant_build = yes
						province = {
							all_provinces = yes
					    }
					}
				}
			}
			if = {
				limit = { 
					845 = {
						state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
						bunker < 10
					}
				}
				hidden_effect = {
					845 = {
						add_building_construction = {
							type = bunker
							level = 1
							province = 9638
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 1
							province = 6683
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 1
							province = 9622
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 1
							province = 6666
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 1
							province = 4640
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					847 = {
						state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
						bunker < 10
					}
				}
				hidden_effect = {
					847 = {
						add_building_construction = {
							type = bunker
							level = 1
							province = 636
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					151 = {
						state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
						bunker < 10
					}
				}
				hidden_effect = {
					151 = {
						add_building_construction = {
							type = bunker
							level = 1
							province = 658
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					153 = {
						state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
						bunker < 10
					}
				}
				hidden_effect = {
					153 = {
						add_building_construction = {
							type = bunker
							level = 1
							province = 11618
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 1
							province = 671
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 1
							province = 6673
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					976 = {
						state_is_fully_controlled_by_ROOT_subject_or_faction_member = yes
						bunker < 10
					}
				}
				hidden_effect = {
					976 = {
						add_building_construction = {
							type = bunker
							level = 1
							province = 11612
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 1
							province = 653
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 1
							province = 9646
							instant_build = yes
						}
					}
				}
			}
		}
	}
	GER_construct_the_atlantik_wall = {
		icon = GFX_decision_generic_mountain_fortification

		visible = {
		}

		available = {
			EFR = { has_country_flag = vichy_france_established }
		}

		days_remove = 90

		fire_only_once = yes

		ai_hint_pp_cost = 15
		custom_cost_trigger = {
			command_power > GER_fort_construction_cp_cost
			has_political_power > GER_fort_construction_pp_cost
		}
		custom_cost_text = decision_cost_CP_25_pp_15

		modifier = {
			civilian_factory_use = 10
		}

		cancel_trigger = {
		}

		cancel_effect = {
			clr_country_flag = GER_constructing_forts_flag
		}

		complete_effect = {
			set_country_flag = GER_constructing_forts_flag

			hidden_effect = {
				add_command_power = GER_fort_construction_cp_payment
				add_political_power = GER_fort_construction_pp_payment
			}
		}
		remove_effect = {
			add_ideas = GER_atlantikwall_idea
			every_state = { 
				limit = { 
					atlantikwall_states = yes
				}
				set_building_level = {
					type = coastal_bunker
					level = 5
					province = {
						all_provinces = yes
						limit_to_coastal = yes
						level < 7
					}
				}
			}
			hidden_effect = {
				if = {
					limit = {
						any_country = { axis = yes controls_state = 456 }
					}
					every_state = {
						limit = {
							atlantikwall_states = yes
							is_controlled_by = GER
							NOT = { is_core_of = NOR }
						}
						add_dynamic_modifier = {
							modifier = Atlantikwall_modifier
						}
					}			
				}
			}

			custom_effect_tooltip = atlantikwall_modifier_tt
		}
	}
}

GER_hilfskreuzer_cat = {
	GER_refit_convoys_to_cruisers = {
		icon = GFX_decision_generic_merge_plant_ship

		ai_will_do = {
			base = 10
			modifier = {
				factor = 1.5
				has_equipment = {
	   				convoy > 200
		  		}
			}
			modifier = {
				factor = 2
				has_equipment = {
	   				convoy > 300
		  		}
			}
			modifier = {
				factor = 2
				has_equipment = {
	   				convoy > 500
		  		}
			}
		}

		cost = 25

		custom_cost_text = decision_cost_20_convoy_10_NavXP

		custom_cost_trigger = {
			has_navy_experience > 9
			has_equipment = {
				convoy > 19
			}
		}

		fire_only_once = no
		available = {	
			has_equipment = {
   				convoy > 19
	  		}
		}
		days_remove = 25

		complete_effect = {
			#add_equipment_to_stockpile = { 
			#	type = convoy_1
			#	amount = -20 
			#}
		}
		remove_effect = {
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				if = {
					limit = {
						NOT = { has_country_flag = GER_create_merchant_raider_variant }
					}
					set_country_flag = GER_create_merchant_raider_variant
					create_equipment_variant = {
						name = "Hilfskreuzer"				
						type = ship_hull_cruiser_1
						name_group = GER_MR_HISTORICAL #Merchant Raider names
						parent_version = 0
						modules = {
							fixed_ship_battery_slot = ship_light_battery_2
							fixed_ship_anti_air_slot = empty
							fixed_ship_fire_control_system_slot = ship_fire_control_system_0
							fixed_ship_radar_slot = empty
							fixed_ship_engine_slot = cruiser_ship_engine_1
							fixed_ship_armor_slot = ship_armor_cruiser_1
							fixed_ship_secondaries_slot = dp_ship_secondaries_1
							mid_1_custom_slot = ship_torpedo_1
							mid_2_custom_slot = empty
							rear_1_custom_slot = ship_light_battery_1
						}
						obsolete = yes
					}
				}
				create_ship = {
					type = ship_hull_cruiser_1
					equipment_variant = "Hilfskreuzer"
					creator = ROOT
				}
			}
			else = {
				if = {
					limit = {
						NOT = { has_country_flag = GER_create_merchant_raider_variant }
					}
					set_country_flag = GER_create_merchant_raider_variant
					create_equipment_variant = {
						name = "Hilfskreuzer"
						type = light_cruiser_1
						upgrades = {
							ship_reliability_upgrade = 0
							ship_engine_upgrade = 0
							ship_gun_upgrade = 0
							ship_anti_air_upgrade = 0
						}
						obsolete = yes
					}
				}
				create_ship = {
					type = light_cruiser_1
					equipment_variant = "Hilfskreuzer"
					creator = ROOT
				}
			}
		}
	}
}

operations = {

	GER_barbarossa_mission = {

		icon = generic_operation

		allowed = {
			always = no
			#added through on_action
		}

		available = {
			
			219 = {	#MOSCOW
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					controller = {
						original_tag = FIN
						has_completed_focus = FIN_cooperation_with_germany
					}
				}
			}

			195 = {	#LENINGRAD
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					controller = {
						original_tag = FIN
						has_completed_focus = FIN_cooperation_with_germany
					}
				}
			}

			202 = {	#KIEV
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					controller = {
						original_tag = FIN
						has_completed_focus = FIN_cooperation_with_germany
					}
				}
			}

			217 = {	#STALINGRAD
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					controller = {
						original_tag = FIN
						has_completed_focus = FIN_cooperation_with_germany
					}
				}
			}
		}

		days_mission_timeout = 180
		fire_only_once = yes

		activation = {

		}

		is_good = no

		complete_effect = {
			add_war_support = 0.1
			custom_effect_tooltip = barbarossa_mission_tt
		}

		timeout_effect = {

		}

		ai_will_do = {
			factor = 1
		}
	}
}

# REICHSKOMMISARIATS 
GER_reichskommissariats = {

	GER_reichskommissariat_norwegen = {

		icon = ger_reichskommissariats

		priority = 98

		visible = {
		}

		fire_only_once = yes

		available = {
			custom_trigger_tooltip = {
				tooltip = GER_reichskommissariat_highlighted_required_states_60_comp
				110 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				142 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				143 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				144 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				920 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				921 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				922 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				923 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				924 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				925 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				110 = {
					compliance > 60
				}
				142 = {
					compliance > 60
				}
				143 = {
					compliance > 60
				}
				144 = {
					compliance > 60
				}
				920 = {
					compliance > 60
				}
				921 = {
					compliance > 60
				}
				922 = {
					compliance > 60
				}
				923 = {
					compliance > 60
				}
				924 = {
					compliance > 60
				}
				925 = {
					compliance > 60
				}
			}
		}

		highlight_states = {
			highlight_state_targets = {
				state = 110
				state = 142
				state = 143
				state = 144
				state = 920
				state = 921
				state = 922
				state = 923
				state = 924
				state = 925
			}
		}

		cost = 25

		ai_will_do = {
			base = 10
			modifier = {
				add = 50
				ENG = { has_capitulated = yes }
			}
			modifier = {
				add = 25
				NOR = { has_capitulated = yes }
			}
			modifier = {
				add = 25
				NOR = { exists = no }
			}
		}

		complete_effect = {

			GER_improve_rosenbergs_trait_effect = yes
			hidden_effect = {
				every_state = {
					limit = {
						GER_is_RKG_state = yes
					}
					set_state_flag = established_RKG_flag
				}
			}
		}
	}

	GER_reichskommissariat_niederlande = {

		icon = ger_reichskommissariats

		priority = 99

		fire_only_once = yes

		visible = {
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = GER_reichskommissariat_highlighted_required_states_60_comp
				7 = {
					compliance > 60
				}
				35 = {
					compliance > 60
				}
				36 = {
					compliance > 60
				}
				7 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				35 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				36 = {
					is_controlled_by_ROOT_or_subject = yes
				}
			}
		}

		highlight_states = {
			highlight_state_targets = {
				state = 7
				state = 35
				state = 36
			}
		}


		cost = 25

		ai_will_do = {
			base = 10
			modifier = {
				add = 50
				ENG = { has_capitulated = yes }
			}
			modifier = {
				add = 15
				HOL = { has_capitulated = yes }
			}
			modifier = {
				add = 25
				HOL = { exists = no }
			}
		}

		complete_effect = {

			GER_improve_rosenbergs_trait_effect = yes
			hidden_effect = {
				every_state = {
					limit = {
						GER_is_RKN_state = yes
					}
					set_state_flag = established_RKN_flag
				}
			}			
		}
	}

	GER_reichskommissariat_belgien_nordfrankreich = {

		icon = ger_reichskommissariats

		fire_only_once = yes

		visible = {
		}

		priority = 100

		available = {
			custom_trigger_tooltip = {
				tooltip = GER_reichskommissariat_highlighted_required_states_60_comp
				6 = {
					compliance > 60
				}
				29 = {
					compliance > 60
				}
				34 = {
					compliance > 60
				}
				977 = {
					compliance > 60
				}
				980 = {
					compliance > 60
				}
				6 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				29 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				34 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				977 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				980 = {
					is_controlled_by_ROOT_or_subject = yes
				}
			}
		}

		highlight_states = {
			highlight_state_targets = {
				state = 6
				state = 29
				state = 34
				state = 977
				state = 980
			}
		}

		cost = 25

		ai_will_do = {
			base = 10
			modifier = {
				add = 50
				ENG = { has_capitulated = yes }
			}
			modifier = {
				add = 15
				BEL = { has_capitulated = yes }
			}
			modifier = {
				add = 25
				BEL = { exists = no }
			}
		}

		complete_effect = {

			GER_improve_rosenbergs_trait_effect = yes
			hidden_effect = {
				every_state = {
					limit = {
						GER_is_RKB_state = yes
					}
					set_state_flag = established_RKB_flag
				}
			}						
		}
	}

	GER_reichskommissariat_ostland = {

		icon = ger_reichskommissariats

		fire_only_once = yes

		priority = 97

		visible = {
			always = no
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = GER_reichskommissariat_highlighted_required_states
				94 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				95 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				96 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				194 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				204 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				206 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				11 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				784 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				189 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				12 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				190 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				13 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				191 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				814 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				815 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				809 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				808 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				810 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				813 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				812 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				811 = {
					is_controlled_by_ROOT_or_subject = yes
				}
			}
		}

		cost = 25

		ai_will_do = {
			base = 5
			modifier = {
				add = 50
				SOV = { has_capitulated = yes }
			}
			modifier = {
				add = 50
				SOV = { exists = no }
			}
			modifier = {
				add = 5
				LIT = { exists = no }
			}
			modifier = {
				add = 15
				POL = { exists = no }
			}
		}

		highlight_states = {
			highlight_state_targets = {
				state = 94
				state = 95
				state = 96
				state = 194
				state = 204
				state = 206
				state = 11
				state = 784
				state = 189
				state = 12
				state = 190
				state = 13
				state = 191
				state = 814
				state = 815
				state = 809
				state = 808
				state = 810
				state = 813
				state = 812
				state = 811
			}
		}

		complete_effect = {

			GER_improve_rosenbergs_trait_effect = yes
			
		}
	}

	GER_reichskommissariat_ukraine = {

		icon = ger_reichskommissariats

		priority = 96

		fire_only_once = yes

		visible = {
			always = no
		}

		available = {
			is_subject = no
			OR = {

				has_completed_focus = GER_reorganize_the_wehrmacht
			}
			custom_trigger_tooltip = {
				tooltip = GER_reichskommissariat_highlighted_required_states
				93 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				199 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				201 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				202 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				193 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				203 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				197 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				225 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				259 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				226 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				196 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				200 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				221 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				228 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				227 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				137 = {
					is_controlled_by_ROOT_or_subject = yes
				}
			}
		}

		highlight_states = {
			highlight_state_targets = {
				state = 93
				state = 199
				state = 201
				state = 202
				state = 193
				state = 203
				state = 197
				state = 225
				state = 259
				state = 226
				state = 196
				state = 200
				state = 221
				state = 228
				state = 227
				state = 137
			}
		}

		cost = 25

		ai_will_do = {
			base = 15
			modifier = {
				add = 25
				SOV = { has_capitulated = yes }
			}
			modifier = {
				add = 50
				SOV = { exists = no }
			
			}
		}

		complete_effect = {

			GER_improve_rosenbergs_trait_effect = yes
			
		}
	}

	GER_reichskommissariat_kaukasien = {

		icon = ger_reichskommissariats

		priority = 95

		fire_only_once = yes

		visible = {
			always = no
		}

		available = {
			is_subject = no
			OR = {

				has_completed_focus = GER_reorganize_the_wehrmacht
			}
			custom_trigger_tooltip = {
				tooltip = GER_reichskommissariat_highlighted_required_states
				231 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				230 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				229 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				826 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				232 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				821 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				828 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				827 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				233 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				234 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				235 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				237 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				236 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				238 = {
					is_controlled_by_ROOT_or_subject = yes
				}
			}
		}

		highlight_states = {
			highlight_state_targets = {
				state = 231
				state = 230
				state = 229
				state = 826
				state = 232
				state = 821
				state = 828
				state = 827
				state = 233
				state = 234
				state = 235
				state = 237
				state = 236
				state = 238
			}
		}

		cost = 25

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				SOV = { has_capitulated = yes }
			}
		}
		complete_effect = {

			GER_improve_rosenbergs_trait_effect = yes
			
		}
	}

	GER_reichskommissariat_turkestan = {

		icon = ger_reichskommissariats

		priority = 93

		fire_only_once = yes

		visible = {
			always = no
		}

		available = {
			is_subject = no
			OR = {

				has_completed_focus = GER_reorganize_the_wehrmacht
			}
			custom_trigger_tooltip = {
				tooltip = GER_reichskommissariat_highlighted_required_states
				405 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				742 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				830 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				584 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				832 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				831 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				823 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				587 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				585 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				732 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				404 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				586 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				402 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				406 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				407 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				583 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				881 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				589 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				590 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				588 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				882 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				654 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				40 = {
					is_controlled_by_ROOT_or_subject = yes
				}
			}
		}

		highlight_states = {
			highlight_state_targets = {
				state = 405
				state = 742
				state = 830
				state = 584
				state = 832
				state = 831
				state = 823
				state = 587
				state = 585
				state = 732
				state = 404
				state = 586
				state = 402
				state = 406
				state = 407
				state = 583
				state = 881
				state = 589
				state = 590
				state = 588
				state = 882
				state = 654
				state = 40
			}
		}

		cost = 25

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				SOV = { has_capitulated = yes }
			}
		}
		complete_effect = {

			GER_improve_rosenbergs_trait_effect = yes
			
		}
	}

	GER_reichskommissariat_moskowien = {

		icon = ger_reichskommissariats

		priority = 94

		fire_only_once = yes

		visible = {
			always = no
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = GER_reichskommissariat_highlighted_required_states
				219 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				205 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				242 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				243 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				241 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				207 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				224 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				210 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				246 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				209 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				263 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				208 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				195 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				244 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				264 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				247 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				223 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				222 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				220 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				240 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				258 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				260 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				265 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				245 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				218 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				217 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				351 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				248 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				253 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				254 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				257 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				252 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				255 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				239 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				250 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				879 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				880 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				214 = {
					is_controlled_by_ROOT_or_subject = yes
				}
			}
		}

		highlight_states = {
			highlight_state_targets = {
				state = 219
				state = 205
				state = 242
				state = 243
				state = 241 # Gomel
				state = 207 # Vitebsk
				state = 224
				state = 210
				state = 246
				state = 209
				state = 263
				state = 208
				state = 195 # Leningrad
				state = 244
				state = 264
				state = 247
				state = 223
				state = 222
				state = 220 
				state = 240
				state = 258
				state = 260
				state = 265
				state = 245
				state = 218 # Rostov
				state = 217 # Stalingrad
				state = 351
				state = 248
				state = 253
				state = 254
				state = 257
				state = 252
				state = 255
				state = 239
				state = 250
				state = 879 # Kargopol
				state = 880 # Kotlas
				state = 214 # Archangelsk
			}
		}

		cost = 25

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				SOV = { has_capitulated = yes }
			}
			modifier = {
				add = 10
				SOV = { exists = no }
			}
		}
		complete_effect = {

			GER_improve_rosenbergs_trait_effect = yes		
		}
	}

	GER_generalgouvernement = {

		icon = ger_reichskommissariats

		priority = 103

		fire_only_once = yes

		visible = {
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = GER_reichskommissariat_highlighted_required_states_70_comp
				10 = {
					compliance > 70 
				}
				90 = {
					compliance > 70 
				} 
				92 = {
					compliance > 70 
				}
				88  = {
					compliance > 70 
				}
				88 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				90 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				92 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				10 = {
					is_controlled_by_ROOT_or_subject = yes
				}			
			}
		}

		cost = 30

		ai_will_do = {
			base = 2
			modifier = {
				add = 25
				POL = { has_capitulated = yes }
			}
		}

		highlight_states = {
			highlight_state_targets = {
				state = 10 # Warsaw
				state = 90 # Kielce
				state = 92 # Lublin
				state = 88 # Krakow
			}
		}

		complete_effect = {

			GER_improve_rosenbergs_trait_effect = yes
			hidden_effect = {
				every_state = {
					limit = {
						GER_is_GEN_state = yes
					}
					set_state_flag = established_GEN_flag
				}
			}
		}
	}

	GER_reichsprotektorat_bohemia_moravia = {

		icon = ger_reichskommissariats

		priority = 102

		fire_only_once = yes

		visible = {
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = GER_reichskommissariat_highlighted_required_states_60_comp
				9 = {
					compliance > 60 
				}
				75 = {
					compliance > 60 
				} 
				9 = {
					is_controlled_by_ROOT_or_subject = yes
				}
				75 = {
					is_controlled_by_ROOT_or_subject = yes
				}		
			}
		}

		highlight_states = {
			highlight_state_targets = {
				state = 9 # Bohemia
				state = 75 # Moravia
			}
		}


		cost = 25

		ai_will_do = {
			base = 5
			modifier = {
				add = 50
				ENG = { has_capitulated = yes }
			}
			modifier = {
				add = 25
				CZE = { exists = no }
			}
		}
		complete_effect = {

			GER_improve_rosenbergs_trait_effect = yes
			hidden_effect = {
				every_state = {
					limit = {
						GER_is_RKH_state = yes
					}
					set_state_flag = established_RKH_flag
				}
			}
		}
	}

}

#Category only allowed for GER
GER_military_buildup = {

	GER_plan_z = {

		icon = generic_naval

		available = {
			has_navy_size = {
				unit = battleship
				size > 9
			}
			has_navy_size = {
				unit = battle_cruiser
				size > 2
			}
			has_navy_size = {
				unit = carrier
				size > 3
			}
			has_navy_size = {
				unit = heavy_cruiser
				size > 19
			}
			has_navy_size = {
				unit = light_cruiser
				size > 19
			}
			has_navy_size = {
				unit = destroyer
				size > 99
			}
		}

		fire_only_once = yes
		days_mission_timeout = 1800
		is_good = no
		activation = {
			has_completed_focus = GER_plan_z
		}


		visible = {
			has_completed_focus = GER_plan_z
		}

		complete_effect = {
			add_war_support = 0.05
			navy_experience = 150
		}


	}

	GER_jaegernotprogramm = {

		icon = generic_air

		available = {
			has_war = yes
			AND = {
				has_deployed_air_force_size = {
					type = fighter
					size < 750
				}
				has_equipment = {
					small_plane_airframe < 250
				}
			}
			NOT = {
				has_idea = GER_jaegernotprogramm
			}
		}

		cost = 50

		fire_only_once = yes

		ai_will_do = {
			base = 1
		}

		visible = {
			has_war = yes
			AND = {
				has_deployed_air_force_size = {
					type = fighter
					size < 750
				}
				has_equipment = {
					small_plane_airframe < 250
				}
			}
			NOT = {
				has_idea = GER_jaegernotprogramm
			}
		}

		complete_effect = {
			add_stability = -0.05
			add_war_support = -0.05
			add_timed_idea = { idea = GER_jaegernotprogramm days = 90 }
		}
	}
}

special_projects = {
	GER_begin_heavy_water_production = {
		allowed = {
			original_tag = GER
			has_dlc = "La Resistance"
		}
		available = {
			921 = {
				CONTROLLER = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
				}
			}
		}
		visible = { has_tech = atomic_research }
		cost = 0
		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				NOT = { has_government = fascism } 
			}
		}
		cancel_trigger = { NOT = { has_global_flag = GER_heavy_water_production_underway } } #can be removed via intelligence ops
		days_remove = 365
		remove_effect = {
			add_breakthrough_progress = {
				specialization = specialization_nuclear
				value = 0.5
			}
		}
		complete_effect = { set_global_flag = GER_heavy_water_production_underway }
	}

	GER_dismantle_czechoslovakian_forts = {

		icon = generic_construction

		available = {
			#has_war = yes
			controls_state = 69 # Sudetenland
			controls_state = 972 # Southern Sudetenland
			controls_state = 74 # Eastern Sudetenland
			controls_state = 9 # Bohemia
			controls_state = 75 # Moravia
		}

		cost = 50
		fire_only_once = yes

		ai_will_do = {
			factor = 0
		}
		visible = {
			#has_war = yes
			controls_state = 69 # Sudetenland
			controls_state = 972 # Southern Sudetenland
			controls_state = 74 # Eastern Sudetenland
			controls_state = 9 # Bohemia
			controls_state = 75 # Moravia
		}
		days_remove = 180
		modifier = {
			civilian_factory_use = 3
		}
		remove_effect = {
			69 = {
				set_building_level = {
					type = bunker
					level = 1
					province = {
						all_provinces = yes
						limit_to_border = no
						level > 1
					}
				}
			}
			74 = {
				set_building_level = {
					type = bunker
					level = 1
					province = {
						all_provinces = yes
						limit_to_border = no
						level > 1
					}
				}
			}
			9 = {
				set_building_level = {
					type = bunker
					level = 1
					province = {
						all_provinces = yes
						limit_to_border = no
						level > 1
					}
				}
			}
			75 = {
				set_building_level = {
					type = bunker
					level = 1
					province = {
						all_provinces = yes
						limit_to_border = no
						level > 1
					}
				}
			}
			if = {
				limit = {
					72 = {
						controller = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
							}
						}
					}
					71 = {
						controller = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
							}
						}
					}
				}
				72 = {
					set_building_level = {
						type = bunker
						level = 1
						province = {
							all_provinces = yes
							limit_to_border = no
							level > 1
						}
					}
				}
				71 = {
					set_building_level = {
						type = bunker
						level = 1
						province = {
							all_provinces = yes
							limit_to_border = no
							level > 1
						}
					}
				}
			}
			if = {
				limit = {
					70 = {
						controller = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
							}
						}
					}
				}
				70 = {
					set_building_level = {
						type = bunker
						level = 1
						province = {
							all_provinces = yes
							limit_to_border = no
							level > 1
						}
					}
				}
			}
			if = {
				limit = {
					73 = {
						controller = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
							}
						}
					}
					664 = {
						controller = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
							}
						}
					}
				}
				73 = {
					set_building_level = {
						type = bunker
						level = 1
						province = {
							all_provinces = yes
							limit_to_border = no
							level > 1
						}
					}
				}
				664 = {
					set_building_level = {
						type = bunker
						level = 1
						province = {
							all_provinces = yes
							limit_to_border = no
							level > 1
						}
					}
				}
			}
		}
		complete_effect = {
			add_timed_idea = { idea = GER_dismantle_czechoslovakian_forts days = 180 }
		}
	}
}

GER_aid_hun_rom_democratic_civil_war = {

	GER_aid_hun_democratic_civil_war = {

		icon = generic_prepare_civil_war

		available = {
			HUN = {
				NOT = { has_government = democratic }
				NOT = { has_war_with = GER }
				has_civil_war = yes
				exists = yes
				any_enemy_country = {
					original_tag = HUN
					has_government = democratic
				}
			}
		}

		cost = 0

		ai_will_do = {
			factor = 200
		}

		#Available if democratic civil war
		visible = {
			#has_completed_focus = GER_align_hungary #TODO_Danne: MM: Old focuses in the industrial branch, probable needs a different one if we are reusing these decisions
			HUN = {
				has_civil_war = yes
			}
			GER = { has_government = democratic }
		}

		complete_effect = {
			if = {
				limit = {
					HUN = { is_in_faction_with = GER }
				}
				remove_from_faction = HUN
				random_country = {
					limit = {
						original_tag = HUN
						has_government = democratic
						has_war_with = HUN
					}
					GER = { add_to_faction = PREV }
				}
			}
			random_country = {
				limit = {
					original_tag = HUN
					has_government = democratic
					has_war_with = HUN
				}
				GER = { add_to_war = { targeted_alliance = PREV enemy = HUN hostility_reason = asked_to_join } }
			}
		}
	}

	GER_aid_rom_democratic_civil_war = {

		icon = generic_prepare_civil_war

		available = {
			ROM = {
				NOT = { has_government = democratic }
				NOT = { has_war_with = GER }
				has_civil_war = yes
				exists = yes
				any_enemy_country = {
					original_tag = ROM
					has_government = democratic
				}
			}
		}

		cost = 0

		ai_will_do = {
			factor = 200
		}

		#Available if democratic civil war
		visible = {
			#has_completed_focus = GER_align_romania #TODO_Danne: MM: Old focuses in the industrial branch, probable needs a different one if we are reusing these decisions
			ROM = {
				has_civil_war = yes
			}
			GER = { has_government = democratic }
		}

		complete_effect = {
			if = {
				limit = {
					ROM = { is_in_faction_with = GER }
				}
				remove_from_faction = ROM
				random_country = {
					limit = {
						original_tag = ROM
						has_government = democratic
						has_war_with = ROM
					}
					GER = { add_to_faction = PREV }
				}
			}
			random_country = {
				limit = {
					original_tag = ROM
					has_government = democratic
					has_war_with = ROM
				}
				GER = { add_to_war = { targeted_alliance = PREV enemy = ROM hostility_reason = asked_to_join } }
			}
		}
	}

}

GER_reich_labor_service_cat = {
	GER_western_state_development = {
		priority = 1
		icon = GFX_decision_generic_construction

		ai_will_do = { 
			base = 10
			modifier = {
				factor = 2
				has_political_power > 100
			}
		}

		available = {
			56 = { is_fully_controlled_by = ROOT }
			59 = { is_fully_controlled_by = ROOT }
			57 = { is_fully_controlled_by = ROOT }
			55 = { is_fully_controlled_by = ROOT }
			51 = { is_fully_controlled_by = ROOT }
			51 = { is_fully_controlled_by = ROOT }
			42 = { is_fully_controlled_by = ROOT }
		}

		cancel_trigger = { 
			NOT = { 
				56 = { is_controlled_by = ROOT }
				59 = { is_controlled_by = ROOT }
				57 = { is_controlled_by = ROOT }
				55 = { is_controlled_by = ROOT }
				51 = { is_controlled_by = ROOT }
				51 = { is_controlled_by = ROOT }
				42 = { is_controlled_by = ROOT }
			} 
		}

		highlight_states = {
			highlight_state_targets = {
				state = 56 #Weser-Ems
				state = 59 #Hannover
				state = 57 #Westfalen
				state = 55 #Hessen
				state = 51 #Rhineland
				state = 42 #Moselland
			}
		}

		highlight_states = {
			highlight_state_targets = {
				state = 56 #Weser-Ems
				state = 59 #Hannover
				state = 57 #Westfalen
				state = 55 #Hessen
				state = 51 #Rhineland
				state = 42 #Moselland
			}
		}

		cost = 50

		fire_only_once = yes

		days_remove = 30

		modifier = {
			civilian_factory_use = 3
		}
		
		remove_effect = {
			every_core_state = {
				limit = {
					OR = {
						state = 56 #Weser-Ems
						state = 59 #Hannover
						state = 57 #Westfalen
						state = 55 #Hessen
						state = 51 #Rhineland
						state = 42 #Moselland
					}
				}
				add_extra_state_shared_building_slots = 1
				add_dynamic_modifier = { 
					modifier = GER_reichs_labor_initiative_modifier
					days = 545
					scope = GER
				}
			}
		}
	}
	GER_northern_state_development = {
		priority = 1
		icon = GFX_decision_generic_construction

		ai_will_do = { 
			base = 10
			modifier = {
				factor = 2
				has_political_power > 100
			}
		}

		available = {
			909 = { is_fully_controlled_by = ROOT }
			58 = { is_fully_controlled_by = ROOT }
			61 = { is_fully_controlled_by = ROOT }
			62 = { is_fully_controlled_by = ROOT }
			63 = { is_fully_controlled_by = ROOT }
		}

		cancel_trigger = { 
			NOT = { 
				909 = { is_controlled_by = ROOT }
				58 = { is_controlled_by = ROOT }
				61 = { is_controlled_by = ROOT }
				62 = { is_controlled_by = ROOT }
				63 = { is_controlled_by = ROOT }
			} 
		}

		highlight_states = {
			highlight_state_targets = {
				state = 909 #Schleswig
				state = 58 #Holstein
				state = 61 #Mecklenburg
				state = 62 #Vorpommern
				state = 63 #Hinterpommern
			}
		}

		cost = 50

		fire_only_once = yes

		days_remove = 30

		modifier = {
			civilian_factory_use = 3
		}
		
		remove_effect = {
			every_core_state = {
				limit = {
					OR = {
						state = 909 #Schleswig
						state = 58 #Holstein
						state = 61 #Mecklenburg
						state = 62 #Vorpommern
						state = 63 #Hinterpommern
					}
				}
				add_extra_state_shared_building_slots = 1
				add_dynamic_modifier = { 
					modifier = GER_reichs_labor_initiative_modifier
					days = 545
					scope = GER
				}
			}
		}
	}
	GER_eastern_state_development = {
		priority = 1
		icon = GFX_decision_generic_construction

		ai_will_do = { 
			base = 10
			modifier = {
				factor = 2
				has_political_power > 100
			}
		}

		available = {
			763 = { is_fully_controlled_by = ROOT }
			5 = { is_fully_controlled_by = ROOT }
			66 = { is_fully_controlled_by = ROOT }
			67 = { is_fully_controlled_by = ROOT }
		}

		cancel_trigger = { 
			NOT = { 
				763 = { is_controlled_by = ROOT }
				5 = { is_controlled_by = ROOT }
				66 = { is_controlled_by = ROOT }
				67 = { is_controlled_by = ROOT }
			}
			if = {
				limit = {
					85 = { is_core_of = ROOT }
				}
				NOT = {
					85 = { is_controlled_by = ROOT }
				}
			}
			if = {
				limit = {
					807 = { is_core_of = ROOT }
				}
				NOT = {
					807 = { is_controlled_by = ROOT }
				}
			}
			if = {
				limit = {
					86 = { is_core_of = ROOT }
				}
				NOT = {
					86 = { is_controlled_by = ROOT }
				}
			}
			if = {
				limit = {
					762 = { is_core_of = ROOT }
				}
				NOT = {
					762 = { is_controlled_by = ROOT }
				}
			}
			if = {
				limit = {
					188 = { is_core_of = ROOT }
				}
				NOT = {
					188 = { is_controlled_by = ROOT }
				}
			}
		}

		highlight_states = {
			highlight_state_targets = {
				state = 763 #Königsberg
				state = 5 #Ermland-Masuren
				state = 66 #Niederschlesien
				state = 67 #Oberschlesien
				state = 85 #Danzig, hinting to the player they can develop this state too
				state = 807 #Gdynia, hinting to the player they can develop this state too
				state = 86 #Poznan, hinting to the player they can develop this state too
				state = 762 #Katowice, hinting to the player they can develop this state too
				state = 188 #Memel, hinting to the player they can develop this state too
			}
		}

		cost = 50

		fire_only_once = yes

		days_remove = 30

		modifier = {
			civilian_factory_use = 3
		}
		
		remove_effect = {
			every_core_state = {
				limit = {
					OR = {
						state = 763 #Königsberg
						state = 5 #Ermland-Masuren
						state = 66 #Niederschlesien
						state = 67 #Oberschlesien
						state = 85 #Danzig - in case Germany has cored it
						state = 807 #Gdynia - in case Germany has cored it
						state = 86 #Poznan - in case Germany has cored it
						state = 762 #Katowice- in case Germany has cored it
						state = 188 #Memel - in case Germany has cored it
					}
				}
				add_extra_state_shared_building_slots = 1
				add_dynamic_modifier = { 
					modifier = GER_reichs_labor_initiative_modifier
					days = 545
					scope = GER
				}
			}
		}
	}
	GER_central_state_development = {
		priority = 1
		icon = GFX_decision_generic_construction

		ai_will_do = { 
			base = 10
			modifier = {
				factor = 2
				has_political_power > 100
			}
		}

		available = {
			64 = { is_fully_controlled_by = ROOT }
			65 = { is_fully_controlled_by = ROOT }
			60 = { is_fully_controlled_by = ROOT }
			68 = { is_fully_controlled_by = ROOT }
		}

		cancel_trigger = { 
			NOT = { 
				64 = { is_controlled_by = ROOT }
				65 = { is_controlled_by = ROOT }
				60 = { is_controlled_by = ROOT }
				68 = { is_controlled_by = ROOT }
			} 
		}

		highlight_states = {
			highlight_state_targets = {
				state = 64 #Brandenburg
				state = 65 #Sachsen
				state = 60 #Thüringen
				state = 68 #Ostmark
			}
		}

		cost = 50

		fire_only_once = yes

		days_remove = 30

		modifier = {
			civilian_factory_use = 3
		}
		
		remove_effect = {
			every_core_state = {
				limit = {
					OR = {
						state = 64 #Brandenburg
						state = 65 #Sachsen
						state = 60 #Thüringen
						state = 68 #Ostmark
					}
				}
				add_extra_state_shared_building_slots = 1
				add_dynamic_modifier = { 
					modifier = GER_reichs_labor_initiative_modifier
					days = 545
					scope = GER
				}
			}
		}
	}
	GER_southern_state_development = {
		priority = 1
		icon = GFX_decision_generic_construction

		ai_will_do = { 
			base = 10
			modifier = {
				factor = 2
				has_political_power > 100
			}
		}

		available = {
			52 = { is_fully_controlled_by = ROOT }
			978 = { is_fully_controlled_by = ROOT }
			50 = { is_fully_controlled_by = ROOT }
			53 = { is_fully_controlled_by = ROOT }
			54 = { is_fully_controlled_by = ROOT }
		}

		cancel_trigger = { 
			NOT = { 
				52 = { is_controlled_by = ROOT }
				978 = { is_fully_controlled_by = ROOT }
				50 = { is_controlled_by = ROOT }
				53 = { is_controlled_by = ROOT }
				54 = { is_controlled_by = ROOT }
			} 
		}

		highlight_states = {
			highlight_state_targets = {
				state = 50 #Württemberg
				state = 978 #Baden
				state = 52 #Oberbayern
				state = 53 #Niederbayern
				state = 54 #Franken
			}
		}

		cost = 50

		fire_only_once = yes

		days_remove = 30

		modifier = {
			civilian_factory_use = 3
		}
		
		remove_effect = {
			every_core_state = {
				limit = {
					OR = {
						state = 50 #Württemberg
						state = 978 #Baden
						state = 52 #Oberbayern
						state = 53 #Niederbayern
						state = 54 #Franken
					}
				}
				add_extra_state_shared_building_slots = 1
				add_dynamic_modifier = { 
					modifier = GER_reichs_labor_initiative_modifier
					days = 545
					scope = GER
				}
			}
		}
	}
}

GER_integration_of_puppet_economies_dec_cat = {
	GER_develop_puppet = {
		priority = 2
		icon = GFX_decision_generic_construction

		ai_will_do = { 
			base = 10
			modifier = {
				factor = 2
				has_political_power > 160
			}
		}

		target_array = ROOT.subjects

		target_root_trigger = {
			has_civil_war = no
		}

		available = { #This needs to be checked immediately to prevent activating more decisions than allowed while the game is paused
			custom_trigger_tooltip = {
				tooltip = GER_num_of_puppet_economies_integrated_tt
				NOT = { check_variable = { GER_puppet_economies_integrated = GER_puppet_economies_integration_cap compare = greater_than_or_equals } }
			}
			NOT = {
				FROM = {
					has_country_flag = GER_puppet_exploited_flag
				}
			}
		}
		
		cancel_trigger = {
			OR = {
				NOT = { has_subject = FROM }
				FROM = {
					OR = {
						has_capitulated = yes
						exists = no
					}
				}
			}
		}

		cost = 120

		days_remove = GER_puppet_economies_integration_days #365

		modifier = {
			consumer_goods_factor = 0.1
			industrial_capacity_factory = 0.02
		}

		cancel_effect = {
			FROM = {
				if = {
					limit = {
						has_idea = GER_german_development_aid
					}
					remove_ideas = GER_german_development_aid
				}
				clr_country_flag = GER_puppet_development_flag
			}
			subtract_from_variable = { GER_puppet_economies_integrated = 1 }
		}
		
		complete_effect = {
			FROM = {
				country_event = GOT_GER_integrated_puppet_economies.01
				add_ideas = GER_german_development_aid
				set_country_flag = GER_puppet_development_flag
			}
			add_to_variable = { GER_puppet_economies_integrated = 1 }

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = {
				localization_key = GER_idea_added_for_limited_time
				IDEA = idea_desc|GER_german_development_aid
				TIME = [?ROOT.GER_puppet_economies_integration_days]
			}
		}

		remove_effect = {
			FROM = {
				clr_country_flag = GER_puppet_development_flag
			}
			subtract_from_variable = { GER_puppet_economies_integrated = 1 }
		}
	}

	GER_exploit_puppet = {
		priority = 1
		icon = GFX_decision_generic_construction

		ai_will_do = { 
			base = 10
			modifier = {
				factor = 2
				has_political_power > 160
			}
		}

		target_array = ROOT.subjects

		target_root_trigger = {
			has_civil_war = no
		}

		available = { #This needs to be checked immediately to prevent activating more decisions than allowed while the game is paused
			custom_trigger_tooltip = {
				tooltip = GER_num_of_puppet_economies_integrated_tt
				NOT = { check_variable = { GER_puppet_economies_integrated = GER_puppet_economies_integration_cap compare = greater_than_or_equals } }
			}
			NOT = {
				FROM = {
					has_country_flag = GER_puppet_development_flag
				}
			}
		}
		
		cancel_trigger = { 
			NOT = { has_subject = FROM }
			FROM = {
				OR = {
					has_capitulated = yes
					exists = no
				}
			}
		}

		cost = 120

		days_remove = GER_puppet_economies_integration_days #365

		modifier = {
			consumer_goods_factor = -0.1
		}

		cancel_effect = {
			FROM = {
				if = {
					limit = {
						has_idea = GER_german_exploitation
					}
					remove_ideas = GER_german_exploitation
				}
				clr_country_flag = GER_puppet_exploited_flag
			}
			subtract_from_variable = { GER_puppet_economies_integrated = 1 }
		}
		
		complete_effect = {
			FROM = {
				country_event = GOT_GER_integrated_puppet_economies.02
				add_ideas = GER_german_exploitation
				set_country_flag = GER_puppet_exploited_flag
			}
			add_to_variable = { GER_puppet_economies_integrated = 1 }
		}

		remove_effect = {
			FROM = {
				clr_country_flag = GER_puppet_exploited_flag
			}
			subtract_from_variable = { GER_puppet_economies_integrated = 1 }
		}
	}
}




