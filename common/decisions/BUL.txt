### AI ###
#BUL_is_historical_ai
#BUL_is_communist_stalinist_ai
#BUL_is_communist_balkan_ai
#BUL_is_democratic_socialist_ai
#BUL_is_democratic_liberal_ai
#BUL_is_fascist_axis_ai
#BUL_is_monarchist_ferdinand_ai

#INTERNAL FACTIONS
BUL_internal_factions = {
	BUL_a_royal_visit  = { #Tsar Boris visits a random location in Bulgaria

		priority = 50

		icon = eng_ally_imperialist_coup

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				has_stability < 0.5
			}
			modifier = {
				factor = 10
				has_stability < 0.3
			}
			modifier = {
				factor = 10
				has_stability < 0.2
			}
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
			has_completed_focus = BUL_power_to_the_tsar
		}

		days_remove = 7

		days_re_enable = 120

		visible = {
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_tsar_boris_is_dead_flag }
			has_country_leader = {
				character = BUL_boris_iii
				ruling_only = yes
			}
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
		}

		modifier = {
			political_power_gain = -0.5
		}

		remove_effect = {
			hidden_effect = {
				random_list =  {
					70 = {
					}
					20 = {
						set_country_flag = BUL_a_royal_visit_extra_success_flag
					}
					10 = {
						set_country_flag = BUL_a_royal_visit_failure_flag
					}
				}
			}
			country_event = { id = bftb_bulgaria_tsar_boris.1 }
			clr_country_flag = BUL_internal_affairs_ongoing_flag
		}
	}


########    ###     ######  ######## ####  #######  ##    ##     ######   #######   #######  ########  
##         ## ##   ##    ##    ##     ##  ##     ## ###   ##    ##    ## ##     ## ##     ## ##     ## 
##        ##   ##  ##          ##     ##  ##     ## ####  ##    ##       ##     ## ##     ## ##     ## 
######   ##     ## ##          ##     ##  ##     ## ## ## ##    ##       ##     ## ##     ## ########  
##       ######### ##          ##     ##  ##     ## ##  ####    ##       ##     ## ##     ## ##        
##       ##     ## ##    ##    ##     ##  ##     ## ##   ###    ##    ## ##     ## ##     ## ##        
##       ##     ##  ######     ##    ####  #######  ##    ##     ######   #######   #######  ##        


	BUL_cooperation_zveno_speech  = { #ZVENO Allow/Support faction speech

		priority = 42

		icon = GFX_decision_bul_speech_zveno

		ai_will_do = {
			base = 4
			modifier = {
				factor = 0.1
				has_country_flag = BUL_zveno_joint_act_flag
			}
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
			NOT = { has_country_flag = BUL_zveno_bolstered_flag }
		}

		days_remove = BUL_faction_days_remove_very_low

		days_re_enable = BUL_faction_days_reenable_low

		cancel_trigger = {
			hidden_trigger = {
				OR = {
					has_country_flag = BUL_zveno_destroyed_flag
					has_country_flag = BUL_zveno_coup_flag
				}
			}
		}

		cancel_effect = {
			clr_country_flag = BUL_internal_affairs_ongoing_flag
		}

		visible = {
			has_completed_focus = BUL_cooperate_with_the_zveno
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_zveno_bolstered_flag }
			NOT = { has_country_flag = BUL_disposed_of_zveno_generals_flag }
			NOT = { has_country_flag = BUL_zveno_integrated_flag }
			NOT = { has_country_flag = BUL_zveno_destroyed_flag }
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
			if = {
				limit = {
					has_country_flag = BUL_discredited_zveno_flag
				}
				clr_country_flag = BUL_discredited_zveno_flag
			}
		}

		remove_effect = {
			unlock_decision_tooltip = BUL_cooperation_zveno_joint_act
			BUL_zveno_low_loyalty_increase_effect = yes
			BUL_zveno_low_popularity_increase_effect = yes
			set_country_flag = BUL_speech_zveno_flag
			clr_country_flag = BUL_internal_affairs_ongoing_flag
			custom_effect_tooltip = BUL_cooperation_faction_speech_cd_tt
		}
	}

	BUL_cooperation_bzns_speech  = { #AGRARIAN UNION Allow/Support faction speech

		priority = 22

		icon = GFX_decision_bul_speech_bzns

		ai_will_do = {
			base = 2
			modifier = {
				factor = 0.1
				has_country_flag = BUL_bzns_joint_act_flag
			}
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
			NOT = {	has_country_flag = BUL_bzns_legalized_flag }
		}

		days_remove = BUL_faction_days_remove_very_low

		days_re_enable = BUL_faction_days_reenable_low

		visible = {
			OR = {
				has_completed_focus = BUL_power_to_the_tsar
			}
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_bzns_integrated_flag }
			NOT = { has_country_flag = BUL_bzns_destroyed_flag }
			NOT = { has_country_flag = BUL_bzns_media_banned_flag }
			NOT = {	has_country_flag = BUL_bzns_legalized_flag }
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
			if = {
				limit = {
					has_country_flag = BUL_discredited_bzns_flag
				}
				clr_country_flag = BUL_discredited_bzns_flag
			}
		}

		remove_effect = {
			unlock_decision_tooltip = BUL_cooperation_bzns_joint_act
			BUL_bzns_low_loyalty_increase_effect = yes
			BUL_bzns_low_popularity_increase_effect = yes
			set_country_flag = BUL_speech_bzns_flag
			clr_country_flag = BUL_internal_affairs_ongoing_flag
			custom_effect_tooltip = BUL_cooperation_faction_speech_cd_tt
		}
	}

	BUL_cooperation_nsm_speech  = { #NATIONAL SOCIAL MOVEMENT Allow/Support faction speech

		priority = 12

		icon = GFX_decision_bul_speech_nsm

		ai_will_do = {
			base = 2
			modifier = {
				factor = 0.1
				has_country_flag = BUL_nsm_joint_act_flag
			}
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
			NOT = {	has_country_flag = BUL_nsm_legalized_flag }
		}

		days_remove = BUL_faction_days_remove_very_low

		days_re_enable = BUL_faction_days_reenable_low

		visible = {
			OR = {
				has_completed_focus = BUL_appoint_right_wing_ministers
			}
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_nsm_integrated_flag }
			NOT = { has_country_flag = BUL_nsm_destroyed_flag }
			NOT = { has_country_flag = BUL_nsm_media_banned_flag }
			NOT = {	has_country_flag = BUL_nsm_legalized_flag }
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
			if = {
				limit = {
					has_country_flag = BUL_discredited_nsm_flag
				}
				clr_country_flag = BUL_discredited_nsm_flag
			}
		}

		remove_effect = {
			unlock_decision_tooltip = BUL_cooperation_nsm_joint_act
			BUL_nsm_low_loyalty_increase_effect = yes
			BUL_nsm_low_popularity_increase_effect = yes
			set_country_flag = BUL_speech_nsm_flag
			clr_country_flag = BUL_internal_affairs_ongoing_flag
			custom_effect_tooltip = BUL_cooperation_faction_speech_cd_tt
		}
	}

	BUL_cooperation_zveno_joint_act  = { #ZVENO Joint Act

		priority = 43

		icon = GFX_decision_bul_joint_act_zveno

		ai_will_do = {
			base = 4.5
			modifier = {
				factor = 0.5
				has_country_flag = BUL_zveno_legalized_flag
				check_variable = { BUL_zveno_loyalty = 55 compare = less_than_or_equals }
			}
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = BUL_cooperation_faction_joint_act_tt
				check_variable = { BUL_zveno_loyalty = 25 compare = greater_than_or_equals }
			}
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
		}

		days_remove = BUL_faction_days_remove_low

		days_re_enable = BUL_faction_days_reenable_medium

		cancel_trigger = {
			hidden_trigger = {
				OR = {
					has_country_flag = BUL_zveno_destroyed_flag
					has_country_flag = BUL_zveno_coup_flag
				}
			}
		}

		cancel_effect = {
			clr_country_flag = BUL_internal_affairs_ongoing_flag
		}

		visible = {
			OR = {
				has_country_flag = BUL_speech_zveno_flag
				has_country_flag = BUL_zveno_legalized_flag
			}			
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_zveno_integrated_flag }
			NOT = { has_country_flag = BUL_disposed_of_zveno_generals_flag }
			NOT = { has_country_flag = BUL_zveno_destroyed_flag }
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
		}

		remove_effect = {
			BUL_zveno_medium_loyalty_increase_effect = yes
			BUL_zveno_medium_popularity_increase_effect = yes
			set_country_flag = BUL_zveno_joint_act_flag
			clr_country_flag = BUL_internal_affairs_ongoing_flag
			custom_effect_tooltip = BUL_cooperation_faction_joint_act_cd_tt
		}
	}

	BUL_cooperation_bs_joint_act  = { #BROAD SOCIALISTS Joint Act

		priority = 33

		icon = GFX_decision_bul_joint_act_bs

		ai_will_do = {
			base = 2.5
			modifier = {
				factor = 0.5
				has_country_flag = BUL_bs_legalized_flag
				check_variable = { BUL_bs_loyalty = 55 compare = less_than_or_equals }
			}

		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = BUL_cooperation_faction_joint_act_tt
				check_variable = { BUL_bs_loyalty = 25 compare = greater_than_or_equals }
			}
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
			NOT = {
				focus_progress = {
					focus = BUL_crush_the_communists
					progress > 0
				}
			}
		}

		days_remove = BUL_faction_days_remove_low

		days_re_enable = BUL_faction_days_reenable_medium

		cancel_trigger = {
			hidden_trigger = {
				OR = {
					has_completed_focus = BUL_crush_the_communists
					focus_progress = {
						focus = BUL_crush_the_communists
						progress > 0
					}
				}
			}
		}

		cancel_effect = {
			clr_country_flag = BUL_internal_affairs_ongoing_flag
		}

		visible = {
			OR = {
				has_country_flag = BUL_speech_bs_flag
				has_country_flag = BUL_bs_legalized_flag
			}
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_bs_integrated_flag }
			NOT = { has_completed_focus = BUL_crush_the_communists }
			NOT = { has_country_flag = BUL_bs_destroyed_flag }
			NOT = { has_country_flag = BUL_bs_media_banned_flag }
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
		}

		remove_effect = {
			BUL_bs_medium_loyalty_increase_effect = yes
			BUL_bs_medium_popularity_increase_effect = yes
			set_country_flag = BUL_bs_joint_act_flag
			clr_country_flag = BUL_internal_affairs_ongoing_flag
			custom_effect_tooltip = BUL_cooperation_faction_joint_act_cd_tt
		}
	}

	BUL_cooperation_bzns_joint_act  = { #AGRARIAN UNION Joint Act

		priority = 23

		icon = GFX_decision_bul_joint_act_bzns

		ai_will_do = {
			base = 2.5
			modifier = {
				factor = 0.5
				has_country_flag = BUL_bzns_legalized_flag
				check_variable = { BUL_bzns_loyalty = 55 compare = less_than_or_equals }
			}

		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = BUL_cooperation_faction_joint_act_tt
				check_variable = { BUL_bzns_loyalty = 25 compare = greater_than_or_equals }
			}
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
		}

		days_remove = BUL_faction_days_remove_low

		days_re_enable = BUL_faction_days_reenable_medium

		visible = {
			OR = {
				has_country_flag = BUL_speech_bzns_flag
				has_country_flag = BUL_bzns_legalized_flag
			}
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_bzns_integrated_flag }
			NOT = { has_country_flag = BUL_bzns_destroyed_flag }
			NOT = { has_country_flag = BUL_bzns_media_banned_flag }
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
		}

		remove_effect = {
			BUL_bzns_medium_loyalty_increase_effect = yes
			BUL_bzns_medium_popularity_increase_effect = yes
			set_country_flag = BUL_bzns_joint_act_flag
			clr_country_flag = BUL_internal_affairs_ongoing_flag
			custom_effect_tooltip = BUL_cooperation_faction_joint_act_cd_tt
		}
	}

	BUL_cooperation_nsm_joint_act  = { #NATIONAL SOCIAL MOVEMENT Joint Act

		priority = 13

		icon = GFX_decision_bul_joint_act_nsm

		ai_will_do = {
			base = 2.5
			modifier = {
				factor = 0.5
				has_country_flag = BUL_nsm_legalized_flag
				check_variable = { BUL_nsm_loyalty = 55 compare = less_than_or_equals }
			}
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = BUL_cooperation_faction_joint_act_tt
				check_variable = { BUL_nsm_loyalty = 25 compare = greater_than_or_equals }
			}
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
		}

		days_remove = BUL_faction_days_remove_low

		days_re_enable = BUL_faction_days_reenable_medium

		visible = {
			OR = {
				has_country_flag = BUL_speech_nsm_flag
				has_country_flag = BUL_nsm_legalized_flag
			}
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_nsm_integrated_flag }
			NOT = { has_country_flag = BUL_nsm_destroyed_flag }
			NOT = { has_country_flag = BUL_nsm_media_banned_flag }
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
		}

		remove_effect = {
			BUL_nsm_medium_loyalty_increase_effect = yes
			BUL_nsm_medium_popularity_increase_effect = yes
			set_country_flag = BUL_nsm_joint_act_flag
			clr_country_flag = BUL_internal_affairs_ongoing_flag
			custom_effect_tooltip = BUL_cooperation_faction_joint_act_cd_tt
		}
	}

	BUL_cooperation_bolster_zveno  = { #ZVENO Extra unique decision

		priority = 44

		icon = GFX_decision_bul_bolster_zveno

		ai_will_do = {
			base = 20
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = BUL_cooperation_bolster_zveno_tt
				check_variable = { BUL_zveno_loyalty = 40 compare = greater_than_or_equals }
			}
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
		}

		days_remove = BUL_faction_days_remove_medium

		fire_only_once = yes

		cancel_trigger = {
			hidden_trigger = {
				OR = {
					has_country_flag = BUL_zveno_destroyed_flag
					has_country_flag = BUL_zveno_coup_flag
				}
			}
		}

		cancel_effect = {
			clr_country_flag = BUL_internal_affairs_ongoing_flag
		}

		visible = {
			has_country_flag = BUL_factions_unlocked_flag
			has_completed_focus = BUL_cooperate_with_the_zveno
			NOT = { has_country_flag = BUL_zveno_integrated_flag }
			NOT = { has_country_flag = BUL_disposed_of_zveno_generals_flag }
			NOT = { has_country_flag = BUL_zveno_destroyed_flag }
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
		}

		remove_effect = {
			unlock_decision_tooltip = BUL_cooperation_zveno_social_renovation_directory
			unlock_decision_tooltip = BUL_cooperation_fund_zveno
			unlock_decision_tooltip = BUL_cooperation_appoint_zveno_members
			BUL_zveno_low_loyalty_increase_effect = yes
			custom_effect_tooltip = available_chief_of_army
			show_ideas_tooltip = BUL_kiril_stanchev
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = BUL_stoyan_trendafilov
			show_ideas_tooltip = BUL_vladimir_stoychev
			show_ideas_tooltip = BUL_gancho_manchev
			set_country_flag = BUL_zveno_bolstered_flag
			clr_country_flag = BUL_internal_affairs_ongoing_flag

			#Add days to Zveno Coup timer if active
			if = {
				limit = {
					has_active_mission = BUL_impending_zveno_coup
				}
				add_days_mission_timeout = {
					mission = BUL_impending_zveno_coup
					days = BUL_zveno_coup_timer_delay_medium
				}
			}

			custom_effect_tooltip = BUL_legalize_faction_prevents_oppression_tt
		}
	}

	BUL_cooperation_zveno_social_renovation_directory  = { #ZVENO Legalize Faction equivalent

		priority = 45

		icon = GFX_decision_bul_legalize_zveno

		ai_will_do = {
			base = 20
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = BUL_cooperation_legalize_faction_tt
				check_variable = { BUL_zveno_loyalty = 50 compare = greater_than_or_equals }
			}
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
		}

		days_remove = BUL_faction_days_remove_high

		fire_only_once = yes

		cancel_trigger = {
			hidden_trigger = {
				OR = {
					has_country_flag = BUL_zveno_destroyed_flag
					has_country_flag = BUL_zveno_coup_flag
				}
			}
		}

		cancel_effect = {
			clr_country_flag = BUL_internal_affairs_ongoing_flag
		}

		visible = {
			has_completed_focus = BUL_cooperate_with_the_zveno
			check_variable = { BUL_zveno_loyalty = 35 compare = greater_than_or_equals }
			has_country_flag = BUL_zveno_bolstered_flag
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_zveno_integrated_flag }
			NOT = { has_country_flag = BUL_disposed_of_zveno_generals_flag }
			NOT = { has_country_flag = BUL_zveno_destroyed_flag }
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
		}

		remove_effect = {
			add_stability = 0.1
			add_war_support = -0.05
			BUL_zveno_high_loyalty_increase_effect = yes
			BUL_zveno_low_popularity_increase_effect = yes
			set_country_flag = BUL_zveno_legalized_flag
			clr_country_flag = BUL_internal_affairs_ongoing_flag

			#Add days to Zveno Coup timer if active
			if = {
				limit = {
					has_active_mission = BUL_impending_zveno_coup
				}
				add_days_mission_timeout = {
					mission = BUL_impending_zveno_coup
					days = BUL_zveno_coup_timer_delay_medium
				}
			}
		}
	}

	BUL_cooperation_bs_legalize_faction  = { #BROAD SOCIALISTS Legalize Faction

		priority = 35

		icon = GFX_decision_bul_legalize_bs

		ai_will_do = {
			base = 10

		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = BUL_cooperation_legalize_faction_tt
				check_variable = { BUL_bs_loyalty = 50 compare = greater_than_or_equals }
			}
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
			NOT = {
				focus_progress = {
					focus = BUL_crush_the_communists
					progress > 0
				}
			}
		}

		days_remove = BUL_faction_days_remove_high

		cancel_trigger = {
			hidden_trigger = {
				OR = {
					has_completed_focus = BUL_crush_the_communists
					focus_progress = {
						focus = BUL_crush_the_communists
						progress > 0
					}
				}
			}
		}

		cancel_effect = {
			clr_country_flag = BUL_internal_affairs_ongoing_flag
		}

		visible = {
			always = no
			check_variable = { BUL_bs_loyalty = 35 compare = greater_than_or_equals }
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_completed_focus = BUL_crush_the_communists }
			NOT = { has_country_flag = BUL_bs_integrated_flag }
			NOT = { has_country_flag = BUL_bs_destroyed_flag }
			NOT = { has_country_flag = BUL_bs_media_banned_flag }
			NOT = { has_country_flag = BUL_bs_legalized_flag }
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
		}

		remove_effect = {
			unlock_decision_tooltip = BUL_cooperation_fund_bs
			unlock_decision_tooltip = BUL_cooperation_appoint_bs_members
			BUL_bs_medium_loyalty_increase_effect = yes
			BUL_bs_medium_popularity_increase_effect = yes
			set_country_flag = BUL_bs_legalized_flag
			clr_country_flag = BUL_internal_affairs_ongoing_flag
			custom_effect_tooltip = BUL_legalize_faction_prevents_oppression_tt
		}
	}

	BUL_cooperation_bzns_legalize_faction  = { #AGRARIAN UNION Legalize Faction

		priority = 25

		icon = GFX_decision_bul_legalize_bzns



		allowed = { 
			original_tag = BUL
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = BUL_cooperation_legalize_faction_tt
				check_variable = { BUL_bzns_loyalty = 50 compare = greater_than_or_equals }
			}
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
		}

		days_remove = BUL_faction_days_remove_high

		fire_only_once = yes

		cancel_effect = {
			clr_country_flag = BUL_internal_affairs_ongoing_flag
		}

		visible = {
			OR = {
				has_completed_focus = BUL_power_to_the_tsar
			}
			check_variable = { BUL_bzns_loyalty = 35 compare = greater_than_or_equals }
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_bzns_integrated_flag }
			NOT = { has_country_flag = BUL_bzns_destroyed_flag }
			NOT = { has_country_flag = BUL_bzns_media_banned_flag }
			NOT = { has_country_flag = BUL_bzns_legalized_flag }
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
		}

		remove_effect = {
			unlock_decision_tooltip = BUL_cooperation_fund_bzns
			unlock_decision_tooltip = BUL_cooperation_appoint_bzns_members
			BUL_bzns_medium_loyalty_increase_effect = yes
			BUL_bzns_medium_popularity_increase_effect = yes
			set_country_flag = BUL_bzns_legalized_flag
			clr_country_flag = BUL_internal_affairs_ongoing_flag
			custom_effect_tooltip = BUL_legalize_faction_prevents_oppression_tt
		}
	}

	BUL_cooperation_nsm_legalize_faction  = { #NATIONAL SOCIAL MOVEMENT Legalize Faction

		priority = 15

		icon = GFX_decision_bul_legalize_nsm

		ai_will_do = {
			base = 10
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = BUL_cooperation_legalize_faction_tt
				check_variable = { BUL_nsm_loyalty = 50 compare = greater_than_or_equals }
			}
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
		}

		days_remove = BUL_faction_days_remove_high

		fire_only_once = yes

		cancel_trigger = {
			hidden_trigger = {
				has_completed_focus = BUL_allow_far_right_organizations
			}
		}

		cancel_effect = {
			clr_country_flag = BUL_internal_affairs_ongoing_flag
		}

		visible = {
			OR = {
				has_completed_focus = BUL_appoint_right_wing_ministers
			}
			check_variable = { BUL_nsm_loyalty = 35 compare = greater_than_or_equals }
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_nsm_integrated_flag }
			NOT = { has_country_flag = BUL_nsm_destroyed_flag }
			NOT = { has_country_flag = BUL_nsm_media_banned_flag }
			NOT = { has_country_flag = BUL_nsm_legalized_flag }
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
		}

		remove_effect = {
			unlock_decision_tooltip = BUL_cooperation_fund_nsm
			unlock_decision_tooltip = BUL_cooperation_appoint_nsm_members
			BUL_nsm_medium_loyalty_increase_effect = yes
			BUL_nsm_medium_popularity_increase_effect = yes
			set_country_flag = BUL_nsm_legalized_flag
			clr_country_flag = BUL_internal_affairs_ongoing_flag
			custom_effect_tooltip = BUL_legalize_faction_prevents_oppression_tt
		}
	}

	BUL_cooperation_fund_zveno = { # Fund ZVENO

		priority = 46

		icon = GFX_decision_bul_fund_zveno

		ai_will_do = {
			base = 5
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
		}

		days_remove = BUL_faction_days_remove_high

		days_re_enable = BUL_faction_days_reenable_high

		cancel_trigger = {
			hidden_trigger = {
				OR = {
					has_country_flag = BUL_zveno_destroyed_flag
					has_country_flag = BUL_zveno_coup_flag
				}
			}
		}

		cancel_effect = {
			clr_country_flag = BUL_internal_affairs_ongoing_flag
		}

		visible = {
			has_country_flag = BUL_zveno_bolstered_flag
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_zveno_integrated_flag }		
			NOT = { has_country_flag = BUL_disposed_of_zveno_generals_flag }
			NOT = { has_country_flag = BUL_zveno_destroyed_flag }
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
		}

		remove_effect = {
			set_country_flag = BUL_fund_zveno_flag
			BUL_zveno_high_loyalty_increase_effect = yes
			BUL_zveno_medium_popularity_increase_effect = yes
			clr_country_flag = BUL_internal_affairs_ongoing_flag
			custom_effect_tooltip = BUL_cooperation_fund_faction_cd_tt

			#Add days to Zveno Coup timer if active
			if = {
				limit = {
					has_active_mission = BUL_impending_zveno_coup
				}
				add_days_mission_timeout = {
					mission = BUL_impending_zveno_coup
					days = BUL_zveno_coup_timer_delay_low
				}
			}
		}
	}

	BUL_cooperation_fund_bs = { # Fund BROAD SOCIALISTS

		priority = 36

		icon = GFX_decision_bul_fund_bs

		ai_will_do = {
			base = 3

		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
		}

		days_remove = BUL_faction_days_remove_high

		days_re_enable = BUL_faction_days_reenable_high

		visible = {
			has_country_flag = BUL_bs_legalized_flag
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_completed_focus = BUL_crush_the_communists }
			NOT = { has_country_flag = BUL_bs_integrated_flag }
			NOT = { has_country_flag = BUL_bs_destroyed_flag }
			NOT = { has_country_flag = BUL_bs_media_banned_flag }
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
		}

		remove_effect = {
			set_country_flag = BUL_fund_bs_flag
			BUL_bs_high_loyalty_increase_effect = yes
			BUL_bs_medium_popularity_increase_effect = yes
			clr_country_flag = BUL_internal_affairs_ongoing_flag
			custom_effect_tooltip = BUL_cooperation_fund_faction_cd_tt
		}
	}

	BUL_cooperation_fund_bzns = { # Fund AGRARIAN UNION

		priority = 26

		icon = GFX_decision_bul_fund_bzns

		ai_will_do = {
			base = 3

		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
		}

		days_remove = BUL_faction_days_remove_high

		days_re_enable = BUL_faction_days_reenable_high

		visible = {
			has_country_flag = BUL_bzns_legalized_flag
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_bzns_integrated_flag }
			NOT = { has_country_flag = BUL_bzns_destroyed_flag }
			NOT = { has_country_flag = BUL_bzns_media_banned_flag }
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
		}

		remove_effect = {
			set_country_flag = BUL_fund_bzns_flag
			BUL_bzns_high_loyalty_increase_effect = yes
			BUL_bzns_medium_popularity_increase_effect = yes
			clr_country_flag = BUL_internal_affairs_ongoing_flag
			custom_effect_tooltip = BUL_cooperation_fund_faction_cd_tt
		}
	}

	BUL_cooperation_fund_nsm = { # Fund NATIONAL SOCIAL MOVEMENT

		priority = 16

		icon = GFX_decision_bul_fund_nsm

		ai_will_do = {
			base = 3
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
		}

		days_remove = BUL_faction_days_remove_high

		days_re_enable = BUL_faction_days_reenable_high

		visible = {
			has_country_flag = BUL_nsm_legalized_flag
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_nsm_integrated_flag }
			NOT = { has_country_flag = BUL_nsm_destroyed_flag }
			NOT = { has_country_flag = BUL_nsm_media_banned_flag }
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
		}

		remove_effect = {
			set_country_flag = BUL_fund_nsm_flag
			BUL_nsm_high_loyalty_increase_effect = yes
			BUL_nsm_medium_popularity_increase_effect = yes
			clr_country_flag = BUL_internal_affairs_ongoing_flag
			custom_effect_tooltip = BUL_cooperation_fund_faction_cd_tt
		}
	}

	BUL_cooperation_appoint_zveno_members = { # Appoint ZVENO Members

		priority = 47

		icon = GFX_decision_bul_appoint_members_zveno

		ai_will_do = {
			base = 10
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = BUL_cooperation_appoint_faction_members_tt
				check_variable = { BUL_zveno_loyalty = 75 compare = greater_than_or_equals }
				check_variable = { BUL_zveno_popularity = 60 compare = greater_than_or_equals }
			}
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
		}

		days_remove = BUL_faction_days_remove_high

		fire_only_once = yes

		cancel_trigger = {
			hidden_trigger = {
				OR = {
					has_country_flag = BUL_zveno_destroyed_flag
					has_country_flag = BUL_zveno_coup_flag
				}
			}
		}

		cancel_effect = {
			clr_country_flag = BUL_internal_affairs_ongoing_flag
		}

		visible = {
			has_country_flag = BUL_zveno_bolstered_flag
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_zveno_integrated_flag }
			NOT = { has_country_flag = BUL_disposed_of_zveno_generals_flag }
			NOT = { has_country_flag = BUL_zveno_destroyed_flag }
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
		}

		remove_effect = {
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = BUL_kimon_georgiev
			unlock_decision_tooltip = BUL_cooperation_integrate_zveno
			BUL_zveno_medium_loyalty_increase_effect = yes
			BUL_zveno_medium_popularity_increase_effect = yes
			set_country_flag = BUL_appointed_zveno_members_flag
			if = {
				limit = {
					NOT = { has_country_flag = BUL_bs_destroyed_flag }
					NOT = { has_country_flag = BUL_bs_integrated_flag }
				}
				BUL_bs_low_loyalty_decrease_effect = yes
			}
			if = {
				limit = {
					NOT = { has_country_flag = BUL_bzns_destroyed_flag }
					NOT = { has_country_flag = BUL_bzns_integrated_flag }
				}
				BUL_bzns_low_loyalty_decrease_effect = yes
			}
			if = {
				limit = {
					NOT = { has_country_flag = BUL_nsm_destroyed_flag }
					NOT = { has_country_flag = BUL_nsm_integrated_flag }
				}
				BUL_nsm_low_loyalty_decrease_effect = yes
			}
			clr_country_flag = BUL_internal_affairs_ongoing_flag

			#Add days to Zveno Coup timer if active
			if = {
				limit = {
					has_active_mission = BUL_impending_zveno_coup
				}
				add_days_mission_timeout = {
					mission = BUL_impending_zveno_coup
					days = BUL_zveno_coup_timer_delay_high
				}
			}
		}
	}

	BUL_cooperation_appoint_bs_members = { # Appoint BROAD SOCIALISTS Members

		priority = 37

		icon = GFX_decision_bul_appoint_members_bs

		ai_will_do = {
			base = 10
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = BUL_cooperation_appoint_faction_members_tt
				check_variable = { BUL_bs_loyalty = 75 compare = greater_than_or_equals }
				check_variable = { BUL_bs_popularity = 60 compare = greater_than_or_equals }
			}
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
		}

		days_remove = BUL_faction_days_remove_high

		fire_only_once = yes

		visible = {
			has_country_flag = BUL_bs_legalized_flag
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_completed_focus = BUL_crush_the_communists }
			NOT = { has_country_flag = BUL_bs_integrated_flag }
			NOT = { has_country_flag = BUL_bs_destroyed_flag }
			NOT = { has_country_flag = BUL_bs_media_banned_flag }
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
		}

		remove_effect = {
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = BUL_todor_pavlov
			unlock_decision_tooltip = BUL_cooperation_integrate_bs
			BUL_bs_medium_loyalty_increase_effect = yes
			BUL_bs_medium_popularity_increase_effect = yes
			set_country_flag = BUL_appointed_bs_members_flag
			if = {
				limit = {
					NOT = { has_country_flag = BUL_zveno_destroyed_flag }
					NOT = { has_country_flag = BUL_zveno_integrated_flag }
				}
				BUL_zveno_low_loyalty_decrease_effect = yes
			}
			if = {
				limit = {
					NOT = { has_country_flag = BUL_bzns_destroyed_flag }
					NOT = { has_country_flag = BUL_bzns_integrated_flag }
				}
				BUL_bzns_low_loyalty_decrease_effect = yes
			}
			if = {
				limit = {
					NOT = { has_country_flag = BUL_nsm_destroyed_flag }
					NOT = { has_country_flag = BUL_nsm_integrated_flag }
				}
				BUL_nsm_low_loyalty_decrease_effect = yes
			}
			clr_country_flag = BUL_internal_affairs_ongoing_flag
		}
	}

	BUL_cooperation_appoint_bzns_members = { # Appoint AGRARIAN UNION Members

		priority = 27

		icon = GFX_decision_bul_appoint_members_bzns

		ai_will_do = {
			base = 10
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = BUL_cooperation_appoint_faction_members_tt
				check_variable = { BUL_bzns_loyalty = 75 compare = greater_than_or_equals }
				check_variable = { BUL_bzns_popularity = 60 compare = greater_than_or_equals }
			}
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
		}

		days_remove = BUL_faction_days_remove_high

		fire_only_once = yes

		visible = {
			has_country_flag = BUL_bzns_legalized_flag
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_bzns_integrated_flag }
			NOT = { has_country_flag = BUL_bzns_destroyed_flag }
			NOT = { has_country_flag = BUL_bzns_media_banned_flag }
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
		}

		remove_effect = {
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = BUL_nikola_petkov
			unlock_decision_tooltip = BUL_cooperation_integrate_bzns
			BUL_bzns_medium_loyalty_increase_effect = yes
			BUL_bzns_medium_popularity_increase_effect = yes
			set_country_flag = BUL_appointed_bzns_members_flag
			if = {
				limit = {
					NOT = { has_country_flag = BUL_zveno_destroyed_flag }
					NOT = { has_country_flag = BUL_zveno_integrated_flag }
				}
				BUL_zveno_low_loyalty_decrease_effect = yes
			}
			if = {
				limit = {
					NOT = { has_country_flag = BUL_bs_destroyed_flag }
					NOT = { has_country_flag = BUL_bs_integrated_flag }
				}
				BUL_bs_low_loyalty_decrease_effect = yes
			}
			if = {
				limit = {
					NOT = { has_country_flag = BUL_nsm_destroyed_flag }
					NOT = { has_country_flag = BUL_nsm_integrated_flag }
				}
				BUL_nsm_low_loyalty_decrease_effect = yes
			}
			clr_country_flag = BUL_internal_affairs_ongoing_flag
		}
	}

	BUL_cooperation_appoint_nsm_members = { # Appoint NATIONAL SOCIAL MOVEMENT Members

		priority = 17

		icon = GFX_decision_bul_appoint_members_nsm

		ai_will_do = {
			base = 10
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = BUL_cooperation_appoint_faction_members_tt
				check_variable = { BUL_nsm_loyalty = 75 compare = greater_than_or_equals }
				check_variable = { BUL_nsm_popularity = 60 compare = greater_than_or_equals }
			}
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
		}

		days_remove = BUL_faction_days_remove_high

		fire_only_once = yes

		visible = {
			has_country_flag = BUL_nsm_legalized_flag
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_nsm_integrated_flag }
			NOT = { has_country_flag = BUL_nsm_destroyed_flag }
			NOT = { has_country_flag = BUL_nsm_media_banned_flag }
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
		}

		remove_effect = {
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = BUL_aleksandar_tsankov
			unlock_decision_tooltip = BUL_cooperation_integrate_nsm
			BUL_nsm_medium_loyalty_increase_effect = yes
			BUL_nsm_medium_popularity_increase_effect = yes
			set_country_flag = BUL_appointed_nsm_members_flag
			if = {
				limit = {
					NOT = { has_country_flag = BUL_zveno_destroyed_flag }
					NOT = { has_country_flag = BUL_zveno_integrated_flag }
				}
				BUL_zveno_low_loyalty_decrease_effect = yes
			}
			if = {
				limit = {
					NOT = { has_country_flag = BUL_bs_destroyed_flag }
					NOT = { has_country_flag = BUL_bs_integrated_flag }
				}
				BUL_bs_low_loyalty_decrease_effect = yes
			}
			if = {
				limit = {
					NOT = { has_country_flag = BUL_bzns_destroyed_flag }
					NOT = { has_country_flag = BUL_bzns_integrated_flag }
				}
				BUL_bzns_low_loyalty_decrease_effect = yes
			}
			clr_country_flag = BUL_internal_affairs_ongoing_flag
		}
	}

	BUL_cooperation_integrate_zveno = { # Integrate ZVENO

		priority = 48

		icon = GFX_decision_bul_integrate_zveno

		ai_will_do = {
			base = 100
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = BUL_cooperation_integrate_faction_tt
				check_variable = { BUL_zveno_loyalty = 100 compare = greater_than_or_equals }
				check_variable = { BUL_zveno_popularity = 75 compare = greater_than_or_equals }
			}
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
		}

		days_remove = BUL_faction_days_remove_very_high

		fire_only_once = yes

		cancel_trigger = {
			hidden_trigger = {
				OR = {
					has_country_flag = BUL_zveno_destroyed_flag
					has_country_flag = BUL_zveno_coup_flag
				}
			}
		}

		cancel_effect = {
			clr_country_flag = BUL_internal_affairs_ongoing_flag
		}

		visible = {
			has_country_flag = BUL_appointed_zveno_members_flag
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_zveno_integrated_flag }
			NOT = { has_country_flag = BUL_disposed_of_zveno_generals_flag }
			NOT = { has_country_flag = BUL_zveno_destroyed_flag }
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
		}

		remove_effect = {
			country_event = bftb_bulgaria_factions.17
			clr_country_flag = BUL_internal_affairs_ongoing_flag
			clr_country_flag = BUL_speech_zveno_flag
			clr_country_flag = BUL_zveno_joint_act_flag
			clr_country_flag = BUL_fund_zveno_flag
			set_country_flag = BUL_zveno_integrated_flag
			effect_tooltip = {
				add_political_power = 120
				add_stability = 0.1
				if = {
					limit = {
						NOT = { has_country_flag = BUL_bs_destroyed_flag }
						NOT = { has_country_flag = BUL_bs_integrated_flag }
					}
					BUL_bs_medium_loyalty_decrease_effect = yes
				}
				if = {
					limit = {
						NOT = { has_country_flag = BUL_bzns_destroyed_flag }
						NOT = { has_country_flag = BUL_bzns_integrated_flag }
					}
					BUL_bzns_medium_loyalty_decrease_effect = yes
				}
				if = {
					limit = {
						NOT = { has_country_flag = BUL_nsm_destroyed_flag }
						NOT = { has_country_flag = BUL_nsm_integrated_flag }
					}
					BUL_nsm_medium_loyalty_decrease_effect = yes
				}
			}
		}
	}

	BUL_cooperation_integrate_bs = { # Integrate BROAD SOCIALISTS

		priority = 38

		icon = GFX_decision_bul_integrate_bs

		ai_will_do = {
			base = 100
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = BUL_cooperation_integrate_faction_tt
				check_variable = { BUL_bs_loyalty = 100 compare = greater_than_or_equals }
				check_variable = { BUL_bs_popularity = 75 compare = greater_than_or_equals }
			}
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
		}

		days_remove = BUL_faction_days_remove_very_high

		fire_only_once = yes

		visible = {
			has_country_flag = BUL_appointed_bs_members_flag
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_completed_focus = BUL_crush_the_communists }
			NOT = { has_country_flag = BUL_bs_integrated_flag }
			NOT = { has_country_flag = BUL_bs_destroyed_flag }
			NOT = { has_country_flag = BUL_bs_media_banned_flag }
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
		}

		remove_effect = {
			country_event = bftb_bulgaria_factions.27
			clr_country_flag = BUL_internal_affairs_ongoing_flag
			clr_country_flag = BUL_speech_bs_flag
			clr_country_flag = BUL_bs_joint_act_flag
			clr_country_flag = BUL_fund_bs_flag
			set_country_flag = BUL_bs_integrated_flag
			effect_tooltip = {
				add_political_power = 120
				add_stability = 0.1
				if = {
					limit = {
						NOT = { has_country_flag = BUL_zveno_destroyed_flag }
						NOT = { has_country_flag = BUL_zveno_integrated_flag }
					}
					BUL_zveno_medium_loyalty_decrease_effect = yes
				}
				if = {
					limit = {
						NOT = { has_country_flag = BUL_bzns_destroyed_flag }
						NOT = { has_country_flag = BUL_bzns_integrated_flag }
					}
					BUL_bzns_medium_loyalty_decrease_effect = yes
				}
				if = {
					limit = {
						NOT = { has_country_flag = BUL_nsm_destroyed_flag }
						NOT = { has_country_flag = BUL_nsm_integrated_flag }
					}
					BUL_nsm_medium_loyalty_decrease_effect = yes
				}
			}
		}
	}

	BUL_cooperation_integrate_bzns = { # Integrate AGRARIAN UNION

		priority = 28

		icon = GFX_decision_bul_integrate_bzns

		ai_will_do = {
			base = 100
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = BUL_cooperation_integrate_faction_tt
				check_variable = { BUL_bzns_loyalty = 100 compare = greater_than_or_equals }
				check_variable = { BUL_bzns_popularity = 75 compare = greater_than_or_equals }
			}
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
		}

		days_remove = BUL_faction_days_remove_very_high

		fire_only_once = yes

		visible = {
			has_country_flag = BUL_appointed_bzns_members_flag
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_bzns_integrated_flag }
			NOT = { has_country_flag = BUL_bzns_destroyed_flag }
			NOT = { has_country_flag = BUL_bzns_media_banned_flag }
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
		}

		remove_effect = {
			country_event = bftb_bulgaria_factions.37
			clr_country_flag = BUL_internal_affairs_ongoing_flag
			clr_country_flag = BUL_speech_bzns_flag
			clr_country_flag = BUL_bzns_joint_act_flag
			clr_country_flag = BUL_fund_bzns_flag
			set_country_flag = BUL_bzns_integrated_flag
			effect_tooltip = {
				add_political_power = 120
				add_stability = 0.1
				if = {
					limit = {
						NOT = { has_country_flag = BUL_zveno_destroyed_flag }
						NOT = { has_country_flag = BUL_zveno_integrated_flag }
					}
					BUL_zveno_medium_loyalty_decrease_effect = yes
				}
				if = {
					limit = {
						NOT = { has_country_flag = BUL_bs_destroyed_flag }
						NOT = { has_country_flag = BUL_bs_integrated_flag }
					}
					BUL_bs_medium_loyalty_decrease_effect = yes
				}
				if = {
					limit = {
						NOT = { has_country_flag = BUL_nsm_destroyed_flag }
						NOT = { has_country_flag = BUL_nsm_integrated_flag }
					}
					BUL_nsm_medium_loyalty_decrease_effect = yes
				}
			}
		}
	}

	BUL_cooperation_integrate_nsm = { # Integrate NATIONAL SOCIAL MOVEMENT

		priority = 18

		icon = GFX_decision_bul_integrate_nsm

		ai_will_do = {
			base = 100
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = BUL_cooperation_integrate_faction_tt
				check_variable = { BUL_nsm_loyalty = 100 compare = greater_than_or_equals }
				check_variable = { BUL_nsm_popularity = 75 compare = greater_than_or_equals }
			}
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
		}

		days_remove = BUL_faction_days_remove_very_high

		fire_only_once = yes

		visible = {
			has_country_flag = BUL_appointed_nsm_members_flag
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_nsm_integrated_flag }
			NOT = { has_country_flag = BUL_nsm_destroyed_flag }
			NOT = { has_country_flag = BUL_nsm_media_banned_flag }
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
		}

		remove_effect = {
			country_event = bftb_bulgaria_factions.47
			clr_country_flag = BUL_internal_affairs_ongoing_flag
			clr_country_flag = BUL_speech_nsm_flag
			clr_country_flag = BUL_nsm_joint_act_flag
			clr_country_flag = BUL_fund_nsm_flag
			set_country_flag = BUL_nsm_integrated_flag
			effect_tooltip = {
				add_political_power = 120
				add_stability = 0.1
				if = {
					limit = {
						NOT = { has_country_flag = BUL_zveno_destroyed_flag }
						NOT = { has_country_flag = BUL_zveno_integrated_flag }
					}
					BUL_zveno_medium_loyalty_decrease_effect = yes
				}
				if = {
					limit = {
						NOT = { has_country_flag = BUL_bs_destroyed_flag }
						NOT = { has_country_flag = BUL_bs_integrated_flag }
					}
					BUL_bs_medium_loyalty_decrease_effect = yes
				}
				if = {
					limit = {
						NOT = { has_country_flag = BUL_bzns_destroyed_flag }
						NOT = { has_country_flag = BUL_bzns_integrated_flag }
					}
					BUL_bzns_medium_loyalty_decrease_effect = yes
				}
			}
		}
	}


########    ###     ######  ######## ####  #######  ##    ##     #######  ########  ########  ########  ########  ######   ######  ####  #######  ##    ## 
##         ## ##   ##    ##    ##     ##  ##     ## ###   ##    ##     ## ##     ## ##     ## ##     ## ##       ##    ## ##    ##  ##  ##     ## ###   ## 
##        ##   ##  ##          ##     ##  ##     ## ####  ##    ##     ## ##     ## ##     ## ##     ## ##       ##       ##        ##  ##     ## ####  ## 
######   ##     ## ##          ##     ##  ##     ## ## ## ##    ##     ## ########  ########  ########  ######    ######   ######   ##  ##     ## ## ## ## 
##       ######### ##          ##     ##  ##     ## ##  ####    ##     ## ##        ##        ##   ##   ##             ##       ##  ##  ##     ## ##  #### 
##       ##     ## ##    ##    ##     ##  ##     ## ##   ###    ##     ## ##        ##        ##    ##  ##       ##    ## ##    ##  ##  ##     ## ##   ### 
##       ##     ##  ######     ##    ####  #######  ##    ##     #######  ##        ##        ##     ## ########  ######   ######  ####  #######  ##    ## 

	BUL_opression_discredit_bs_leaders  = { # Discredit BROAD SOCIALISTS Leaders

		priority = 30

		icon = GFX_decision_bul_discredit_bs



		allowed = { 
			original_tag = BUL
		}

		available = {
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
		}

		days_remove = BUL_faction_days_remove_very_low

		days_re_enable = BUL_faction_days_reenable_low

		visible = {
			OR = {
				has_completed_focus = BUL_power_to_the_tsar
			}
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_bs_legalized_flag }
			NOT = { has_country_flag = BUL_bs_media_banned_flag }
			NOT = { has_country_flag = BUL_bs_destroyed_flag }
		}

		cost = BUL_broad_socialist_opression_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
			if = { 
				limit = {
					has_country_flag = BUL_speech_bs_flag
				}
				clr_country_flag = BUL_speech_bs_flag
			}
			if = { 
				limit = {
					has_country_flag = BUL_bs_joint_act_flag
				}
				clr_country_flag = BUL_bs_joint_act_flag
			}
		}

		remove_effect = {
			BUL_bs_medium_loyalty_decrease_effect = yes
			BUL_bs_medium_popularity_decrease_effect = yes
			set_country_flag = BUL_discredited_bs_flag
			clr_country_flag = BUL_internal_affairs_ongoing_flag
			custom_effect_tooltip = BUL_opression_discredit_faction_leaders_cd_tt
		}
	}

	BUL_opression_discredit_bzns_leaders  = { # Discredit AGRARIAN UNION Leaders

		priority = 20

		icon = GFX_decision_bul_discredit_bzns


		allowed = { 
			original_tag = BUL
		}

		available = {
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
		}

		days_remove = BUL_faction_days_remove_very_low

		days_re_enable = BUL_faction_days_reenable_low

		visible = {
			OR = {
				has_completed_focus = BUL_power_to_the_tsar
			}
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_bzns_legalized_flag }
			NOT = { has_country_flag = BUL_bzns_media_banned_flag }
			NOT = { has_country_flag = BUL_bzns_destroyed_flag }
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
			if = { 
				limit = {
					has_country_flag = BUL_speech_bzns_flag
				}
				clr_country_flag = BUL_speech_bzns_flag
			}
			if = { 
				limit = {
					has_country_flag = BUL_bzns_joint_act_flag
				}
				clr_country_flag = BUL_bzns_joint_act_flag
			}
		}

		remove_effect = {
			BUL_bzns_medium_loyalty_decrease_effect = yes
			BUL_bzns_medium_popularity_decrease_effect = yes
			set_country_flag = BUL_discredited_bzns_flag
			clr_country_flag = BUL_internal_affairs_ongoing_flag
			custom_effect_tooltip = BUL_opression_discredit_faction_leaders_cd_tt
		}
	}

	BUL_opression_discredit_nsm_leaders  = { # Discredit NATIONAL SOCIAL MOVEMENT Leaders

		priority = 10

		icon = GFX_decision_bul_discredit_nsm



		allowed = { 
			original_tag = BUL
		}

		available = {
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
		}

		days_remove = BUL_faction_days_remove_very_low

		days_re_enable = BUL_faction_days_reenable_low

		visible = {
			OR = {
				has_completed_focus = BUL_appoint_right_wing_ministers
			}
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_nsm_legalized_flag }
			NOT = { has_country_flag = BUL_nsm_media_banned_flag }
			NOT = { has_country_flag = BUL_nsm_destroyed_flag }
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
				if = { 
				limit = {
					has_country_flag = BUL_speech_nsm_flag
				}
				clr_country_flag = BUL_speech_nsm_flag
			}
			if = { 
				limit = {
					has_country_flag = BUL_nsm_joint_act_flag
				}
				clr_country_flag = BUL_nsm_joint_act_flag
			}
		}

		remove_effect = {
			BUL_nsm_medium_loyalty_decrease_effect = yes
			BUL_nsm_medium_popularity_decrease_effect = yes
			set_country_flag = BUL_discredited_nsm_flag
			clr_country_flag = BUL_internal_affairs_ongoing_flag
			custom_effect_tooltip = BUL_opression_discredit_faction_leaders_cd_tt
		}
	}


	BUL_opression_ban_bs_media  = { #BROAD SOCIALISTS Ban Media

		priority = 31

		icon = GFX_decision_bul_ban_media_bs



		allowed = { 
			original_tag = BUL
		}

		available = {
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
			custom_trigger_tooltip = {
				tooltip = BUL_oppression_ban_faction_media_tt
				check_variable = { BUL_bs_popularity = 50 compare = less_than_or_equals }
			}
		}

		days_remove = BUL_faction_days_remove_low

		cancel_trigger = {
		}

		cancel_effect = {
			clr_country_flag = BUL_internal_affairs_ongoing_flag
		}

		visible = {
			OR = {
				has_completed_focus = BUL_power_to_the_tsar
			}
			check_variable = { BUL_bs_popularity = 65 compare = less_than_or_equals }
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_bs_legalized_flag }
			NOT = { has_country_flag = BUL_bs_destroyed_flag }
			NOT = { has_country_flag = BUL_bs_media_banned_flag }
		}

		cost = BUL_broad_socialist_opression_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
		}

		remove_effect = {
			unlock_decision_tooltip = BUL_opression_anti_bs_speech
			unlock_decision_tooltip = BUL_opression_imprison_bs_leaders
			BUL_bs_low_loyalty_decrease_effect = yes
			BUL_bs_medium_popularity_decrease_effect = yes
			set_country_flag = BUL_bs_media_banned_flag
			clr_country_flag = BUL_internal_affairs_ongoing_flag
			custom_effect_tooltip = BUL_ban_media_prevents_cooperation_tt
		}
	}

	BUL_opression_ban_bzns_media  = { #AGRARIAN UNION Ban Media

		priority = 21

		icon = GFX_decision_bul_ban_media_bzns


		allowed = { 
			original_tag = BUL
		}

		available = {
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
			custom_trigger_tooltip = {
				tooltip = BUL_oppression_ban_faction_media_tt
				check_variable = { BUL_bzns_popularity = 50 compare = less_than_or_equals }
			}
		}

		days_remove = BUL_faction_days_remove_low

		cancel_trigger = {
			hidden_trigger = {
				OR = {
					AND = {
						focus_progress = {
							focus = BUL_freedom_of_press
							progress > 0
						}
						focus_progress = {
							focus = BUL_freedom_of_press
							progress < 1
						}
					}
					focus_progress = {
						focus = BUL_legalize_the_agrarian_party
						progress > 0
					}
				}
			}
		}

		cancel_effect = {
			clr_country_flag = BUL_internal_affairs_ongoing_flag
		}

		visible = {
			OR = {
				has_completed_focus = BUL_power_to_the_tsar
			}
			check_variable = { BUL_bzns_popularity = 65 compare = less_than_or_equals }
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_bzns_legalized_flag }
			NOT = { has_country_flag = BUL_bzns_destroyed_flag }
			NOT = { has_country_flag = BUL_bzns_media_banned_flag }
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
		}

		remove_effect = {
			unlock_decision_tooltip = BUL_opression_anti_bzns_speech
			unlock_decision_tooltip = BUL_opression_imprison_bzns_leaders
			BUL_bzns_low_loyalty_decrease_effect = yes
			BUL_bzns_medium_popularity_decrease_effect = yes
			set_country_flag = BUL_bzns_media_banned_flag
			clr_country_flag = BUL_internal_affairs_ongoing_flag
			custom_effect_tooltip = BUL_ban_media_prevents_cooperation_tt
		}
	}

	BUL_opression_ban_nsm_media  = { #NATIONAL SOCIAL MOVEMENT Ban Media

		priority = 11

		icon = GFX_decision_bul_ban_media_nsm



		allowed = { 
			original_tag = BUL
		}

		available = {
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
			custom_trigger_tooltip = {
				tooltip = BUL_oppression_ban_faction_media_tt
				check_variable = { BUL_nsm_popularity = 50 compare = less_than_or_equals }
			}
		}

		days_remove = BUL_faction_days_remove_low

		cancel_trigger = {
			hidden_trigger = {
				OR = {
					AND = {
						focus_progress = {
							focus = BUL_freedom_of_press
							progress > 0
						}
						focus_progress = {
							focus = BUL_freedom_of_press
							progress < 1
						}
					}
					focus_progress = {
						focus = BUL_allow_far_right_organizations
						progress > 0
					}
				}
			}
		}

		cancel_effect = {
			clr_country_flag = BUL_internal_affairs_ongoing_flag
		}

		visible = {
			OR = {
				has_completed_focus = BUL_appoint_right_wing_ministers
			}
			check_variable = { BUL_nsm_popularity = 65 compare = less_than_or_equals }
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_nsm_legalized_flag }
			NOT = { has_country_flag = BUL_nsm_destroyed_flag }
			NOT = { has_country_flag = BUL_nsm_media_banned_flag }
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
		}

		remove_effect = {
			unlock_decision_tooltip = BUL_opression_anti_nsm_speech
			unlock_decision_tooltip = BUL_opression_imprison_nsm_leaders
			BUL_nsm_low_loyalty_decrease_effect = yes
			BUL_nsm_medium_popularity_decrease_effect = yes
			set_country_flag = BUL_nsm_media_banned_flag
			clr_country_flag = BUL_internal_affairs_ongoing_flag
			custom_effect_tooltip = BUL_ban_media_prevents_cooperation_tt
		}
	}

	BUL_opression_anti_zveno_speech  = { #ZVENO Speech against organization

		priority = 43

		icon = GFX_decision_bul_against_zveno

		ai_will_do = {
			base = 10
			modifier = {
				factor = 1000
				has_country_flag = BUL_impending_zveno_coup
			}
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
		}

		days_remove = BUL_faction_days_remove_low

		days_re_enable = BUL_faction_days_reenable_medium

		cancel_trigger = {
			hidden_trigger = {
				OR = {
					has_country_flag = BUL_zveno_destroyed_flag
					has_country_flag = BUL_zveno_coup_flag
				}
			}
		}

		cancel_effect = {
			clr_country_flag = BUL_internal_affairs_ongoing_flag
		}

		visible = {
			has_country_flag = BUL_disposed_of_zveno_generals_flag
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_zveno_destroyed_flag }
			NOT = { has_country_flag = BUL_zveno_bolstered_flag }
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
		}

		remove_effect = {
			BUL_zveno_medium_loyalty_decrease_effect = yes
			BUL_zveno_medium_popularity_decrease_effect = yes
			set_country_flag = BUL_anti_zveno_speech_held_flag
			clr_country_flag = BUL_internal_affairs_ongoing_flag
			custom_effect_tooltip = BUL_opression_anti_faction_speech_cd_tt

			#Add days to Zveno Coup timer if active
			if = {
				limit = {
					has_active_mission = BUL_impending_zveno_coup
				}
				add_days_mission_timeout = {
					mission = BUL_impending_zveno_coup
					days = BUL_zveno_coup_timer_delay_low
				}
			}
		}
	}

	BUL_opression_anti_bs_speech  = { #BROAD SOCIALISTS Speech against organization

		priority = 33

		icon = GFX_decision_bul_against_bs

		ai_will_do = {
			base = 3
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
		}

		days_remove = BUL_faction_days_remove_low

		days_re_enable = BUL_faction_days_reenable_medium

		visible = {
			has_country_flag = BUL_bs_media_banned_flag
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_bs_destroyed_flag }
			NOT = { has_country_flag = BUL_bs_legalized_flag }
		}

		cost = BUL_broad_socialist_opression_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
		}

		remove_effect = {
			BUL_bs_medium_loyalty_decrease_effect = yes
			BUL_bs_medium_popularity_decrease_effect = yes
			set_country_flag = BUL_anti_bs_speech_held_flag
			clr_country_flag = BUL_internal_affairs_ongoing_flag
			custom_effect_tooltip = BUL_opression_anti_faction_speech_cd_tt
		}
	}

	BUL_opression_anti_bzns_speech  = { #AGRARIAN UNION Speech against organization

		priority = 23

		icon = GFX_decision_bul_against_bzns

		ai_will_do = {
			base = 3
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
		}

		days_remove = BUL_faction_days_remove_low

		days_re_enable = BUL_faction_days_reenable_medium

		visible = {
			has_country_flag = BUL_bzns_media_banned_flag
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_bzns_destroyed_flag }
			NOT = { has_country_flag = BUL_bzns_legalized_flag }		
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
		}

		remove_effect = {
			BUL_bzns_medium_loyalty_decrease_effect = yes
			BUL_bzns_medium_popularity_decrease_effect = yes
			set_country_flag = BUL_anti_bzns_speech_held_flag
			clr_country_flag = BUL_internal_affairs_ongoing_flag
			custom_effect_tooltip = BUL_opression_anti_faction_speech_cd_tt
		}
	}

	BUL_opression_anti_nsm_speech  = { #NATIONAL SOCIALIST MOVEMENT Speech against organization

		priority = 13

		icon = GFX_decision_bul_against_nsm

		ai_will_do = {
			base = 3
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
		}

		days_remove = BUL_faction_days_remove_low

		days_re_enable = BUL_faction_days_reenable_medium

		visible = {
			has_country_flag = BUL_nsm_media_banned_flag
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_nsm_legalized_flag }
			NOT = { has_country_flag = BUL_nsm_destroyed_flag }
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
		}

		remove_effect = {
			BUL_nsm_medium_loyalty_decrease_effect = yes
			BUL_nsm_medium_popularity_decrease_effect = yes
			set_country_flag = BUL_anti_nsm_speech_held_flag
			clr_country_flag = BUL_internal_affairs_ongoing_flag
			custom_effect_tooltip = BUL_opression_anti_faction_speech_cd_tt
		}
	}

	BUL_opression_imprison_zveno_leaders = { #ZVENO Imprison leaders

		priority = 44

		icon = GFX_decision_bul_imprison_leaders_zveno

		ai_will_do = {
			base = 50
			modifier = {
				factor = 1000
				has_country_flag = BUL_impending_zveno_coup
			}
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
			custom_trigger_tooltip = {
				tooltip = BUL_oppression_imprison_faction_leaders_tt
				check_variable = { BUL_zveno_popularity = 35 compare = less_than_or_equals }
			}
			
		}

		days_remove = BUL_faction_days_remove_medium

		fire_only_once = yes

		cancel_trigger = {
			hidden_trigger = {
				OR = {
					has_country_flag = BUL_zveno_destroyed_flag
					has_country_flag = BUL_zveno_coup_flag
				}
			}
		}

		cancel_effect = {
			clr_country_flag = BUL_internal_affairs_ongoing_flag
		}

		visible = {
			has_country_flag = BUL_disposed_of_zveno_generals_flag
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_zveno_destroyed_flag }
			NOT = { has_country_flag = BUL_zveno_bolstered_flag }
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
		}

		fixed_random_seed = no

		remove_effect = {
			set_country_flag = BUL_zveno_leaders_imprisoned_flag
			hidden_effect = {
				random_list = {
					60 = {
						country_event = { id = bftb_bulgaria_factions.53 hours = 4 random_hours = 2 }
					}
					30 = {
						country_event = { id = bftb_bulgaria_factions.54 hours = 4 random_hours = 2 }
					}
					10 = {
						country_event = { id = bftb_bulgaria_factions.55 hours = 4 random_hours = 2 }
					}
				}
			}
			effect_tooltip = {
				country_event = bftb_bulgaria_factions.53
			}
			unlock_decision_tooltip = BUL_opression_raid_zveno_supporters
			clr_country_flag = BUL_internal_affairs_ongoing_flag
		}
	}

	BUL_opression_imprison_bs_leaders = { #BROAD SOCIALISTS Imprison leaders

		priority = 34

		icon = GFX_decision_bul_imprison_leaders_bs

		ai_will_do = {
			base = 10
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
			custom_trigger_tooltip = {
				tooltip = BUL_oppression_imprison_faction_leaders_tt
				check_variable = { BUL_bs_popularity = 35 compare = less_than_or_equals }
			}
		}

		days_remove = BUL_faction_days_remove_medium

		fire_only_once = yes

		visible = {
			has_country_flag = BUL_bs_media_banned_flag
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_bs_destroyed_flag }
			NOT = { has_country_flag = BUL_bs_legalized_flag }
		}

		cost = BUL_broad_socialist_opression_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
		}

		fixed_random_seed = no

		remove_effect = {
			set_country_flag = BUL_bs_leaders_imprisoned_flag
			hidden_effect = {
				random_list = {
					60 = {
						country_event = { id = bftb_bulgaria_factions.63 hours = 4 random_hours = 2 }
					}
					30 = {
						country_event = { id = bftb_bulgaria_factions.64 hours = 4 random_hours = 2 }
					}
					10 = {
						country_event = { id = bftb_bulgaria_factions.65 hours = 4 random_hours = 2 }
					}
				}
			}
			effect_tooltip = {
				country_event = bftb_bulgaria_factions.63
			}
			unlock_decision_tooltip = BUL_opression_raid_bs_supporters
			clr_country_flag = BUL_internal_affairs_ongoing_flag
		}
	}

	BUL_opression_imprison_bzns_leaders = { #AGRARIAN UNION Imprison leaders

		priority = 24

		icon = GFX_decision_bul_imprison_leaders_bzns

		ai_will_do = {
			base = 10
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
			custom_trigger_tooltip = {
				tooltip = BUL_oppression_imprison_faction_leaders_tt
				check_variable = { BUL_bzns_popularity = 35 compare = less_than_or_equals }
			}
		}

		days_remove = BUL_faction_days_remove_medium

		fire_only_once = yes

		visible = {
			has_country_flag = BUL_bzns_media_banned_flag
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_bzns_destroyed_flag }
			NOT = { has_country_flag = BUL_bzns_legalized_flag }
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
		}

		fixed_random_seed = no

		remove_effect = {
			set_country_flag = BUL_bzns_leaders_imprisoned_flag
			hidden_effect = {
				random_list = {
					60 = {
						country_event = { id = bftb_bulgaria_factions.73 hours = 4 random_hours = 2 }
					}
					30 = {
						country_event = { id = bftb_bulgaria_factions.74 hours = 4 random_hours = 2 }
					}
					10 = {
						country_event = { id = bftb_bulgaria_factions.75 hours = 4 random_hours = 2 }
					}
				}
			}
			effect_tooltip = {
				country_event = bftb_bulgaria_factions.73
			}
			unlock_decision_tooltip = BUL_opression_raid_bzns_supporters
			clr_country_flag = BUL_internal_affairs_ongoing_flag
		}
	}

	BUL_opression_imprison_nsm_leaders = { #NATIONAL SOCIAL MOVEMENT Imprison leaders

		priority = 14

		icon = GFX_decision_bul_imprison_leaders_nsm

		ai_will_do = {
			base = 10
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
			custom_trigger_tooltip = {
				tooltip = BUL_oppression_imprison_faction_leaders_tt
				check_variable = { BUL_nsm_popularity = 35 compare = less_than_or_equals }
			}
		}

		days_remove = BUL_faction_days_remove_medium

		fire_only_once = yes

		visible = {
			has_country_flag = BUL_nsm_media_banned_flag
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_nsm_destroyed_flag }
			NOT = { has_country_flag = BUL_nsm_legalized_flag }
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
		}

		fixed_random_seed = no

		remove_effect = {
			set_country_flag = BUL_nsm_leaders_imprisoned_flag
			hidden_effect = {
				random_list = {
					60 = {
						country_event = { id = bftb_bulgaria_factions.83 hours = 4 random_hours = 2 }
					}
					30 = {
						country_event = { id = bftb_bulgaria_factions.84 hours = 4 random_hours = 2 }
					}
					10 = {
						country_event = { id = bftb_bulgaria_factions.85 hours = 4 random_hours = 2 }
					}
				}
			}
			effect_tooltip = {
				country_event = bftb_bulgaria_factions.83
			}
			unlock_decision_tooltip = BUL_opression_raid_nsm_supporters
			clr_country_flag = BUL_internal_affairs_ongoing_flag
		}
	}

	BUL_opression_raid_zveno_supporters  = { # Raid ZVENO Supporters

		ai_will_do = {
			base = 30
			modifier = {
				factor = 1000
				has_country_flag = BUL_impending_zveno_coup
			}
		}

		priority = 45

		icon = GFX_decision_bul_raid_zveno

		allowed = { 
			original_tag = BUL
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = BUL_opression_raid_faction_supporters_tt
				check_variable = { BUL_zveno_popularity = 25 compare = less_than_or_equals }
			}
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
		}

		days_remove = BUL_faction_days_remove_high

		days_re_enable = BUL_faction_days_reenable_very_high

		cancel_trigger = {
			hidden_trigger = {
				OR = {
					has_country_flag = BUL_zveno_destroyed_flag
					has_country_flag = BUL_zveno_coup_flag
				}
			}
		}

		cancel_effect = {
			clr_country_flag = BUL_internal_affairs_ongoing_flag
		}

		visible = {
			has_country_flag = BUL_zveno_leaders_imprisoned_flag
			has_country_flag = BUL_factions_unlocked_flag		
			NOT = { has_country_flag = BUL_zveno_destroyed_flag }
			NOT = { has_country_flag = BUL_zveno_bolstered_flag }
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
		}

		remove_effect = {
			unlock_decision_tooltip = BUL_opression_destroy_zveno
			set_country_flag = BUL_raided_zveno_supporters_flag
			BUL_zveno_medium_loyalty_decrease_effect = yes
			BUL_zveno_high_popularity_decrease_effect = yes
			clr_country_flag = BUL_internal_affairs_ongoing_flag
			custom_effect_tooltip = BUL_opression_raid_faction_supporters_cd_tt

			#Add days to Zveno Coup timer if active
			if = {
				limit = {
					has_active_mission = BUL_impending_zveno_coup
				}
				add_days_mission_timeout = {
					mission = BUL_impending_zveno_coup
					days = BUL_zveno_coup_timer_delay_high
				}
			}
		}
	}

	BUL_opression_raid_bs_supporters  = { # Raid BROAD SOCIALISTS Supporters

		priority = 35

		icon = GFX_decision_bul_raid_bs

		ai_will_do = {
			base = 5
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = BUL_opression_raid_faction_supporters_tt
				check_variable = { BUL_bs_popularity = 25 compare = less_than_or_equals }
			}
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
		}

		days_remove = BUL_faction_days_remove_high

		days_re_enable = BUL_faction_days_reenable_very_high

		visible = {
			has_country_flag = BUL_bs_leaders_imprisoned_flag
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_bs_destroyed_flag }
			NOT = { has_country_flag = BUL_bs_legalized_flag }
		}

		cost = BUL_broad_socialist_opression_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
		}

		remove_effect = {
			unlock_decision_tooltip = BUL_opression_destroy_bs
			set_country_flag = BUL_raided_bs_supporters_flag
			BUL_bs_medium_loyalty_decrease_effect = yes
			BUL_bs_high_popularity_decrease_effect = yes
			clr_country_flag = BUL_internal_affairs_ongoing_flag
			custom_effect_tooltip = BUL_opression_raid_faction_supporters_cd_tt
		}
	}

	BUL_opression_raid_bzns_supporters  = { # Raid AGRARIAN UNION Supporters

		priority = 25

		icon = GFX_decision_bul_raid_bzns

		ai_will_do = {
			base = 5
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = BUL_opression_raid_faction_supporters_tt
				check_variable = { BUL_bzns_popularity = 25 compare = less_than_or_equals }
			}
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
		}

		days_remove = BUL_faction_days_remove_high

		days_re_enable = BUL_faction_days_reenable_very_high

		visible = {
			has_country_flag = BUL_bzns_leaders_imprisoned_flag
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_bzns_destroyed_flag }
			NOT = { has_country_flag = BUL_bzns_legalized_flag }
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
		}

		remove_effect = {
			unlock_decision_tooltip = BUL_opression_destroy_bzns
			set_country_flag = BUL_raided_bzns_supporters_flag
			BUL_bzns_medium_loyalty_decrease_effect = yes
			BUL_bzns_high_popularity_decrease_effect = yes
			clr_country_flag = BUL_internal_affairs_ongoing_flag
			custom_effect_tooltip = BUL_opression_raid_faction_supporters_cd_tt
		}
	}

	BUL_opression_raid_nsm_supporters  = { # Raid NATIONAL SOCIAL MOVEMENT Supporters

		priority = 15

		icon = GFX_decision_bul_raid_nsm

		ai_will_do = {
			base = 5
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = BUL_opression_raid_faction_supporters_tt
				check_variable = { BUL_nsm_popularity = 25 compare = less_than_or_equals }
			}
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
		}

		days_remove = BUL_faction_days_remove_high

		days_re_enable = BUL_faction_days_reenable_very_high

		visible = {
			has_country_flag = BUL_nsm_leaders_imprisoned_flag
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_nsm_destroyed_flag }
			NOT = { has_country_flag = BUL_nsm_legalized_flag }
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
		}

		remove_effect = {
			unlock_decision_tooltip = BUL_opression_destroy_nsm
			set_country_flag = BUL_raided_nsm_supporters_flag
			BUL_nsm_medium_loyalty_decrease_effect = yes
			BUL_nsm_high_popularity_decrease_effect = yes
			clr_country_flag = BUL_internal_affairs_ongoing_flag
			custom_effect_tooltip = BUL_opression_raid_faction_supporters_cd_tt
		}
	}

	BUL_opression_destroy_zveno  = { # Destroy ZVENO

		priority = 46

		icon = GFX_decision_bul_destroy_zveno

		ai_will_do = {
			base = 100
			modifier = {
				factor = 1000
				has_country_flag = BUL_impending_zveno_coup
			}
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = BUL_opression_destroy_faction_tt
				check_variable = { BUL_zveno_popularity = 0 compare = less_than_or_equals }
			}
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
		}

		days_remove = BUL_faction_days_remove_high

		fire_only_once = yes

		cancel_trigger = {
			hidden_trigger = {
				OR = {
					has_country_flag = BUL_zveno_destroyed_flag
					has_country_flag = BUL_zveno_coup_flag
				}
			}
		}

		cancel_effect = {
			clr_country_flag = BUL_internal_affairs_ongoing_flag
		}

		visible = {
			has_country_flag = BUL_raided_zveno_supporters_flag
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_zveno_destroyed_flag }
			NOT = { has_country_flag = BUL_zveno_bolstered_flag }
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
		}

		remove_effect = {
			country_event = bftb_bulgaria_factions.19
			clr_country_flag = BUL_internal_affairs_ongoing_flag
			set_country_flag = BUL_zveno_destroyed_flag
			if = { #Any generals that might have received the Zveno Trait after disposing of Zveno Generals are removed
				limit = {
					any_unit_leader = {
						has_trait = trait_BUL_zveno_member
					}
				}
				every_unit_leader = {
					limit = {
						has_trait = trait_BUL_zveno_member
					}
					retire = yes
				}
			}
		}
	}

	BUL_opression_destroy_bs  = { # Destroy BROAD SOCIALISTS

		priority = 36

		icon = GFX_decision_bul_destroy_bs

		ai_will_do = {
			base = 100
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = BUL_opression_destroy_faction_tt
				check_variable = { BUL_bs_popularity = 0 compare = less_than_or_equals }
			}
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
		}

		days_remove = BUL_faction_days_remove_high

		fire_only_once = yes

		visible = {
			has_country_flag = BUL_raided_bs_supporters_flag
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_bs_destroyed_flag }
			NOT = { has_country_flag = BUL_bs_legalized_flag }
		}

		cost = BUL_broad_socialist_opression_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
		}

		remove_effect = {
			country_event = bftb_bulgaria_factions.29
			clr_country_flag = BUL_internal_affairs_ongoing_flag
			set_country_flag = BUL_bs_destroyed_flag
		}
	}

	BUL_opression_destroy_bzns  = { # Destroy AGRARIAN UNION

		priority = 26

		icon = GFX_decision_bul_destroy_bzns

		ai_will_do = {
			base = 100
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = BUL_opression_destroy_faction_tt
				check_variable = { BUL_bzns_popularity = 0 compare = less_than_or_equals }
			}
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
		}

		days_remove = BUL_faction_days_remove_high

		fire_only_once = yes

		visible = {
			has_country_flag = BUL_raided_bzns_supporters_flag
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_bzns_destroyed_flag }
			NOT = { has_country_flag = BUL_bzns_legalized_flag }
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
		}

		remove_effect = {
			country_event = bftb_bulgaria_factions.39
			clr_country_flag = BUL_internal_affairs_ongoing_flag
			set_country_flag = BUL_bzns_destroyed_flag
		}
	}

	BUL_opression_destroy_nsm  = { # Destroy NATIONAL SOCIAL MOVEMENT

		priority = 16

		icon = GFX_decision_bul_destroy_nsm

		ai_will_do = {
			base = 100
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = BUL_opression_destroy_faction_tt
				check_variable = { BUL_nsm_popularity = 0 compare = less_than_or_equals }
			}
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
		}

		days_remove = BUL_faction_days_remove_high

		fire_only_once = yes

		visible = {
			has_country_flag = BUL_raided_nsm_supporters_flag
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_nsm_destroyed_flag }
			NOT = { has_country_flag = BUL_nsm_legalized_flag }
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
		}

		remove_effect = {
			country_event = bftb_bulgaria_factions.49
			clr_country_flag = BUL_internal_affairs_ongoing_flag
			set_country_flag = BUL_nsm_destroyed_flag
		}
	}

	BUL_opression_repress_zveno  = { #ZVENO Repress Organization

		priority = 42

		icon = GFX_decision_bul_repress_zveno

		ai_will_do = {
			base = 100
			modifier = {
				factor = 100
				has_country_flag = BUL_impending_zveno_coup
			}
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
		}

		days_remove = BUL_faction_days_remove_very_low

		cancel_trigger = {
			hidden_trigger = {
				OR = {
					has_country_flag = BUL_zveno_destroyed_flag
					has_country_flag = BUL_zveno_coup_flag
					has_country_flag = BUL_zveno_integrated_flag
				}
			}
		}

		cancel_effect = {
			clr_country_flag = BUL_internal_affairs_ongoing_flag
		}

		visible = {
			has_country_flag = BUL_zveno_dissident_event_flag #This faction has triggered a dissident event
			has_country_flag = BUL_zveno_dissident_event_not_addressed_flag
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_zveno_integrated_flag }
			NOT = { has_country_flag = BUL_zveno_destroyed_flag }
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
			set_country_flag = BUL_zveno_repressed_flag
		}

		fixed_random_seed = no

		remove_effect = {
			hidden_effect = {
				random_list = {
					70 = {#Success
						country_event = { id = bftb_bulgaria_factions.50 hours = 4 random_hours = 2 }
					}
					20 = {#Extra success
						country_event = { id = bftb_bulgaria_factions.51 hours = 4 random_hours = 2 }
					}
					10 = {#Failure
						country_event = { id = bftb_bulgaria_factions.52 hours = 4 random_hours = 2 }
					}
				}
			}
			effect_tooltip = {
				country_event = bftb_bulgaria_factions.50
			}
			custom_effect_tooltip = BUL_repress_faction_tt
			clr_country_flag = BUL_internal_affairs_ongoing_flag
			clr_country_flag = BUL_zveno_dissident_event_not_addressed_flag
		}
	}

	BUL_opression_repress_bs  = { #BROAD SOCIALISTS Repress Organization

		priority = 32

		icon = GFX_decision_bul_repress_bs

		ai_will_do = {
			base = 100
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag } 
		}

		days_remove = BUL_faction_days_remove_very_low

		cancel_trigger = {
			hidden_trigger = {
				OR = {
					has_country_flag = BUL_bs_destroyed_flag
					has_country_flag = BUL_bs_integrated_flag
				}
			}
		}

		cancel_effect = {
			clr_country_flag = BUL_internal_affairs_ongoing_flag
		}

		visible = {
			has_country_flag = BUL_bs_dissident_event_flag #This faction has triggered a dissident event
			has_country_flag = BUL_bs_dissident_event_not_addressed_flag
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_bs_integrated_flag }
			NOT = { has_country_flag = BUL_bs_destroyed_flag }
		}

		cost = BUL_broad_socialist_opression_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
			set_country_flag = BUL_bs_repressed_flag
		}

		fixed_random_seed = no

		remove_effect = {		
			hidden_effect = {
				random_list = {
					70 = {
						country_event = { id = bftb_bulgaria_factions.60 hours = 4 random_hours = 2 }
					}
					20 = {
						country_event = { id = bftb_bulgaria_factions.61 hours = 4 random_hours = 2 }
					}
					10 = {
						country_event = { id = bftb_bulgaria_factions.62 hours = 4 random_hours = 2 }
					}
				}
			}
			effect_tooltip = {
				country_event = bftb_bulgaria_factions.60
			}
			custom_effect_tooltip = BUL_repress_faction_tt
			clr_country_flag = BUL_internal_affairs_ongoing_flag
			clr_country_flag = BUL_bs_dissident_event_not_addressed_flag
		}
	}

	BUL_opression_repress_bzns  = { #AGRARIAN UNION Repress Organization

		priority = 22

		icon = GFX_decision_bul_repress_bzns

		ai_will_do = {
			base = 100
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
		}

		days_remove = BUL_faction_days_remove_very_low

		cancel_trigger = {
			hidden_trigger = {
				OR = {
					has_country_flag = BUL_bzns_destroyed_flag
					has_country_flag = BUL_bzns_integrated_flag
				}
			}
		}

		cancel_effect = {
			clr_country_flag = BUL_internal_affairs_ongoing_flag
		}

		visible = {
			has_country_flag = BUL_bzns_dissident_event_flag #This faction has triggered a dissident event
			has_country_flag = BUL_bzns_dissident_event_not_addressed_flag
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_bzns_integrated_flag }
			NOT = { has_country_flag = BUL_bzns_destroyed_flag }
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
			set_country_flag = BUL_bzns_repressed_flag
		}

		fixed_random_seed = no

		remove_effect = {
			hidden_effect = {
				random_list = {
					70 = {
						country_event = { id = bftb_bulgaria_factions.70 hours = 4 random_hours = 2 }
					}
					20 = {
						country_event = { id = bftb_bulgaria_factions.71 hours = 4 random_hours = 2 }
					}
					10 = {
						country_event = { id = bftb_bulgaria_factions.72 hours = 4 random_hours = 2 }
					}
				}
			}
			effect_tooltip = {
				country_event = bftb_bulgaria_factions.70
			}
			custom_effect_tooltip = BUL_repress_faction_tt
			clr_country_flag = BUL_internal_affairs_ongoing_flag
			clr_country_flag = BUL_bzns_dissident_event_not_addressed_flag
		}
	}

	BUL_opression_repress_nsm  = { #NATIONAL SOCIAL MOVEMENT Repress Organization

		priority = 12

		icon = GFX_decision_bul_repress_nsm



		allowed = { 
			original_tag = BUL
		}

		available = {
			NOT = { has_country_flag = BUL_internal_affairs_ongoing_flag }
		}

		days_remove = BUL_faction_days_remove_very_low

		cancel_trigger = {
			hidden_trigger = {
				OR = {
					has_country_flag = BUL_nsm_destroyed_flag
					has_country_flag = BUL_nsm_integrated_flag
				}
			}
		}

		cancel_effect = {
			clr_country_flag = BUL_internal_affairs_ongoing_flag
		}

		visible = {
			has_country_flag = BUL_nsm_dissident_event_flag #This faction has triggered a dissident event
			has_country_flag = BUL_nsm_dissident_event_not_addressed_flag
			has_country_flag = BUL_factions_unlocked_flag
			NOT = { has_country_flag = BUL_nsm_integrated_flag }
			NOT = { has_country_flag = BUL_nsm_destroyed_flag }
		}

		cost = BUL_faction_interaction_cost_standard

		complete_effect = {
			set_country_flag = BUL_internal_affairs_ongoing_flag
			set_country_flag = BUL_nsm_repressed_flag
		}

		fixed_random_seed = no

		remove_effect = {
			hidden_effect = {
				random_list = {
					70 = {
						country_event = { id = bftb_bulgaria_factions.80 hours = 4 random_hours = 2 }
					}
					20 = {
						country_event = { id = bftb_bulgaria_factions.81 hours = 4 random_hours = 2 }
					}
					10 = {
						country_event = { id = bftb_bulgaria_factions.82 hours = 4 random_hours = 2 }
					}
				}
			}
			effect_tooltip = {
				country_event = bftb_bulgaria_factions.80
			}
			custom_effect_tooltip = BUL_repress_faction_tt
			clr_country_flag = BUL_internal_affairs_ongoing_flag
			clr_country_flag = BUL_nsm_dissident_event_not_addressed_flag
		}
	}

	BUL_impending_zveno_coup  = { #The ZVENO is preparing a coup

		priority = 100

		icon = GFX_decision_generic_civil_support

		allowed = { 
			original_tag = BUL
		}

		available = {
			OR = {
				has_country_flag = BUL_zveno_destroyed_flag
				has_country_flag = BUL_zveno_integrated_flag
				AND = {
					has_country_flag = BUL_fatherland_front_formed_flag
					NOT = { has_country_flag = BUL_ff_destroyed_flag }
				}
			}
		}

		activation = {
			has_country_flag = BUL_impending_zveno_coup_flag
		}

		days_mission_timeout = 180

		fire_only_once = yes

		visible = {
			
		}

		cancel_if_not_visible = yes

		is_good = no

		complete_effect = {
		}

		timeout_effect = {
			clr_country_flag = BUL_factions_unlocked_flag
			set_country_flag = BUL_zveno_coup_flag
			
			set_variable = { BUL_zveno_coup_size = 0.25 }
			#CIVIL WAR
			if = {
				limit = {
					check_variable = { BUL_zveno_popularity = 80 compare = greater_than_or_equals }
				}
				add_to_variable = { BUL_zveno_coup_size = 0.5 }
			}
			else_if = {
				limit = {
					check_variable = { BUL_zveno_popularity = 60 compare = greater_than_or_equals }
				}
				add_to_variable = { BUL_zveno_coup_size = 0.4 }
			}
			else_if = {
				limit = {
					check_variable = { BUL_zveno_popularity = 40 compare = greater_than_or_equals }
				}
				add_to_variable = { BUL_zveno_coup_size = 0.3 }
			}
			else_if = {
				limit = {
					check_variable = { BUL_zveno_popularity = 20 compare = greater_than_or_equals }
				}
				add_to_variable = { BUL_zveno_coup_size = 0.2 }
			}
			else_if = {
				limit = {
					check_variable = { BUL_zveno_popularity = 10 compare = greater_than_or_equals }
				}
				add_to_variable = { BUL_zveno_coup_size = 0.1 }
			}

			custom_effect_tooltip = BUL_impending_zveno_coup_size_tt

			clr_country_flag = BUL_factions_unlocked_flag #No factions stuff during CW

			hidden_effect = {
				#Reset ideology support
				set_popularities = {
					communism = BUL_communist_support_before_zveno_coup
					democratic = BUL_democratic_support_before_zveno_coup
					fascism = BUL_fascist_support_before_zveno_coup
					neutrality = BUL_neutrality_support_before_zveno_coup
				}

				random_country = {
					limit = {
						original_tag = BUL
						controls_state = 212
					}
					set_cosmetic_tag = BUL_zveno_bulgaria
					set_country_flag = BUL_zveno_bulgaria_flag

					if = {
						limit = {
							NOT = { has_government = neutrality }
						}
						set_politics = { ruling_party = neutrality }
					}			
					every_other_country = {
						limit = {
							PREV = { #Zveno Bul
								has_volunteers_amount_from = {
								    tag = PREV
								    count > 0
								}
							}
						}
						recall_volunteers_from = PREV
					}

					#REMOVE Tsar Boris NS
					if = {
						limit = {
							has_idea = BUL_tsar_boris_positive_01
						}
						remove_ideas = BUL_tsar_boris_positive_01
					}
					else_if = {
						limit = {
							has_idea = BUL_tsar_boris_positive_02
						}
						remove_ideas = BUL_tsar_boris_positive_02
					}
					else_if = {
						limit = {
							has_idea = BUL_tsar_boris_positive_03
						}
						remove_ideas = BUL_tsar_boris_positive_03
					}
					else_if = {
						limit = {
							has_idea = BUL_tsar_boris_negative_01
						}
						remove_ideas = BUL_tsar_boris_negative_01
					}
					else_if = {
						limit = {
							has_idea = BUL_tsar_boris_negative_02
						}
						remove_ideas = BUL_tsar_boris_negative_02
					}

					if = {
						limit = {
							OR = {
								has_idea = BUL_army_restrictions_aat
								has_idea = BUL_army_restrictions
							}
						}
						set_rule = {
							can_not_declare_war = yes
						}
						country_lock_all_division_template = yes
					}

					set_popularities = {
						democratic = 10
						neutrality = 55
						communism = 5
						fascism = 30
					}
					set_party_name = {
						ideology = neutrality
						long_name = BUL_zveno_bulgaria_neutrality_party_long
						name = BUL_zveno_bulgaria_neutrality_party
					}

					if = { # Delete duplicated Kimon Georgiev, the impostor, the fake, the cheap pirate copy
						limit = {
							has_character = BUL_kimon_georgiev
						}
						retire_character = BUL_kimon_georgiev
					}

					if = { # Transfer Kimon Georgiev the real one, the original one, the only one -> And then add him the country role he needs
						limit = {
							BUL = {
								has_character = BUL_kimon_georgiev
							}
						}
						BUL = {
							BUL_kimon_georgiev = {
								set_nationality = BUZ
								add_country_leader_role = {
									character = "BUL_kimon_georgiev"
									country_leader = {
										ideology=despotism
										traits = { old_coup_maker hardened_officer }
										expire="1965.1.1"
									}
									promote_leader = yes
								}
							}
						}
					}

					set_country_flag = BUL_appointed_zveno_members_flag
					set_country_flag = BUL_zveno_bolstered_flag

					delete_unit_template_and_units = {
						division_template = "IMRO Militia"
					}

					every_unit_leader = {
						limit = {
							NOT = { has_trait = trait_BUL_zveno_member }
						}
						set_nationality = ROOT
					}

					#Operatives in the FF
					if = {
						limit = {
							has_dlc = "La Resistance"
						}
						every_operative = {
							limit = {
								has_trait = trait_BUL_tsar_loyalist
							}
							set_nationality = BUL
						}
					}
				}
			
				#Operatives in original BUL
				if = {
					limit = {
						has_dlc = "La Resistance"
					}
					every_operative = {
						limit = {
							OR = {
								has_trait = trait_BUL_ff_sympathizer
								has_trait = trait_BUL_zveno_member
							}
						}
						set_nationality = BUZ
					}
				}

				every_unit_leader = {
					limit = {
						has_trait = trait_BUL_zveno_member
					}
					set_nationality = BUZ
				}
			}
		}
	}
}


#### ##     ## ########   #######  
 ##  ###   ### ##     ## ##     ## 
 ##  #### #### ##     ## ##     ## 
 ##  ## ### ## ########  ##     ## 
 ##  ##     ## ##   ##   ##     ## 
 ##  ##     ## ##    ##  ##     ## 
#### ##     ## ##     ##  #######  


BUL_macedonian_revolutionary_organizations = {
	BUL_repress_imro_propaganda  = {

		priority = 10

		icon = GFX_decision_eng_propaganda_campaigns

		ai_will_do = {
			base = 10
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			NOT = { has_country_flag = BUL_macedonian_affairs_ongoing_flag }
		}

		days_remove = 60

		fire_only_once = yes

		visible = {
			has_completed_focus = BUL_condemn_macedonian_organizations
			has_civil_war = no
		}

		cost = 50

		complete_effect = {
			set_country_flag = BUL_macedonian_affairs_ongoing_flag
			set_country_flag = { flag = BUL_repress_imro_flag value = 1 }
		}

		remove_effect = {
			swap_ideas = {
				remove_idea = BUL_imro_01
				add_idea = BUL_imro_02
			}
			clr_country_flag = BUL_macedonian_affairs_ongoing_flag
		}
	}

	BUL_repress_imro_persecute_activists  = {

		priority = 9

		icon = GFX_decision_generic_police_action

		ai_will_do = {
			base = 10
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			NOT = { has_country_flag = BUL_macedonian_affairs_ongoing_flag }
			has_equipment = { support_equipment > 199 }
			has_equipment = { infantry_equipment > 799 }
		}

		days_remove = 60

		fire_only_once = yes

		visible = {
			has_country_flag = { flag = BUL_repress_imro_flag value = 1 }
			has_civil_war = no
		}

		cost = 25

		complete_effect = {
			set_country_flag = BUL_macedonian_affairs_ongoing_flag
			set_country_flag = { flag = BUL_repress_imro_flag value = 2 }
			add_manpower = -2000
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = -200
				producer = BUL
			}
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -800
				producer = BUL
			}
		}

		remove_effect = {
			swap_ideas = {
				remove_idea = BUL_imro_02
				add_idea = BUL_imro_03
			}
			clr_country_flag = BUL_macedonian_affairs_ongoing_flag
		}
	}

	BUL_repress_imro_destroy_organization  = {

		priority = 8

		icon = GFX_decision_oppression

		ai_will_do = {
			base = 1
			modifier = {
				factor = 2
				OR = {
					has_government = communism
					has_government = democratic
				}
			}
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			NOT = { has_country_flag = BUL_macedonian_affairs_ongoing_flag }
			has_war = no
		}

		days_remove = 60

		visible = {
			has_country_flag = { flag = BUL_repress_imro_flag value = 2 }
			owns_state = 212
			owns_state = 48
		}

		cancel_trigger = {
		}

		cancel_effect = {
			clr_country_flag = BUL_macedonian_affairs_ongoing_flag
			48 = {
				remove_dynamic_modifier = { modifier = skirmishes_against_imro }
			}
			212 = {
				remove_dynamic_modifier = { modifier = skirmishes_against_imro }
			}
		}

		cost = 25

		complete_effect = {
			set_country_flag = BUL_macedonian_affairs_ongoing_flag
		}

		remove_effect = {
			clr_country_flag = BUL_macedonian_affairs_ongoing_flag
			set_country_flag = { flag = BUL_repress_imro_flag value = 3 }
			remove_ideas = BUL_imro_03
			add_stability = 0.1
			add_political_power = 70

			48 = {
				remove_dynamic_modifier = { modifier = skirmishes_against_imro }
			}
			212 = {
				remove_dynamic_modifier = { modifier = skirmishes_against_imro }
			}
		}
	}
}



########  ########    ###    ########  ##     ##    ###    ##     ## ######## ##    ## ######## 
##     ## ##         ## ##   ##     ## ###   ###   ## ##   ###   ### ##       ###   ##    ##    
##     ## ##        ##   ##  ##     ## #### ####  ##   ##  #### #### ##       ####  ##    ##    
########  ######   ##     ## ########  ## ### ## ##     ## ## ### ## ######   ## ## ##    ##    
##   ##   ##       ######### ##   ##   ##     ## ######### ##     ## ##       ##  ####    ##    
##    ##  ##       ##     ## ##    ##  ##     ## ##     ## ##     ## ##       ##   ###    ##    
##     ## ######## ##     ## ##     ## ##     ## ##     ## ##     ## ######## ##    ##    ##    


BUL_rearmament = {
	BUL_demonstrate_our_policies_of_peace = {

		icon = GFX_decision_generic_form_nation

		ai_will_do = {
			base = 100
			modifier = {
				factor = 100
				is_historical_focus_on = yes
			}
			modifier = {
				factor = 0
				has_government = fascism
			}
		}

		cancel_trigger = {
		}

		cancel_effect = {
			clr_country_flag = BUL_rearmament_negotiations_ongoing_flag
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			has_war = no
			NOT = { has_country_flag = BUL_rearmament_negotiations_ongoing_flag }
			custom_trigger_tooltip = {
				tooltip = BUL_not_justifying_wargoals_tt
				NOT = {
					any_country = {
						BUL = {
							is_justifying_wargoal_against = PREV
						}
					}
				}
			}
		}

		days_remove = 90

		fire_only_once = yes

		visible = {
			OR = {
				has_idea = BUL_army_restrictions_aat
				has_idea = BUL_army_restrictions
			}
			has_completed_focus = BUL_negotiate_bulgarian_rearmament
		}

		cost = 50

		complete_effect = {
			set_country_flag = BUL_rearmament_negotiations_ongoing_flag
		}

		remove_effect = {
			unlock_decision_tooltip = BUL_negotiate_bulgarian_rearmament
			clr_country_flag = BUL_rearmament_negotiations_ongoing_flag
			set_country_flag = { flag = BUL_rearmament_flag value = 1 }
		}
	}

	BUL_negotiate_bulgarian_rearmament = {

		icon = GFX_decision_generic_industry

		ai_will_do = {
			base = 100
			modifier = {
				factor = 100
				is_historical_focus_on = yes
			}
			modifier = {
				factor = 0.5
				has_government = fascism
			}
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			has_war = no
			NOT = { has_country_flag = BUL_rearmament_negotiations_ongoing_flag }
			custom_trigger_tooltip = {
				tooltip = BUL_not_justifying_wargoals_tt
				NOT = {
					any_country = {
						BUL = {
							is_justifying_wargoal_against = PREV
						}
					}
				}
			}
		}

		days_remove = 30

		fire_only_once = yes

		visible = {
			OR = {
				has_idea = BUL_army_restrictions_aat
				has_idea = BUL_army_restrictions
			}
			has_country_flag = { flag = BUL_rearmament_flag value = 1 }
		}

		cost = 50

		complete_effect = {
			set_country_flag = BUL_rearmament_negotiations_ongoing_flag
			set_country_flag = { flag = BUL_rearmament_flag value = 2 }
		}

		remove_effect = {
			clr_country_flag = BUL_rearmament_negotiations_ongoing_flag
			ENG = { country_event = bftb_bulgaria_rearmament.1 }
			if = {
				limit = {
					ENG = { is_ai = yes }
				}
				custom_effect_tooltip = BUL_rearmament_main_factors_tt
			}
		}
	}

	BUL_pressure_to_lift_army_restrictions = {

		icon = GFX_decision_eng_trade_unions_support

		ai_will_do = {
			base = 100
			modifier = {
				factor = 100
				is_historical_focus_on = yes
			}
			modifier = {
				factor = 0.5
				has_government = fascism
			}
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			has_war = no
			NOT = { has_country_flag = BUL_rearmament_negotiations_ongoing_flag }
			custom_trigger_tooltip = {
				tooltip = BUL_not_justifying_wargoals_tt
				NOT = {
					any_country = {
						BUL = {
							is_justifying_wargoal_against = PREV
						}
					}
				}
			}
		}

		fire_only_once = yes

		visible = {
			OR = {
				has_idea = BUL_army_restrictions_aat
				has_idea = BUL_army_restrictions
			}
			has_country_flag = { flag = BUL_rearmament_flag value = 2 }
		}

		cost = 50

		complete_effect = {
			ENG = { country_event = { id = bftb_bulgaria_rearmament.7 hours = 1 } }
			if = {
				limit = {
					ENG = { is_ai = yes }
				}
				custom_effect_tooltip = BUL_rearmament_main_factors_tt
			}
		}
	}

	BUL_refuse_army_restrictions = {

		icon = GFX_decision_generic_break_treaty

		ai_will_do = {
			base = 1000
			modifier = {
				factor = 100
				has_government = fascism
			}
		}

		allowed = { 
			original_tag = BUL
		}

		available = {
			OR = {
				has_war = yes
				AND = {
					is_in_faction = yes
					NOT = { is_in_faction_with = ENG }
				}
			}	
			NOT = { has_country_flag = BUL_rearmament_negotiations_ongoing_flag }
		}

		fire_only_once = yes

		visible = {
			OR = {
				has_idea = BUL_army_restrictions_aat
				has_idea = BUL_army_restrictions
			}
			date > 1937.6.1
		}
		fire_only_once = yes

		cost = 50

		complete_effect = {
			clr_country_flag = BUL_rearmament_negotiations_ongoing_flag
			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				remove_ideas = BUL_army_restrictions_aat
			}
			else = {
				remove_ideas = BUL_army_restrictions
			}
			if = {
				limit = { has_country_flag = BUL_rearmament_flag }
				clr_country_flag = BUL_rearmament_flag
			}
			set_country_flag = BUL_refused_arms_restrictions_flag
			ENG = { country_event = bftb_bulgaria_rearmament.9 }
			if = {
				limit = {
					has_war = no
				}
				add_threat = 5
			}
		}
	}
}


#### ##    ## ########  ##     ##  ######  ######## ########  ####    ###    ##       
 ##  ###   ## ##     ## ##     ## ##    ##    ##    ##     ##  ##    ## ##   ##       
 ##  ####  ## ##     ## ##     ## ##          ##    ##     ##  ##   ##   ##  ##       
 ##  ## ## ## ##     ## ##     ##  ######     ##    ########   ##  ##     ## ##       
 ##  ##  #### ##     ## ##     ##       ##    ##    ##   ##    ##  ######### ##       
 ##  ##   ### ##     ## ##     ## ##    ##    ##    ##    ##   ##  ##     ## ##       
#### ##    ## ########   #######   ######     ##    ##     ## #### ##     ## ######## 


BUL_foreign_agreements = {

	BUL_german_industrial_agreements = {
		fire_only_once = yes
		priority = 59

		icon = generic_factory

		ai_will_do = {
			base = 10
		}

		allowed = { tag = BUL } 

		available = {
			NOT = { has_war_with = GER }
		}

		visible = {
			NOT = { has_completed_focus = BUL_nationalization }
			BUL = { has_completed_focus = BUL_attract_foreign_capitals }
			NOT = { has_country_flag = foreign_contract_done }
		}

		cancel_trigger = {
			has_completed_focus = BUL_nationalization
		}

		cost = BUL_german_civ_industries_cost
		days_remove = 35
		days_re_enable = 1
		
		modifier = {
			civilian_factory_use = 1
		}
		
		complete_effect = {
			set_country_flag = foreign_contract_done
		}
		
		remove_effect = {
			hidden_effect = {
				set_variable = { BFI_MCS = 0.1 }
				set_variable = { BFI_RF = 0.1 }
			}
				custom_effect_tooltip = BUL_foreign_investor_germany_tt			
			801 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	BUL_british_industrial_agreements = {

		priority = 58
		fire_only_once = yes
		icon = generic_factory

		ai_will_do = {
			base = 10
		}

		allowed = { tag = BUL } 

		available = {
			NOT = { has_war_with = ENG }
		}

		visible = {
			NOT = { has_completed_focus = BUL_nationalization }
			BUL = { has_completed_focus = BUL_attract_foreign_capitals }
			NOT = { has_country_flag = foreign_contract_done }
		}

		cancel_trigger = {
			has_completed_focus = BUL_nationalization
		}

		cost = BUL_british_civ_industries_cost
		days_remove = 35
		days_re_enable = 1
		
		modifier = {
			civilian_factory_use = 1
		}
		
		complete_effect = {
			set_country_flag = foreign_contract_done
		}
		
		remove_effect = {

			hidden_effect = {
				set_variable = { BFI_MCS = 0.1 }
				set_variable = { BFI_EGF = 0.1 }
			}
			custom_effect_tooltip = BUL_foreign_investor_britain_tt
			801 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	BUL_soviet_industrial_agreements = {

		priority = 57
		fire_only_once = yes
		icon = generic_factory

		ai_will_do = {
			base = 10
		}

		allowed = { tag = BUL } 

		available = {
			NOT = { has_war_with = SOV }
		}

		visible = {
			NOT = { has_completed_focus = BUL_nationalization }
			BUL = { has_completed_focus = BUL_attract_foreign_capitals }
			NOT = { has_country_flag = foreign_contract_done }
		}

		cancel_trigger = {
			has_completed_focus = BUL_nationalization
		}

		cost = BUL_soviet_civ_industries_cost
		days_remove = 35
		days_re_enable = 1
		
		modifier = {
			civilian_factory_use = 1
		}
		
		complete_effect = {
			set_country_flag = foreign_contract_done
		}
		
		remove_effect = {
			hidden_effect = {
				set_variable = { BFI_MCS = 0.1 }
				set_variable = { BFI_SEF = 0.1 }
			}
				custom_effect_tooltip = BUL_foreign_investor_soviet_tt
			801 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}			
		}
	}
}

########   #######  ##       #### ######## ####  ######     ###    ##          ##       ########    ###    ########  ######## ########   ######  
##     ## ##     ## ##        ##     ##     ##  ##    ##   ## ##   ##          ##       ##         ## ##   ##     ## ##       ##     ## ##    ## 
##     ## ##     ## ##        ##     ##     ##  ##        ##   ##  ##          ##       ##        ##   ##  ##     ## ##       ##     ## ##       
########  ##     ## ##        ##     ##     ##  ##       ##     ## ##          ##       ######   ##     ## ##     ## ######   ########   ######  
##        ##     ## ##        ##     ##     ##  ##       ######### ##          ##       ##       ######### ##     ## ##       ##   ##         ## 
##        ##     ## ##        ##     ##     ##  ##    ## ##     ## ##          ##       ##       ##     ## ##     ## ##       ##    ##  ##    ## 
##         #######  ######## ####    ##    ####  ######  ##     ## ########    ######## ######## ##     ## ########  ######## ##     ##  ######  


political_actions = {
	BUL_appoint_tsankov = {
		priority = 100

		icon = GFX_decision_generic_speech

		ai_will_do = {
			base = 0
		}

		allowed = {
			original_tag = BUL
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			has_country_flag = BUL_nsm_integrated_flag
		}
		
		visible = {
			has_government = fascism
			NOT = {
				has_country_leader = { character = BUL_aleksandar_tsankov }
			}
		}

		fire_only_once = yes
		
		cost = 50
		
		complete_effect = {
			retire_ideology_leader = fascism
			set_party_name = {
				ideology = fascism
				long_name = BUL_national_social_movement_party_long
				name = BUL_national_social_movement_party
			}
			add_country_leader_role = {
				character = BUL_aleksandar_tsankov
				country_leader = {
				  ideology=nazism
				  traits = { the_bloody_professor }
				  expire="1965.1.1"
				}
				promote_leader = yes
			}
		}
	}
}
