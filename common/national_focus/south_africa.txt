focus_tree = {
	id = south_african_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = SAF
			has_dlc = "Together for Victory"
		}
		
		#modifier = {
		#	add = 10
		#	original_tag = SAF
		#	has_dlc = "Together for Victory"
		#}
	}
	
	default = no



#	focus = {
#		id = SAF_
#		icon = GFX_
#		prerequisite = { focus = }
#		mutually_exclusive = { focus =  }
#		x = -3
#		y = 0
#		relative_position_id = 
#
#		cost = 10
#
#		ai_will_do = {
#			factor = 1
#		}
#
#		available = {
#
#		}
#		
#		bypass = {
#
#		}
#
#		cancel_if_invalid = yes
#		continue_if_invalid = no
#		available_if_capitulated = no
#
#		complete_tooltip = {
#
#		}
#
#		completion_reward = {
#
#		}
#	}



	############################
	#### WAR PREP SECTION ######
	############################
	shared_focus = ALLIES_commonwealth_of_nations

	focus = {
		id = SAF_seek_political_support
		icon = GFX_focus_eng_concessions_to_the_trade_unions
		x = 7
		y = 0

		cost = 0

		ai_will_do = {
			factor = 1
		}
		available = {
			SAF = { is_ai = no }
		}	
		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
	
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			#hidden_effect = {
			#	add_dynamic_modifier = {
			#		modifier = SAF_Politcal_manuevering_i
			#	}
			#}
			
			custom_effect_tooltip = SAF_tt_start_pm
			
			add_dynamic_modifier = {
				modifier = SAF_Politcal_manuevering_i
			}
		}
	}

	focus = {
		id = SAF_war_measures_act
		icon = GFX_goal_generic_demand_territory
		x = 1
		y = 0

		cost = 10

		ai_will_do = {
			factor = 1
		}
		available = {
			SAF = { is_ai = no }
		}	
		available = {
			OR = {
				threat > 0.2
				has_war = yes
			}
			OR = {
				has_completed_focus = SAF_expand_the_mining_industry2
				has_completed_focus = SAF_expand_the_mining_industry3
			}
			has_completed_focus = SAF_seek_political_support
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
	
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_political_power = 120

			if = {
				limit = { has_completed_focus = SAF_expand_the_mining_industry2 }
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SAF_modify_dynamicm_tt
						add_to_variable = { 
							var_SAF_2_consg = 0.10
							tooltip = consumer_goods_factor_tt
						}
						add_to_variable = { 
							var_SAF_2_factoryspeed  = -0.10
							tooltip = production_speed_arms_factory_factor_tt
						}
						add_to_variable = {
							var_SAF_2_civspeed = -0.05
							tooltip = production_speed_industrial_complex_factor_tt
						}
						
		}}
	}

	focus = {
		id = SAF_emergency_workers
		icon = GFX_goal_generic_production
		prerequisite = { focus = SAF_war_measures_act }
		x = -1
		y = 1
		relative_position_id = SAF_war_measures_act

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = SAF_emergency_workers
		}
	}

	focus = {
		id = SAF_cape_garrison_artillery
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = SAF_emergency_workers }
		x = -1
		y = 2
		relative_position_id = SAF_war_measures_act

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					is_in_home_area = yes
				}
				set_building_level = {
					type = coastal_bunker
					province = {
						all_provinces = yes
						limit_to_coastal = yes
					}
					level = 2
					instant_build = yes
				}
				set_building_level = {
					type = coastal_bunker
					province = {
						all_provinces = yes							
						limit_to_naval_base = yes
					}
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = SAF_reconstitute_the_cape_corps
		icon = GFX_goal_generic_allies_build_infantry
		prerequisite = { focus = SAF_cape_garrison_artillery}
		x = -1
		y = 4
		relative_position_id = SAF_war_measures_act

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_1_influence_max_35
				check_variable = {
					SAF_1_Influence < 35
				}
			}
			custom_trigger_tooltip = { 
				tooltip = SAF_2_influence_min_50
				check_variable = {
					SAF_2_Influence > 50
				}
			}
			custom_trigger_tooltip = { 
				tooltip = SAF_3_influence_min_30
				check_variable = {
					SAF_3_Influence > 30
				}
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			swap_ideas = {
				remove_idea = SAF_history_of_segregation
				add_idea = SAF_history_of_segregation_2
			}
			custom_effect_tooltip = SAF_tt_2_5_support
			add_to_variable = { SAF_2_Support = 5}
			custom_effect_tooltip = SAF_tt_1_-5_support
			add_to_variable = { SAF_1_Support = -5}
			custom_effect_tooltip = SAF_tt_3_5_influence
			add_to_variable = { SAF_3_Influence = 5}

		}
	}

	focus = {
		id = SAF_expand_the_cape_corps
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = SAF_reconstitute_the_cape_corps }
		x = -1
		y = 5
		relative_position_id = SAF_war_measures_act

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_1_influence_max_25
				check_variable = {
					SAF_1_Influence < 25
				}
			}
			custom_trigger_tooltip = { 
				tooltip = SAF_2_influence_min_50
				check_variable = {
					SAF_2_Influence > 50
				}
			}
			custom_trigger_tooltip = { 
				tooltip = SAF_3_influence_min_30
				check_variable = {
					SAF_3_Influence > 30
				}
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			remove_ideas = SAF_history_of_segregation_2
			custom_effect_tooltip = SAF_tt_2_5_support
			add_to_variable = { SAF_2_Support = 5}
			custom_effect_tooltip = SAF_tt_1_-10_support
			add_to_variable = { SAF_1_Support = -10}
			custom_effect_tooltip = SAF_tt_3_5_influence
			add_to_variable = { SAF_3_Influence = 5}
		}
	}

	focus = {
		id = SAF_outlaw_strikes
		icon = GFX_goal_generic_consumer_goods
		prerequisite = { focus = SAF_work_for_all_poor }
		x = 4
		y = 5
		relative_position_id = SAF_war_measures_act

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_3_influence_max_40
				check_variable = {
					SAF_3_Influence < 40
				}
			}
			custom_trigger_tooltip = {
				tooltip = SAF_2_influence_min_50
				check_variable = {
					SAF_2_Influence > 50
				}
			}
			custom_trigger_tooltip = {
				tooltip = SAF_1_support_min_30
				check_variable = {
					SAF_1_support > 30
				}
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			swap_ideas = {
				remove_idea = SAF_cheap_labor_2
				add_idea = SAF_cheap_labor_3
			}
			custom_effect_tooltip =  SAF_tt_2_5_support 
		add_to_variable = { SAF_2_Support = 5}
		custom_effect_tooltip =  SAF_tt_1_5_support 
		add_to_variable = { SAF_1_Support = 5}
		custom_effect_tooltip =  SAF_tt_3_-10_support 
		add_to_variable = { SAF_3_Support = -10}
		custom_effect_tooltip =  SAF_tt_3_-10_influence
		add_to_variable = { SAF_3_Influence = -10}
		}
	}


	############################
	# GO COMMONWEALTH SECTION ##
	############################

	focus = {
		id = SAF_support_the_policy_of_appeasement
		icon = GFX_goal_tfv_strengthen_commonwealth_ties
		x = 4
		y = 0

		cost = 5

		ai_will_do = {
			factor = 1
		}
		available = {
			SAF = { is_ai = no }
		}	
		available = {
			OR = {
				is_subject_of = ENG
				AND = {
					has_global_flag = ENG_decolonized
					is_in_faction_with = ENG
				}
			}
			ENG = { has_war = no }
			has_completed_focus = SAF_seek_political_support
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
		add_political_power = 120
		custom_effect_tooltip =  SAF_tt_2_10_support 
		add_to_variable = { SAF_2_Support = 10}
		custom_effect_tooltip = SAF_tt_3_5_support
		add_to_variable = { SAF_3_Support = 5}
		custom_effect_tooltip = SAF_tt_1_5_influence
		add_to_variable = { SAF_3_Influence = 5}
		}
	}

	focus = {
		id = SAF_csir
		icon = GFX_goal_tfv_generic_tech_sharing
		prerequisite = { focus = SAF_war_measures_act }
		prerequisite = { focus = SAF_support_the_policy_of_appeasement }
		x = -2
		y = 1
		relative_position_id = SAF_support_the_policy_of_appeasement

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			is_in_tech_sharing_group = commonwealth_research
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			SAF = {
   				modify_tech_sharing_bonus = {
         			id = commonwealth_research
         			bonus = 0.1  # we get 20% higher bonus from this group
    			}
			}
			custom_effect_tooltip =  SAF_tt_2_5_support 
		add_to_variable = { SAF_2_Support = 5}
		}
	}

	focus = {
		id = SAF_police_windhoek
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = SAF_support_the_policy_of_appeasement }
		x = 0
		y = 1
		relative_position_id = SAF_support_the_policy_of_appeasement

		cost = 10

		ai_will_do = {
			factor = 2
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_1_influence_max_35
				check_variable = {
					SAF_1_Influence < 35
				}
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {			
			swap_ideas = {
				remove_idea = SAF_ossewabrandwag
				add_idea = SAF_ossewabrandwag_2
			}
			remove_opinion_modifier = { target = ENG modifier = SAF_anti_british_sentiment }
			custom_effect_tooltip =  SAF_tt_1_-10_support 
		add_to_variable = { SAF_1_Support = -10}
		custom_effect_tooltip =  SAF_tt_1_-5_influence
		add_to_variable = { SAF_1_Influence = -5}
		}
	}

	focus = {
		id = SAF_joint_air_training_scheme
		icon = GFX_goal_generic_air_fighter2
		prerequisite = { focus = SAF_csir }
		x = -2
		y = 2
		relative_position_id = SAF_support_the_policy_of_appeasement

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = SAF_joint_air_training_scheme
			custom_effect_tooltip =  SAF_tt_2_5_influence
		add_to_variable = { SAF_2_Influence = 5}
		}
	}

	focus = {
		id = SAF_desert_equipment
		icon = GFX_goal_generic_allies_build_infantry
		prerequisite = { focus = SAF_joint_air_training_scheme }
		x = -3
		y = 3
		relative_position_id = SAF_support_the_policy_of_appeasement

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = SAF_desert_equipment
		}
	}

	focus = {
		id = SAF_suppress_the_stormjaers
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = SAF_joint_air_training_scheme }
		prerequisite = { focus = SAF_police_windhoek }
		x = -1
		y = 3
		relative_position_id = SAF_support_the_policy_of_appeasement

		cost = 10

		ai_will_do = {
			factor = 2
		}

		available = {
			
			custom_trigger_tooltip = {
				tooltip = SAF_1_influence_max_25
				check_variable = {
					SAF_1_Influence < 25
				}
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY }
		
		completion_reward = {
			remove_ideas = SAF_ossewabrandwag_2
			custom_effect_tooltip =  SAF_tt_3_5_support 
		add_to_variable = { SAF_3_Support = 5}
		custom_effect_tooltip =  SAF_tt_1_-10_support 
		add_to_variable = { SAF_1_Support = -10}
		custom_effect_tooltip =  SAF_tt_1_-10_influence
		add_to_variable = { SAF_1_Influence = -10}
		}
	}

	focus = {
		id = SAF_secure_interests_in_africa
		icon = GFX_goal_tfv_saf_secure_interests_in_africa
		prerequisite = { focus = SAF_suppress_the_stormjaers }
		prerequisite = { focus = SAF_desert_equipment }
		x = -2
		y = 4
		relative_position_id = SAF_support_the_policy_of_appeasement

		cost = 10

		ai_will_do = {
			factor = 0
		}

		available = {
			SAF = { has_country_flag = ENG_permitted_SAF } 
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			transfer_state = 542
			transfer_state = 545
			transfer_state = 981
			transfer_state = 771
			transfer_state = 770
			transfer_state = 546

			transfer_state = 544
			transfer_state = 896
			transfer_state = 897
			transfer_state = 892
			transfer_state = 891
			transfer_state = 540

			542 = {add_core_of = SAF}
			545 = {add_core_of = SAF}
            981 = {add_core_of = SAF}
            771 = {add_core_of = SAF}
            770 = {add_core_of = SAF}
			546 = {add_core_of = SAF}
			544 = {add_core_of = SAF}
			896 = {add_core_of = SAF}
			897 = {add_core_of = SAF}
			892 = {add_core_of = SAF}
			891 = {add_core_of = SAF}
			540 = {add_core_of = SAF}

custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip =  SAF_tt_2_10_influence
		add_to_variable = { SAF_2_Influence = 10}
		custom_effect_tooltip =  SAF_tt_2_-5_support
		add_to_variable = { SAF_2_support = -5}
			set_cosmetic_tag = MUT_UNIFIED

			hidden_effect = {
				544 = {
					add_building_construction = {
						type = infrastructure
						level = 2
					}
					add_manpower = 250000
				}
				896 = {
					add_building_construction = {
						type = infrastructure
						level = 2
					}
					add_manpower = 250000
				}
				897 = {
					add_building_construction = {
						type = infrastructure
						level = 2
					}
					add_manpower = 250000
				}
				892 = {
					add_building_construction = {
						type = infrastructure
						level = 2
					}
					add_manpower = 250000
				}
				891 = {
					add_building_construction = {
						type = infrastructure
						level = 2
					}
					add_manpower = 250000
				}
				540 = {
					add_building_construction = {
						type = infrastructure
						level = 2
					}
					add_manpower = 250000
				}
			}

		}
	}

	############################
	## SHARED POLITICS SECTION #
	############################

	focus = {
		id = SAF_native_laws_amendment_act
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = SAF_police_windhoek  }
		x = 1
		y = 2
		relative_position_id = SAF_support_the_policy_of_appeasement

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_3_influence_max_25
				check_variable = {
					SAF_3_Influence < 25
				}
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_ideas = SAF_cheap_labor_1
			custom_effect_tooltip =  SAF_tt_2_5_support
		add_to_variable = { SAF_2_support = 5}
		custom_effect_tooltip =  SAF_tt_2_10_influence
		add_to_variable = { SAF_2_Influence = 10}
		custom_effect_tooltip =  SAF_tt_3_-10_support
		add_to_variable = { SAF_3_support = -10}
		custom_effect_tooltip =  SAF_tt_3_5_influence
		add_to_variable = { SAF_3_Influence = 5}
		custom_effect_tooltip =  SAF_tt_1_5_support
		add_to_variable = { SAF_1_support = 5}
		}
	}

	focus = {
		id = SAF_work_for_all_poor
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = SAF_native_laws_amendment_act }
		x = 1
		y = 4
		relative_position_id = SAF_support_the_policy_of_appeasement

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_3_influence_max_35
				check_variable = {
					SAF_3_Influence < 35
				}
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			swap_ideas = {
				remove_idea = SAF_cheap_labor_1
				add_idea = SAF_cheap_labor_2
			}
			add_to_variable = {
				var = var_SAF_resc
				value = 0.1
				tooltip = SAF_tt_test2
			}
			custom_effect_tooltip =  SAF_tt_2_5_influence
		add_to_variable = { SAF_2_Influence = 5}
		custom_effect_tooltip =  SAF_tt_3_5_influence
		add_to_variable = { SAF_3_Influence = 5}
		}
	}

	############################
	#### GO FASCIST SECTION ####
	############################

	focus = {
		id = SAF_voortrekker_monument
		icon = GFX_goal_generic_national_unity
		prerequisite = { focus = SAF_native_laws_amendment_act  }
		x = 1
		y = 1
		relative_position_id = SAF_native_laws_amendment_act

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			NOT = { has_country_flag = britain_enforced_our_loyalty }
			custom_trigger_tooltip = {
				tooltip = SAF_3_influence_min_20
				check_variable = {
					SAF_3_Influence > 20
				}
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL FOCUS_FILTER_TFV_AUTONOMY}
		completion_reward = {
			add_ideas = SAF_voortrekker_monument
			add_to_variable = {
				var = var_SAF_consg
				value = -0.1
				tooltip = SAF_tt_test1_1
			}
			custom_effect_tooltip =  SAF_tt_2_-5_support
		add_to_variable = { SAF_2_support = -5}
			custom_effect_tooltip =  SAF_tt_3_5_influence
		add_to_variable = { SAF_3_Influence = 5}
		custom_effect_tooltip =  SAF_tt_3_10_support
		add_to_variable = { SAF_3_support = 10}
		}
	}
	############################
	##### INDUSTRY SECTION #####
	############################

	focus = {
		id = SAF_south_african_railways
		icon = GFX_goal_generic_construct_infrastructure
		x = 12
		y = 0

		cost = 5

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

        search_filters = { FOCUS_FILTER_INDUSTRY }
		available = {
			SAF = { is_ai = no }
			has_completed_focus = SAF_seek_political_support
		}	
		completion_reward = {

			random_owned_controlled_state  = {
				add_building_construction = {
					type = infrastructure 
					Level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 2
			}
			random_owned_controlled_state  = {
				add_building_construction = {
					type = infrastructure 
					Level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 2
			}
			random_owned_controlled_state  = {
				add_building_construction = {
					type = infrastructure 
					Level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 2
			}
		

		
			
		}
	}

	

	focus = {
		id = SAF_expand_the_mining_industry2
		icon = GFX_focus_generic_military_industry
		prerequisite = { focus = SAF_south_african_railways }
		x = -2
		y = 1
		relative_position_id = SAF_south_african_railways
		mutually_exclusive = { focus = SAF_expand_the_mining_industry3 }
		cost = 5


		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				#set_state_flag = SAF_expand_the_mining_industry_IC
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			add_dynamic_modifier = {
							modifier = SAF_Fast_Reamarment_i
						}

					
		}
	}
	focus = {
		id = SAF_mil_industry1
		icon = GFX_focus_generic_reorient_production
		prerequisite = { focus = SAF_expand_the_mining_industry2 }
		x = 0
		y = 1
		relative_position_id = SAF_expand_the_mining_industry2
		
		cost = 5


		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SAF_modify_dynamicm_tt
						add_to_variable = { 
							var_SAF_2_consg = -0.10
							tooltip = consumer_goods_factor_tt
						}
						add_to_variable = { 
							var_SAF_2_factoryspeed  = 0.05
							tooltip = production_speed_arms_factory_factor_tt
						}
						add_to_variable = {
							var_SAF_2_civspeed = -0.05
							tooltip = production_speed_industrial_complex_factor_tt
						}
						add_to_variable = { 
							var_SAF_2_stab = -0.02
							tooltip = stability_factor_tt
						}
						
			
		}
	}
	focus = {
		id = SAF_mil_industry2
		icon = GFX_focus_GER_factories_for_resources
		prerequisite = { focus = SAF_expand_the_mining_industry2 }
		x = -2
		y = 1
		relative_position_id = SAF_expand_the_mining_industry2
		
		cost = 5


		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			random_owned_controlled_state =  {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				
				add_resource = {
					type = steel
					amount = 20
				}
				add_resource = {
					type = tungsten
					amount = 10
				}
				add_resource = {
					type = aluminium
					amount = 5
				}
				add_resource = {
					type = oil
					amount = 2
				}
				
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SAF_modify_dynamicm_tt
						add_to_variable = { 
							var_SAF_2_ressourcepen = -0.15
							tooltip = production_lack_of_resource_penalty_factor_tt
						}
						add_to_variable = { 
							var_SAF_2_resc = 0.10
							tooltip = local_resources_factor_tt
						}
						#
						add_to_variable = {
							var_SAF_2_civspeed = -0.05
							tooltip = production_speed_industrial_complex_factor_tt
						}
						add_to_variable = { 
							var_SAF_2_stab = -0.02
							tooltip = stability_factor_tt
						}
						add_to_variable = { 
							var_SAF_2_law2 = 0.25
							tooltip = trade_laws_cost_factor_tt
						}
						
			
		}
	}

	focus = {
		id = SAF_mil_industry3
		icon = GFX_focus_SOV_merge_plants
		prerequisite = { focus = SAF_mil_industry1  }
		prerequisite = {focus = SAF_mil_industry2}
		x = -1
		y = 1
		relative_position_id = SAF_mil_industry1
		
		cost = 10

		available = {
			date > 1938.1.1
		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			random_owned_controlled_state =  {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}	
			}
			random_owned_controlled_state =  {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}	
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SAF_modify_dynamicm_tt
						add_to_variable = { 
							var_SAF_2_maxeff = 0.05
							tooltip = production_factory_max_efficiency_factor_tt
						}
						add_to_variable = { 
							var_SAF_2_effgain = 0.05
							tooltip = production_factory_efficiency_gain_factor_tt
						}
						add_to_variable = { 
							var_SAF_2_consg = -0.05
							tooltip = consumer_goods_factor_tt
						}
						add_to_variable = { 
							var_SAF_2_law1 = -0.10
							tooltip = economy_cost_factor_tt
						}
						add_to_variable = { 
							var_SAF_2_law3 = -0.10
							tooltip = mobilization_laws_cost_factor_tt
						}
						add_to_variable = {
							var_SAF_2_civspeed = -0.1
							tooltip = production_speed_industrial_complex_factor_tt
						}
						add_to_variable = { 
							var_SAF_2_stab = -0.06
							tooltip = stability_factor_tt
						}
			
		}
	}
	
	focus = {
		id = SAF_expand_the_mining_industry3
		icon = GFX_focus_DEN_heavy_regulations
		prerequisite = { focus = SAF_south_african_railways }
		x = 2
		y = 1
		relative_position_id = SAF_south_african_railways
		
		cost = 5


		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY}
		mutually_exclusive = { focus = SAF_expand_the_mining_industry2 }
		completion_reward = {
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 6
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				#set_state_flag = SAF_expand_the_mining_industry_IC
			}
		}
	}
	focus = {
		id = SAF_heavy_engineering
		icon = GFX_goal_generic_production
		prerequisite = { focus = SAF_expand_the_mining_industry3 }
		x = 0
		y = 1
		relative_position_id = SAF_expand_the_mining_industry3

		cost = 5

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = {  FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {	
			random_owned_controlled_state = {
				add_building_construction = {
					type = industrial_complex
					level = 2
				}
				add_extra_state_shared_building_slots = 4
			}		
			add_tech_bonus = {
				name = SAF_heavy_engineering
				bonus = 1.0
				uses = 2
				technology = advanced_machine_tools
				technology = flexible_line
				technology = assembly_line_production
				technology = streamlined_line
				technology = concentrated_industry3
				technology = concentrated_industry4
				technology = concentrated_industry5
				technology = dispersed_industry3 
				technology = dispersed_industry4 
				technology = dispersed_industry5 
			}
		}
	}

	focus = {
		id = SAF_expand_the_mining_industry
		icon = GFX_focus_generic_coal_mining
		prerequisite = { focus = SAF_expand_the_mining_industry3 }
		x = 2
		y = 1
		relative_position_id = SAF_expand_the_mining_industry3

		cost = 5


		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			random_owned_controlled_state = {
				
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}

				add_extra_state_shared_building_slots = 4
				add_resource = {
					type = steel
					amount = 25
				}
				add_resource = {
					type = tungsten
					amount = 15
				}
				add_resource = {
					type = aluminium
					amount = 10
				}
				add_resource = {
					type = oil
					amount = 5
				}
				set_state_flag = SAF_expand_the_mining_industry_IC
			}
			add_tech_bonus = {
				name = SAF_heavy_engineering
				bonus = 0.5
				uses = 3
				technology = excavation1
				technology = excavation2
				technology = excavation3
				technology = excavation4
				technology = excavation5
			}
		}
	}

	focus = {
		id = SAF_heavy_engineering2
		icon = GFX_focus_generic_africa_factory
		prerequisite = { focus = SAF_heavy_engineering }
		prerequisite = { focus = SAF_expand_the_mining_industry }
		x = -1
		y = 1
		relative_position_id = SAF_expand_the_mining_industry

		cost = 10
		available = {
			date > 1938.1.1
		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = {  FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {	
			random_owned_controlled_state = {
				add_building_construction = {
					type = industrial_complex
					level = 2
				}
				add_extra_state_shared_building_slots = 4
			}	
			random_owned_controlled_state = {
				add_building_construction = {
					type = industrial_complex
					level = 2
				}
				add_extra_state_shared_building_slots = 4
			}	
				
			
		}
	}
	focus = {
		id = SAF_infrastructure_effort
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = SAF_expand_the_mining_industry2 focus = SAF_expand_the_mining_industry3 }
		x = 0
		y = 2
		relative_position_id = SAF_south_african_railways

		cost = 5

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {			
			random_owned_controlled_state  = {
				add_building_construction = {
					type = infrastructure 
					Level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 2
			}
			random_owned_controlled_state  = {
				add_building_construction = {
					type = infrastructure 
					Level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 2
			}
			random_owned_controlled_state  = {
				add_building_construction = {
					type = infrastructure 
					Level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 2
			}
			
		}
	}

	focus = {
		id = SAF_armament_effort
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = SAF_infrastructure_effort }
		x = -1
		y = 3
		relative_position_id = SAF_south_african_railways

		cost = 10

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
				set_state_flag = SAF_armament_effort_AF
			}
		}
	}

	focus = {
		id = SAF_south_african_steel
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = SAF_infrastructure_effort }
		x = 1
		y = 3
		relative_position_id = SAF_south_african_railways

		cost = 10

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			random_owned_controlled_state = {
				add_building_construction = {
					type = industrial_complex
					level = 5
				}
				add_extra_state_shared_building_slots = 6
			}
			275 = {
				add_resource = {
					type = steel
					amount = 24
				}
			}
		}
	}

	focus = {
		id = SAF_pretoria_arms
		icon = GFX_goal_generic_production2
		prerequisite = { focus = SAF_armament_effort focus = SAF_south_african_steel }
		x = -1
		y = 4
		relative_position_id = SAF_south_african_railways

		cost = 10


		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = SAF_pretoria_arms_AF
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
				set_state_flag = SAF_pretoria_arms_AF
			}
		}
	}

	focus = {
		id = SAF_expand_the_rand_mines
		icon = GFX_goal_generic_consumer_goods
		prerequisite = { focus = SAF_south_african_steel focus = SAF_armament_effort }
		x = 1
		y = 4
		relative_position_id = SAF_south_african_railways

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			random_owned_controlled_state = {
				add_building_construction = {
					type = industrial_complex
					level = 2
				}
				add_extra_state_shared_building_slots = 3
			}
			add_ideas = SAF_gold_exports
		}
	}

	focus = {
		id = SAF_fund_the_university_of_south_africa
		icon = GFX_focus_research
		prerequisite = { focus = SAF_pretoria_arms focus = SAF_expand_the_rand_mines }
		x = 0
		y = 5
		relative_position_id = SAF_south_african_railways

		cost = 10

		ai_will_do = {
			factor = 45
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = SAF_establish_the_atomics_energy_board
		icon = GFX_focus_wonderweapons
		prerequisite = { focus = SAF_fund_the_university_of_south_africa }
		x = 0
		y = 6
		relative_position_id = SAF_south_african_railways

		cost = 5

		ai_will_do = {
			factor = 5
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_establish_the_atomics_energy_board
				bonus = 1.0
				uses = 2
				category = nuclear
			}
		}
	}

	focus = {
		id = SAF_the_cape_defense_institute
		icon = GFX_focus_research
		prerequisite = { focus = SAF_establish_the_atomics_energy_board }
		x = 0
		y = 7
		relative_position_id = SAF_south_african_railways

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = { date > 1939.1.1
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_research_slot = 1
		}
	}


	############################
	####### ARMY SECTION #######
	############################

	focus = {
		id = SAF_special_service_battalion
		icon = GFX_goal_generic_army_doctrines
		x = 19
		y = 0

		cost = 5
		available = {
			SAF = { is_ai = no }
			has_completed_focus = SAF_seek_political_support
		}	
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			army_experience = 10
			add_doctrine_cost_reduction = {
				name = SAF_special_service_battalion
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
		}
	}

	focus = {
		id = SAF_improve_the_three_oh_three
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = SAF_special_service_battalion }
		x = -1
		y = 1
		relative_position_id = SAF_special_service_battalion

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_improve_the_three_oh_three
				bonus = 1.0
				uses = 1
				category = infantry_weapons
			}
		}
	}

	focus = {
		id = SAF_q_services_corps
		icon = GFX_goal_generic_army_motorized
		prerequisite = { focus = SAF_special_service_battalion }
		x = 1
		y = 1
		relative_position_id = SAF_special_service_battalion

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_q_services_corps
				bonus = 3.0
				uses = 1
				category = motorized_equipment
			}
		}
	}

	focus = {
		id = SAF__south_african_military_college
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = SAF_improve_the_three_oh_three focus = SAF_q_services_corps }
		x = 0
		y = 2
		relative_position_id = SAF_special_service_battalion

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			army_experience = 10
			add_doctrine_cost_reduction = {
				name = SAF__south_african_military_college
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
			add_tech_bonus = {
				name = SAF_armor_effort
				bonus = 1.0
				uses = 1
				category = armor
			}
		}
	}

	focus = {
		id = SAF_expand_the_south_african_artillery
		icon = GFX_goal_generic_army_artillery2
		prerequisite = { focus = SAF_improve_the_three_oh_three focus = SAF__south_african_military_college }
		x = -1
		y = 3
		relative_position_id = SAF_special_service_battalion

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_expand_the_south_african_artillery
				bonus = 1.0
				uses = 1
				category = artillery
			}
		}
	}

	focus = {
		id = SAF_sa_engineer_corps
		icon = GFX_goal_generic_allies_build_infantry
		prerequisite = { focus = SAF_q_services_corps focus = SAF__south_african_military_college }
		x = 1
		y = 3
		relative_position_id = SAF_special_service_battalion

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_sa_engineer_corps
				bonus = 1.0
				uses = 1
				category = support_tech
			}
		}
	}

	focus = {
		id = SAF_equipment_effort
		icon = GFX_goal_generic_army_artillery
		prerequisite = { focus = SAF_expand_the_south_african_artillery focus = SAF_sa_engineer_corps }
		x = 0
		y = 4
		relative_position_id = SAF_special_service_battalion

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {			
			add_tech_bonus = {
				name = SAF_equipment_effort
				bonus = 1.0
				uses = 1
				category = infantry_weapons
				category = artillery
			}
		}
	}

	focus = {
		id = SAF_mechanization_effort
		icon = GFX_goal_generic_build_tank
		prerequisite = { focus = SAF_equipment_effort }
		x = -1
		y = 5
		relative_position_id = SAF_special_service_battalion

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {			
			add_tech_bonus = {
				name = SAF_mechanization_effort
				bonus = 1.0
				uses = 1
				category = cat_mechanized_equipment
			}
		}
	}

	focus = {
		id = SAF_south_african_special_forces
		icon = GFX_goal_generic_special_forces
		prerequisite = { focus = SAF_equipment_effort focus = SAF_sa_engineer_corps }
		x = 1
		y = 5
		relative_position_id = SAF_special_service_battalion

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = special_forces_doctrine
			}
		}
	}

	focus = {
		id = SAF_armor_effort
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = SAF_south_african_special_forces focus = SAF_mechanization_effort }
		x = 0
		y = 6
		relative_position_id = SAF_special_service_battalion

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_armor_effort
				bonus = 1.0
				uses = 1
				category = armor
			}
		}
	}


	############################
	####### AIR SECTION ########
	############################


	############################
	###### NAVY SECTION ########
	############################

	focus = {
		id = SAF_seaward_defence_force
		icon = GFX_goal_generic_navy_doctrines_tactics
		x = 17
		y = 0		

		cost = 10
		available = {
			SAF = { is_ai = no }
			has_completed_focus = SAF_seek_political_support
		}	
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		complete_tooltip = {
			navy_experience = 25
			random_state = {
				limit = {
					has_state_flag = SAF_seaward_defence_force_DY
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
			}
		}

		completion_reward = {
			navy_experience = 25
			681 = { 
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}	
			}
		}
	}
}		