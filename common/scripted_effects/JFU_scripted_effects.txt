declare_war_on_all_allies = {
	if = { #Make sure we dont declare war on UK a second time
		limit = { NOT = { has_war_with = ENG } }
		declare_war_on = { target = ENG type = annex_everything }
		ROOT_call_allies_both_sides = yes
	}
}

ROOT_call_allies_both_sides = {
	ROOT_call_all_allies_against_ENG = yes
	ENG_call_all_allies_against_ROOT = yes
}
ROOT_call_all_allies_against_ENG = {
	for_each_scope_loop = {
		array = ROOT.allies
		if = {
			limit = { NOT = { OR = { original_tag = ITA original_tag = ETH } } } 
			add_to_war = {
				targeted_alliance = ROOT
				enemy = ENG
			}
		}

	}
}
ENG_call_all_allies_against_ROOT = {
	for_each_scope_loop = {
	    array = ENG.allies
		if = {
			add_to_war = {
				targeted_alliance = ENG
				enemy = ROOT
			}
		}
	}
} 
ROOT_call_against_norway = {
	for_each_scope_loop = {
		array = ROOT.allies
		if = {
			limit = {
				NOT = { 
					OR = { 
						original_tag = ITA  
						original_tag = ETH
					} 
				} 
			} 
			add_to_war = {
				targeted_alliance = ROOT
				enemy = NOR
			}
		}

	}
} 
ROOT_call_against_denmark = {
	for_each_scope_loop = {
		array = ROOT.allies
		if = {
			limit = { NOT = { OR = { original_tag = ITA original_tag = ETH } } } 
			add_to_war = {
				targeted_alliance = ROOT
				enemy = DEN
			}
		}

	}
} 
ROOT_call_against_beligum = {
		for_each_scope_loop = {
		array = ROOT.allies
		if = {
			limit = { NOT = { OR = { original_tag = ITA original_tag = ETH } } } 
			add_to_war = {
				targeted_alliance = ROOT
				enemy = BEL
			}
		}

	}
} 
ROOT_call_against_holland = {
		for_each_scope_loop = {
		array = ROOT.allies
		if = {
			limit = { NOT = { OR = { original_tag = ITA original_tag = ETH } } } 
			add_to_war = {
				targeted_alliance = ROOT
				enemy = HOL
			}
		}

	}
							
}
ROOT_call_against_france = {
		for_each_scope_loop = {
		array = ROOT.allies
		if = {
			limit = { NOT = { OR = { original_tag = ITA original_tag = ETH } } } 
			add_to_war = {
				targeted_alliance = ROOT
				enemy = FRA
			}
		}
	}						
}	
ROOT_call_against_greece = {
		for_each_scope_loop = {
		array = ROOT.allies
		add_to_war = {
			targeted_alliance = ROOT
			enemy = GRE
		}
	}		
}
air_to_germany = {
	if = { limit = { tag = ITA }
		send_equipment = { equipment = small_plane_airframe amount = 10000 target = GER }
		send_equipment = { equipment = small_plane_cas_airframe amount = 10000 target = GER }
		send_equipment = { equipment = medium_plane_airframe amount = 10000 target = GER }
		send_equipment = { equipment = medium_plane_fighter_airframe amount = 10000 target = GER }	
		send_equipment = { equipment = large_plane_airframe amount = 10000 target = GER }	
	}
}

air_to_hungary = {
	if = { limit = { tag = ITA }
		send_equipment = { equipment = small_plane_airframe amount = 10000 target = HUN }
		send_equipment = { equipment = small_plane_cas_airframe amount = 10000 target = HUN }
		send_equipment = { equipment = medium_plane_airframe amount = 10000 target = HUN }
		send_equipment = { equipment = medium_plane_fighter_airframe amount = 10000 target = HUN }	
		send_equipment = { equipment = large_plane_airframe amount = 10000 target = HUN }	
	}
}
air_to_england = {
	if = { limit = { tag = USA }
		send_equipment = { equipment = small_plane_airframe amount = 10000 target = ENG }
		send_equipment = { equipment = small_plane_cas_airframe amount = 10000 target = ENG }
		send_equipment = { equipment = medium_plane_airframe amount = 10000 target = ENG }
		send_equipment = { equipment = medium_plane_fighter_airframe amount = 10000 target = ENG }	
		send_equipment = { equipment = large_plane_airframe amount = 10000 target = ENG }	
	}
}



tp_divs_out_of_france = { every_country = { limit ={ is_in_faction_with = ENG }  every_state = { limit = { OR = { is_core_of = FRA  } } teleport_armies = { to_state = 5139 } } } }

tp_divs_out_of_norway = { every_country = { limit ={ is_in_faction_with = ENG } every_state = { limit = { OR = { is_core_of = NOR  } } teleport_armies = { to_state = 6103 } } } }

HFU_fuel_startup_effect = { 
	every_country={
		limit={	has_country_flag=fuel_system_enabled}
				add_to_array={GLOBAL.fuel_system_manager=THIS.id}
	}
	GER = {
		every_country = {
			limit = {
				NOT={tag=GER}
				OR = { is_in_faction_with = GER  tag = EFR    }
				
				NOT = { is_in_array = { GER.faction_members_array = THIS.id } }			
			}
			add_to_array = { GER.faction_members_array = THIS.id }
		}
		if = {
			limit = {
				any_of_scopes={array=GER.faction_members_array NOT={is_in_array={GLOBAL.fuel_countries=THIS.id}}}
			}
			for_each_scope_loop={
				array=GER.faction_members_array
				if={limit={NOT={is_in_array={GLOBAL.fuel_countries=THIS.id}}}
				add_to_array={GLOBAL.fuel_countries=THIS.id}}
			}
		}
		set_variable={send_fuel_enabled=2}
		for_each_scope_loop={
			array=GER.faction_members_array
					set_variable={send_fuel_enabled=2}
		}
	}
	ENG = {
		every_country = {
			limit = {
				OR = {
					AND = { 
						NOT={tag=ENG}
						
						is_in_faction_with = ENG  
						NOT = { is_in_array = { ENG.faction_members_array = THIS.id } }	
					}
					tag = USA
				}
			}
			add_to_array = { ENG.faction_members_array = THIS.id }
		}
		if = {
			limit = {
				any_of_scopes={array=ENG.faction_members_array NOT={is_in_array={GLOBAL.fuel_countries=THIS.id}}}
			}
			for_each_scope_loop={
				array=ENG.faction_members_array
				if={limit={NOT={is_in_array={GLOBAL.fuel_countries=THIS.id}}}
				add_to_array={GLOBAL.fuel_countries=THIS.id}}
			}
		}
		set_variable={send_fuel_enabled=2}
		for_each_scope_loop={
			array=ENG.faction_members_array
			set_variable={send_fuel_enabled=2}
		}
	}
	JAP = {
		every_country = {
			limit = {
				OR = {
					AND = { 
						NOT={tag=JAP}
						
						is_in_faction_with = JAP  
						NOT = { is_in_array = { JAP.faction_members_array = THIS.id } }	
					}
				}
			}
			add_to_array = { JAP.faction_members_array = THIS.id }
		}
		if = {
			limit = {
				any_of_scopes={array=JAP.faction_members_array NOT={is_in_array={GLOBAL.fuel_countries=THIS.id}}}
			}
			for_each_scope_loop={
				array=JAP.faction_members_array
				if={limit={NOT={is_in_array={GLOBAL.fuel_countries=THIS.id}}}
				add_to_array={GLOBAL.fuel_countries=THIS.id}}
			}
		}
		set_variable={send_fuel_enabled=2}
		for_each_scope_loop={
			array=JAP.faction_members_array
			set_variable={send_fuel_enabled=2}
		}
	}
}
HFU_fuel_on_daily_scripted_effect = {
	if={
		limit={tag=SWE}
		for_each_scope_loop={
			array=GLOBAL.fuel_system_manager
			set_variable={GLOBAL.controllerscope=THIS.id}
			for_each_scope_loop={
				array = THIS.faction_members_array
				##
				set_variable={GLOBAL.currentscope=THIS.id}
				##
				if={
					limit={check_variable={send_fuel_enabled >1}}
					set_variable={fuelbedarf=min_fuel}
					subtract_from_variable={fuelbedarf=fuel_ratio}
					set_variable={fuelbedarfanteil=fuelbedarf}
					multiply_variable={fuelbedarf=max_fuel_k}
					set_variable={fuelbedarfvorzeichen=fuelbedarf}
					multiply_variable={fuelbedarfvorzeichen=-1}
					##
					set_variable={fuelbedarf_k=fuelbedarf}
					set_variable={fuelbedarfvorzeichen_k=fuelbedarfvorzeichen}
					##
					multiply_variable={fuelbedarfvorzeichen=1000}
					multiply_variable={fuelbedarf=1000}
	
					set_variable={PREV.fuelbedarf=PREV.min_fuel}
					subtract_from_variable={PREV.fuelbedarf=PREV.fuel_ratio}
					set_variable={PREV.fuelbedarfanteil=PREV.fuelbedarf}
					multiply_variable={PREV.fuelbedarf=PREV.max_fuel_k}
					set_variable={PREV.fuelbedarfvorzeichen=PREV.fuelbedarf}
					multiply_variable={PREV.fuelbedarfvorzeichen=-1}
					multiply_variable={PREV.fuelbedarfvorzeichen=1000}
					multiply_variable={PREV.fuelbedarf=1000}
					set_variable={PREV.free_stockpile=PREV.max_fuel_k}
					subtract_from_variable={PREV.free_stockpile=PREV.fuel_k}
					multiply_variable={PREV.free_stockpile=1000}
					set_variable={PREV.free_stockpilenegativ=PREV.free_stockpile}
					multiply_variable={PREV.free_stockpilenegativ=-1}

					set_variable={countryfuelplus5=fuel_ratio}
					add_to_variable={countryfuelplus5=0.05}
					if={
						limit={ #fuel von prev zu this
							check_variable={PREV.fuelbedarf <0} #hat prev mehr fuel als minimum?
							check_variable={min_fuel > countryfuelplus5} 
						}
						if={
							limit={
								check_variable={fuelbedarf >0}
								check_variable={PREV.fuelbedarfvorzeichen >fuelbedarf}
							}
							set_temp_variable={PREV.mastergain=fuelbedarfvorzeichen}
							set_temp_variable={subjectgain=fuelbedarf}
							PREV={ add_fuel=mastergain	}
							add_fuel=subjectgain
						}
						else={
		
							set_temp_variable={PREV.mastergain=fuelbedarfvorzeichen}
							set_temp_variable={subjectgain=fuelbedarf}
							PREV={	add_fuel=mastergain	}
							add_fuel=subjectgain
							set_temp_variable={PREV.test2=PREV.fuelbedarfvorzeichen}
						}
					}
					else_if={ #fuel von this zu prev
						limit={
							check_variable={fuelbedarf <0} #hat this mehr fuel als minimum?
							check_variable={PREV.fuel_ratio <0.95} # hat PREV full_stockpile?
						}
						if={
							limit={
								check_variable={fuelbedarfvorzeichen <PREV.free_stockpile} # ist this free fuel kleiner als prev free stockpile?
							}
							set_temp_variable={PREV.mastergain=fuelbedarfvorzeichen}
							set_temp_variable={subjectgain=fuelbedarf}
							PREV={	add_fuel=mastergain	}
							add_fuel=subjectgain
						}
						else_if={
							limit={check_variable={PREV.free_stockpile>1000}}#no need to transfer fuel <1k

							set_temp_variable={PREV.mastergain=PREV.free_stockpile}
							set_temp_variable={subjectgain=PREV.free_stockpilenegativ}
							PREV={	add_fuel=mastergain	}
							add_fuel=subjectgain
						}
					}
					else_if={#this fills the subject fuel storage to 95% when major has full fuel
						limit={
							check_variable={fuel_ratio <0.95} #hat this free stockpile
							check_variable={PREV.fuel_ratio >0.95} # hat PREV full_stockpile?
						}
						set_variable={free_stockpile=max_fuel_k}
						subtract_from_variable={free_stockpile=fuel_k}
						multiply_variable={free_stockpile=1000}
						set_variable={free_stockpilenegativ=free_stockpile}
						multiply_variable={free_stockpilenegativ=-1}
						set_variable={master_spare_fuel=PREV.max_fuel_k}
						multiply_variable={master_spare_fuel=0.03}
						multiply_variable={master_spare_fuel=1000}
						set_variable={master_spare_fuelnegativ=master_spare_fuel}
						multiply_variable={master_spare_fuelnegativ=-1}
						if={limit={check_variable={free_stockpile<mastersparefuel}}
							set_temp_variable={PREV.mastergain=free_stockpilenegativ}
							set_temp_variable={subjectgain=free_stockpile}}
						else={
							set_temp_variable={PREV.mastergain=master_spare_fuelnegativ}
							set_temp_variable={subjectgain=master_spare_fuel}
						}
						PREV={	add_fuel=mastergain	}
						add_fuel=subjectgain			
					}
				}
			}
		}
	}
	for_each_scope_loop={
	array=GLOBAL.fuel_countries
		set_temp_variable={currentfuel=fuel_ratio}
		subtract_from_temp_variable={currentfuel=1}
		multiply_temp_variable={currentfuel = 88}
		set_variable={fuel_bar_fuel=currentfuel}
	}
}

fuel_system_refresh_list = {
			if = {
							limit = {
								any_country = {
									OR={AND={NOT={tag=ROOT}
									is_in_faction_with = ROOT 
									NOT = { is_in_array = { ROOT.faction_members_array = THIS.id } }
								}
								any_of_scopes={array=ROOT.faction_members_array exists=no}
								}
								}
								
							}
							clear_array=ROOT.faction_members_array
							every_country = {
								limit = {
									NOT={tag=ROOT}
									OR={is_in_faction_with = ROOT
									AND={ROOT={tag=ENG}tag=USA}} 
									NOT = { is_in_array = { ROOT.faction_members_array = THIS.id } }
									
								}
								add_to_array = { ROOT.faction_members_array = THIS.id }
							}
							#if = { limit = { TAG = ENG } add_to_array = { ROOT.faction_members_array = USA.id } }
						}
			if = {
							limit = {
								any_of_scopes={array=ROOT.faction_members_array NOT={is_in_array={GLOBAL.fuel_countries=THIS.id}}
								}
							}
							for_each_scope_loop={
								array=ROOT.faction_members_array
								if={limit={NOT={is_in_array={GLOBAL.fuel_countries=THIS.id}}}
								add_to_array={GLOBAL.fuel_countries=THIS.id}}
								}
				}
}

JFU_vichy_france = { 

	GER = {
		diplomatic_relation = {   country = EFR    relation = non_aggression_pact   active = yes }

		transfer_state = 28
		transfer_state = 17
		transfer_state = 27
		transfer_state = 18
		transfer_state = 24
		transfer_state = 16
		transfer_state = 15
		transfer_state = 30
		transfer_state = 23
		transfer_state = 14
		transfer_state = 19
		transfer_state = 29
		transfer_state = 806
		transfer_state = 785

		every_state = {
			limit = {
				AND = {
					is_core_of = FRA
					is_controlled_by = GER
				}
			}
				
			add_compliance = 80
		}
		complete_national_focus = GER_fall_of_france
	}
	ENG = { news_event = { id = news.44 } }
	GER = { country_event = { id = germany.107 } }
	FRA = {
		remove_ideas = FRA_protected_by_the_maginot_line
		remove_ideas = FRA_victors_of_wwi
		remove_ideas = FRA_full_employment
		remove_ideas = FRA_disjointed_government
		remove_ideas = FRA_political_violence
		retire_country_leader = yes
		promote_character = {
			character = FRA_charles_de_gaulle
			ideology = conservatism
		}
		add_ideas = FRA_defeatism
		set_equipment_fraction = 0.0
	}
	JFU_vichy_france_2 = yes
	ENG = {
		add_to_faction = USA 
		if = {
			limit = {
				BRA = { is_ai = no }	
			}
		add_to_faction = BRA
		}
		if = {
			limit = {
				MEX = { is_ai = no }
			}
		add_to_faction = MEX
		}
		hidden_effect = { 
			ENG = { 
				every_state = {
					limit = {
						AND = {
							is_controlled_by = HOL
							is_on_continent = asia
						}
					}
					transfer_state_to = ENG
				}
				transfer_state = 695
				transfer_state = 669
				transfer_state = 688
				transfer_state = 738
				transfer_state = 667
				transfer_state = 335
				transfer_state = 334
				transfer_state = 672
			} 
			every_state = {
				limit = {
					AND = {
						is_core_of = HOL
						is_controlled_by = ENG
					}
				}
				set_compliance = 80
			}
		}
	}			
}


JFU_vichy_france_2 = {
	ITA = {   transfer_state = 735 transfer_state = 665 transfer_state = 458 transfer_state = 1 } #Italian claims, includes territory from Tunisia+Corsica+South Eastern France that was occupied in 1942
	539 = { set_building_level = { type = infrastructure level = 5 } }
	if = {
		limit = {
			FRA = {
				is_ai = yes 
			}
		}
		set_variable = { FRA_legitimacy = 100 }
	}
	EFR ={ 
		set_country_flag = vichy_france_established
		###SOUTHERN FRANCE###
		transfer_state = 26
		add_state_core = 26
		set_capital = { state = 26 } 
		transfer_state = 33 
		add_state_core = 33 
		transfer_state = 20
		add_state_core = 20 
		transfer_state = 25
		add_state_core = 25 
		transfer_state = 31 
		add_state_core = 31 
		transfer_state = 22 
		add_state_core = 22 
		transfer_state = 32 
		add_state_core = 32 
		transfer_state = 21
		add_state_core = 21 
		transfer_state = 851
		add_state_core = 851
		###NORTH AFRICA### #demilitarized so Vichy players aren't utter cancer
		transfer_state = 460
		460 = { set_demilitarized_zone = yes }
		transfer_state = 513
		513 = { set_demilitarized_zone = yes }
		transfer_state = 462
		462 = { set_demilitarized_zone = yes }
		transfer_state = 459
		459 = { set_demilitarized_zone = yes }
		transfer_state = 461
		461 = { set_demilitarized_zone = yes }

			if = { 
				limit = { FRA = { check_variable = { FRA_legitimacy 	< 100 } }  }
				transfer_state = 554
				transfer_state = 680
				transfer_state = 677
				transfer_state = 799
				transfer_state = 553
				add_state_core = 554
				add_state_core = 680
				add_state_core = 677
				add_state_core = 799
				add_state_core = 553
			}

			if = { 
				limit = { FRA = { check_variable = { FRA_legitimacy 	< 80 } }  }
				transfer_state = 543
				transfer_state = 706
				transfer_state = 708
				transfer_state = 713
				add_state_core = 543
				add_state_core = 706
				add_state_core = 708
				add_state_core = 713
			}

			if = { 
				limit = { FRA = { check_variable = { FRA_legitimacy 	< 60 } }  }
				transfer_state = 557
				transfer_state = 272
				transfer_state = 780
				transfer_state = 556
				transfer_state = 779
				transfer_state = 778
				transfer_state = 777
				transfer_state = 776
				transfer_state = 781
				transfer_state = 782
				transfer_state = 786
				transfer_state = 515
				transfer_state = 775
				transfer_state = 298
				transfer_state = 514
				transfer_state = 899
				transfer_state = 898
				add_state_core = 557
				add_state_core = 272
				add_state_core = 780
				add_state_core = 556
				add_state_core = 779
				add_state_core = 778
				add_state_core = 777
				add_state_core = 776
				add_state_core = 781
				add_state_core = 782
				add_state_core = 786
				add_state_core = 515
				add_state_core = 775
				add_state_core = 298
				add_state_core = 514
				add_state_core = 899
				add_state_core = 898
			}
			#if = { 
			#	limit = { FRA = { check_variable = { FRA_legitimacy 	< 40 } }  }
			#	transfer_state = 774
			#	transfer_state = 773
			#	transfer_state = 660
				
			#}
			#if = { 
			#	limit = { FRA = { check_variable = { FRA_legitimacy 	< 20 } }  }
			#	transfer_state = 772				
			#}
		add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 15000 }
		add_ideas = EFR_work_service 
		add_ideas = FRA_mandatory_work_service 
		add_ideas = VIC_produce_aircraft_parts
	}
	FRA = {
		if = { 
			limit = { FRA = { check_variable = { FRA_legitimacy 	> 40 } }  }
			transfer_state = 295
			transfer_state = 538
			transfer_state = 718
			transfer_state = 768
			transfer_state = 769
			transfer_state = 890
			transfer_state = 889
			transfer_state = 888
		}
		FRA_africa_spawn_ins = yes 
		add_equipment_to_stockpile = { type = medium_tank_chassis_2 amount = 300 producer = FRA variant_name = "AFRICA TANKs" }
		add_equipment_to_stockpile = { type = medium_tank_flame_chassis_1 amount = 100 producer = FRA variant_name = "AFRICA FLAME TANKs" }
		add_equipment_to_stockpile = { type = light_tank_chassis_1 amount = 200 producer = FRA variant_name = "AFRICA LIGHT TANKs" }
	}
	if = { 
		limit = {
			EFR = { is_ai = yes }
		}
		SWE = { Vichy_ai_Building = yes }
	}
	FRA = {
		transfer_state = 713
	}
	if = {
		limit = {
			FRA = {
				is_ai = yes 
			}
		}
		ENG = { annex_country = { target = FRA transfer_troops = no } }
	}
}




JFU_startup_on_action = {
	if = {	limit = { has_game_rule = { rule = finland_focus option = HORST_ENABLE_MOD_FINLAND	} }	FIN = { load_focus_tree = finlandmod_focus } }
	if = {	limit = { NOT = { has_game_rule = { rule = finland_focus option = HORST_ENABLE_MOD_FINLAND	} } } set_power_balance = { id = FIN_power_balance left_side = FIN_bad_side right_side = FIN_good_side set_value = -0.45 } add_ideas = FIN_sisu_2 }
	if = {	limit = { has_game_rule = { rule = JFU_pre_sets option = COMPETITIVE_JFU } } SWE = {pregrinded_effect = yes} SWE = { JAP_closed_eco_effect = yes } SWE = { SOV_closed_eco_effect = yes } }
	if = { 	limit = { has_game_rule = { rule = JFU_closed_eco_JAPAN option = ENABLE_CLOSED_ECO } } SWE = { JAP_closed_eco_effect = yes } }
	if = {	limit = { has_game_rule = { rule = JFU_closed_eco_SOVIET option = ENABLE_CLOSED_ECO } } SWE = { SOV_closed_eco_effect = yes } }
	if = {	limit = { has_game_rule = { rule = JFU_pre_grinded_generals option = PRE_GRINDED_GENERALS_ON } } SWE = {pregrinded_effect = yes} }
	if = {	limit = { has_game_rule = { rule = JFU_pre_grinded_generals option = HALVED_GRIND_TIME } } every_possible_country = { limit = { NOT = { ai_country = yes } } add_ideas = { HALVED_GRIND } } }
	if = {	limit = { has_game_rule = { rule = JFU_SPECIAL_FORCES_CAP option = JFU_DOUBLE_CAP } } every_possible_country = { limit = { NOT = { ai_country = yes } } add_ideas = DOUBLE_SF_CAP } }
	if = {	limit = { has_game_rule = { rule = JFU_SPECIAL_FORCES_CAP option = JFU_QUADRUPLE_CAP } } every_possible_country = { limit = { NOT = { ai_country = yes } } add_ideas = QUADRUPLE_SF_CAP } }	
	if = {	limit = { has_game_rule = { rule = JFU_SPECIAL_FORCES_CAP option = JFU_NO_CAP } } every_possible_country = { limit = { NOT = { ai_country = yes } } add_ideas = NO_SF_CAP } }
	if = {	limit = { has_game_rule = { rule = JFU_AFRICA_TILES option = ONE_TILE_AFRICA } } SWE = { transfer_state = 909 } SWE = { transfer_state = 910 } SWE = { transfer_state = 911 } }
	if = {	limit = { has_game_rule = { rule = JFU_YUGO_COLAB option = FREE_COLAB_YUGO } } set_global_flag = YUGO_FREE_COLAB_FLAG }
	if = {	limit = { has_game_rule = { rule = JFU_pre_sets option = COMPETITIVE_JFU } } set_global_flag = YUGO_FREE_COLAB_FLAG }
	if = { limit = { NOT = { has_game_rule = { rule = JFU_SPAIN option = SPAIN_NO_CW } } } SPR_airports_effect = yes }	
	if = {
		limit = { 
			OR = {
				has_game_rule = {
					rule = JFU_pre_grinded_generals
					option = PRE_GRINDED_GENERALS_ON
				}
				has_game_rule = { 
					rule = JFU_pre_sets 
					option = COMPETITIVE_JFU 
				} 
			}
		}			
		885 = {
			set_building_level = {
				type = anti_air_building
				level = 10
				instant_build = yes
			}
			set_building_level = {
				type = air_base
				level = 40
				instant_build = yes
			}			
		}

		ITA = {
			ITA_benito_mussolini = { unit_leader_event = { id = BBA_italo_ethiopian_war_events.01 } }
			annex_country = { target = ETH transfer_troops = no }
			ITA_end_the_italo_ethiopian_war = yes
			add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 10000 }
			add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 20000 }
			add_equipment_to_stockpile = { type = support_equipment_1 amount = 800 }
			add_equipment_to_stockpile = { type = motorized_equipment_1 amount = 400 }
			add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 350 }
			add_equipment_to_stockpile = { type = light_tank_chassis_1 amount = 370 producer = ITA variant_name = "L3/35" }
			add_equipment_to_stockpile = { type = train_equipment_1 amount = 100 }
		}
		BEL = {
			add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 30000 }
			add_equipment_to_stockpile = { type = support_equipment_1 amount = 1500 }
			add_ideas = ai_limiter
		}
		CZE = {
			add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 30000 }
			add_ideas = ai_limiter
		}
		LIT = {
			add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 30000 }
			add_ideas = ai_limiter
		}
		POL = {
			add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 50000 }			
			add_ideas = ai_limiter
		}
		YUG = {
			add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 30000 }	
			add_equipment_to_stockpile = { type = support_equipment_1 amount = 1000 }	
			add_ideas = ai_limiter
			country_lock_all_division_template = yes			
		}
		GRE = {
			add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 10000 }	
			add_equipment_to_stockpile = { type = support_equipment_1 amount = 600 }	
			add_ideas = ai_limiter
			country_lock_all_division_template = yes			
		}
		10 = {
			add_extra_state_shared_building_slots = 10
			add_building_construction = {
				type = arms_factory
				level = 10
				instant_build = yes
			}
		}	
		605 = {
			add_extra_state_shared_building_slots = 15
			add_building_construction = {
				type = arms_factory
				level = 15
				instant_build = yes
			}
		}		
		AUS = {
			add_ideas = ai_limiter
		}
		DEN = {
			add_ideas = ai_limiter
		}		
		HOL = {
			add_ideas = ai_limiter
		}	
	}
	if = {
		limit = {
			AND = {
				has_game_rule = { 
					rule = JFU_pre_grinded_generals 
					option = PRE_GRINDED_GENERALS_OFF 
				}
				NOT = {
					has_game_rule = { 
						rule = JFU_pre_sets 
						option = COMPETITIVE_JFU 
					}					
				}
			}
		}
		GER = {
			add_ideas = { volunteers_7 }
		}
		HUN = {
			add_ideas = { volunteers_4 }			
		}
		ROM = {
			add_ideas = { volunteers_3 }			
		}
		BUL = {
			add_ideas = { volunteers_3 }			
		}
		MAN = {
			add_ideas = { volunteers_3 }			
		}
		SOV = {
			add_ideas = { volunteers_8 }			
		}
		FRA = {
			add_ideas = { volunteers_4 }			
		}
		ITA = {
			add_ideas = { volunteers_4 }
			load_oob = "ITA_1936_nsb"
		}
		JAP = {
			add_ideas = { volunteers_4 }
		}
	}
	if = {  limit = { ai_country_allies = yes } country_lock_all_division_template = yes }
	every_country = { limit = { OR = { axis = yes allies = yes } } add_ideas = peace_training set_rule = { can_be_spymaster = no }  }
	every_country = { limit = { axis = yes } anti_cross_faction_trade_allies = yes }
	every_country = { limit = { allies = yes } anti_cross_faction_trade_axis = yes }
	SWE = { set_global_flag = NOR_RUGES_PLAN }
	SWE = { JFU_apply_intel = yes }
	SWE = { HFU_fuel_startup_effect = yes }
	SWE = { JFU_scripted_events_effect = yes }
	if = {
		limit = {
			has_game_rule = { 
				rule = JFU_pre_sets 
				option = COMPETITIVE_JFU 
			}	
		}
		SWE = { JFU_comp_startup_effect = yes }
	}
	SPR = {	country_lock_all_division_template = yes country_event = { id = lar_spain.2 days = 230 } activate_mission = days_till_civil_war }
	SWE = { pacifc_war_variables = yes }
	ENG = {
		add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 30000 }
		add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 20000 }
		add_equipment_to_stockpile = { type = support_equipment_1 amount = 259 }
		add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 100 }
		add_equipment_to_stockpile = { type = light_tank_chassis_1 amount = 180 producer = ENG variant_name = "Light Tank Mk. VI" }
		add_equipment_to_stockpile = { type = train_equipment_1 amount = 300 }
	}
	GER = {
		add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 24900 }
		add_equipment_to_stockpile = { type = support_equipment_1 amount = 891 }
		add_equipment_to_stockpile = { type = motorized_equipment_1 amount = 607 }
		add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 349 }
		add_equipment_to_stockpile = { type = light_tank_chassis_2 amount = 720 producer = GER variant_name = "Panzer II Ausf. A" }
		add_equipment_to_stockpile = { type = train_equipment_1 amount = 300 }
	}
	FRA = {
		add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 25000 }
		add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 30000 }
		add_equipment_to_stockpile = { type = support_equipment_1 amount = 766 }
		add_equipment_to_stockpile = { type = motorized_equipment_1 amount = 2500 }
		add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 217 }
		add_equipment_to_stockpile = { type = light_tank_chassis_0 amount = 480 producer = FRA variant_name = "FT mod. 31" }
		add_equipment_to_stockpile = { type = light_tank_chassis_0 amount = 240 producer = FRA variant_name = "FT Char Cannon" }
		add_equipment_to_stockpile = { type = light_tank_chassis_1 amount = 480 producer = FRA variant_name = "H-35" }
		add_equipment_to_stockpile = { type = train_equipment_1 amount = 300 }
	}
	JAP = {
		add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 7700 }
		add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 31700 }
		add_equipment_to_stockpile = { type = support_equipment_1 amount = 801 }
		add_equipment_to_stockpile = { type = motorized_equipment_1 amount = 880 }
		add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 25 }
		add_equipment_to_stockpile = { type = light_tank_chassis_1 amount = 180 producer = JAP variant_name = "Type 95 Ha-Go" }	
		add_equipment_to_stockpile = { type = train_equipment_1 amount = 300 }
		add_dynamic_modifier = { modifier = pacific_war_japan }	
	}
	USA = {
		add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 11100 }
		add_equipment_to_stockpile = { type = support_equipment_1 amount = 344 }
		add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 106 }
		add_equipment_to_stockpile = { type = train_equipment_1 amount = 300 }
		add_dynamic_modifier = { modifier = pacific_war_USA }
	}
	HUN = {
		add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 7000 }
		add_equipment_to_stockpile = { type = support_equipment_1 amount = 11 }
		add_equipment_to_stockpile = { type = train_equipment_1 amount = 50 }
		add_equipment_to_stockpile = { type = motorized_equipment_1 amount = 200 }
	}
	ROM = {
		add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 9600 }
		add_equipment_to_stockpile = { type = support_equipment_1 amount = 303 }
		add_equipment_to_stockpile = { type = motorized_equipment_1 amount = 70 }
		add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 87 }
		add_equipment_to_stockpile = { type = light_tank_chassis_0 amount = 72 producer = ROM variant_name = "FT Char Cannon" }
		add_equipment_to_stockpile = { type = train_equipment_1 amount = 50 }
		add_equipment_to_stockpile = { type = motorized_equipment_1 amount = 200 }
	}
	SOV = {
		add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 280000 }
		add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 80000 }
		add_equipment_to_stockpile = { type = support_equipment_1 amount = 443 }
		add_equipment_to_stockpile = { type = motorized_equipment_1 amount = 1600 }
		add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 814 }
		add_equipment_to_stockpile = { type = light_tank_chassis_1 amount = 1300 producer = SOV variant_name = "T-26TU mod. 1933" }
		add_equipment_to_stockpile = { type = light_tank_chassis_1 amount = 1000 producer = SOV variant_name = "BT-5" }
		add_equipment_to_stockpile = { type = train_equipment_1 amount = 300 }
		
	}
	MAN = {
		add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 3900 }
		add_equipment_to_stockpile = { type = train_equipment_1 amount = 50 }
		add_equipment_to_stockpile = { type = motorized_equipment_1 amount = 200 }
	}
	BRA = {
		add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 2900 }
		add_equipment_to_stockpile = { type = support_equipment_1 amount = 75 }
		add_equipment_to_stockpile = { type = train_equipment_1 amount = 50 }
		add_equipment_to_stockpile = { type = motorized_equipment_1 amount = 200 }
	}
	MEX = {
		add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 5605 }
		add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 900 }
		add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 55 }
		add_equipment_to_stockpile = { type = train_equipment_1 amount = 50 }
		add_equipment_to_stockpile = { type = motorized_equipment_1 amount = 200 }
		add_dynamic_modifier = { modifier = pacific_war_aallies }
	}
	CAN = {
		add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 4000 }
		add_equipment_to_stockpile = { type = train_equipment_1 amount = 50 }
		add_equipment_to_stockpile = { type = motorized_equipment_1 amount = 200 }
		add_dynamic_modifier = { modifier = pacific_war_aallies }
	}
	RAJ = {
		add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 4000 }
		add_equipment_to_stockpile = { type = train_equipment_1 amount = 50 }
		add_equipment_to_stockpile = { type = motorized_equipment_1 amount = 200 }
	}
	AST = {
		add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 4000 }
		add_equipment_to_stockpile = { type = train_equipment_1 amount = 50 }
		add_equipment_to_stockpile = { type = motorized_equipment_1 amount = 200 }
		add_dynamic_modifier = { modifier = pacific_war_allies }
	}
	NZL = {
		add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 1000 }
		add_equipment_to_stockpile = { type = train_equipment_1 amount = 50 }
		add_equipment_to_stockpile = { type = motorized_equipment_1 amount = 200 }
		add_dynamic_modifier = { modifier = pacific_war_allies }
	}
	SAF = {
		add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 2000 }
		add_equipment_to_stockpile = { type = train_equipment_1 amount = 50 }
		add_equipment_to_stockpile = { type = motorized_equipment_1 amount = 200 }
		add_dynamic_modifier = { modifier = pacific_war_allies }
	}
	SIA = {
		give_resource_rights = { receiver = GER state = 724 }
		add_equipment_to_stockpile = { type = train_equipment_1 amount = 50 }
		add_equipment_to_stockpile = { type = motorized_equipment_1 amount = 200 }
	}
	CHI = {
		add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 30000 }	
		add_equipment_to_stockpile = { type = support_equipment_1 amount = 2000 }
		add_equipment_to_stockpile = { type = train_equipment_1 amount = 100 }	
		add_ideas = ai_limiter
		country_lock_all_division_template = yes					
	}
	if = { 
		limit = { 
			FRA = { 
				is_ai = yes 
			} 
		} 
		FRA = {
			country_lock_all_division_template = yes 
			add_ideas = ai_limiter 	
		}
	}
	251 = {
		set_building_level = {
			type = air_base
			level = 40
			instant_build = yes
		}			
	}
}
JFU_comp_startup_effect = {
	GER = { add_ideas = JFU_no_tradeback }
	ITA = { add_ideas = JFU_no_tradeback }
	HUN = { add_ideas = JFU_no_tradeback }
	ROM = { add_ideas = JFU_no_tradeback }
	BUL = { add_ideas = JFU_no_tradeback }
	SPR = { add_ideas = JFU_no_tradeback }
	FIN = { add_ideas = JFU_no_tradeback }
	EFR = { add_ideas = JFU_no_tradeback }
	JAP = { add_ideas = JFU_no_tradeback }
	MAN = { add_ideas = JFU_no_tradeback }
#	ENG = { add_timed_idea = { idea = JFU_no_tradeback days = 730 } }
#	USA = { add_timed_idea = { idea = JFU_no_tradeback days = 730 } }
#	FRA = { add_timed_idea = { idea = JFU_no_tradeback days = 730 } }
#	SAF = { add_timed_idea = { idea = JFU_no_tradeback days = 730 } }
#	RAJ = { add_timed_idea = { idea = JFU_no_tradeback days = 730 } }
#	MEX = { add_timed_idea = { idea = JFU_no_tradeback days = 730 } }
#	CAN = { add_timed_idea = { idea = JFU_no_tradeback days = 730 } }
#	AST = { add_timed_idea = { idea = JFU_no_tradeback days = 730 } }
#	BRA = { add_timed_idea = { idea = JFU_no_tradeback days = 730 } }
#	NZL = { add_timed_idea = { idea = JFU_no_tradeback days = 730 } }
	2 = {
		add_extra_state_shared_building_slots = 2
		add_building_construction = {
			type = industrial_complex
			level = 2
			instant_build = yes
		}
	}
}
JFU_scripted_events_effect = {
	ENG = { country_event = { id = britain.16 days = 21 } }
	ENG = { country_event = { id = britain.17 days = 349 } }	
	ENG = { country_event = { id = britain.22 days = 520 } }
	MEX = { country_event = { id = mexico.15 days = 180 } }
	MEX = { country_event = { id = mexico.27 days = 120 } }
	GER = { country_event = { id = JFU_events.4 days = 1703 }}
	USA = { news_event = { id = news.42 days = 240 } }
	USA = { news_event = { id = news.48 days = 550 } }
	ENG = { news_event = { id = news.55 days = 1250 } }
	SWE = { news_event = { id = news.63 days = 231 } }
	GER = { news_event = { id = news.66 days = 227 } }
}
pacifc_war_variables = {
	JAP = {
		set_variable = { PWJ_consumer_goods_factor = 0 }
		set_variable = { PWJ_war_support_factor = 0 }
		set_variable = { PWJ_stability_factor = 0 }
		set_variable = { PWJ_army_core_attack_factor = 1 }
		set_variable = { PWJ_army_core_defence_factor = 1 }
	}
	USA = {
		set_variable = { PWUSA_consumer_goods_factor = 0 }
		set_variable = { PWUSA_war_support_factor = 0 }
		set_variable = { PWUSA_stability_factor = 0 }
		set_variable = { PWUSA_army_core_attack_factor = 1 }
		set_variable = { PWUSA_army_core_defence_factor = 1 }
	}
	SAF = {
		set_variable = { PWA_army_core_attack_factor = 0.5 }
		set_variable = { PWA_army_core_defence_factor = 0.5 }
	}
	AST = {
		set_variable = { PWA_army_core_attack_factor = 0.5 }
		set_variable = { PWA_army_core_defence_factor = 0.5 }
	}
	NZL = {
		set_variable = { PWA_army_core_attack_factor = 0.5 }
		set_variable = { PWA_army_core_defence_factor = 0.5 }
	}
	MEX = {
		set_variable = { PWAA_army_core_attack_factor = 0.5 }
		set_variable = { PWAA_army_core_defence_factor = 0.5 }
	}
	CAN = {
		set_variable = { PWAA_army_core_attack_factor = 0.5 }
		set_variable = { PWAA_army_core_defence_factor = 0.5 }
	}

}
SPR_airports_effect = {
	41 = {
		set_building_level = {
			type = air_base
			level = 6
			instant_build = yes
		}			
	}
	792 = {
		set_building_level = {
			type = air_base
			level = 1
			instant_build = yes
		}			
	}
	171 = {
		set_building_level = {
			type = air_base
			level = 1
			instant_build = yes
		}			
	}
	169 = {
		set_building_level = {
			type = air_base
			level = 3
			instant_build = yes
		}			
	}
	173 = {
		set_building_level = {
			type = air_base
			level = 4
			instant_build = yes
		}			
	}
	168 = {
		set_building_level = {
			type = air_base
			level = 2
			instant_build = yes
		}			
	}
	167 = {
		set_building_level = {
			type = air_base
			level = 3
			instant_build = yes
		}			
	}
	166 = {
		set_building_level = {
			type = air_base
			level = 3
			instant_build = yes
		}			
	}
	165 = {
		set_building_level = {
			type = air_base
			level = 2
			instant_build = yes
		}			
	}
	169 = {
		add_building_construction = {
			type = naval_base
			level = 2
			instant_build = yes
			province = 1048
		}
	}
	165 = {
		add_building_construction = {
			type = naval_base
			level = 2
			instant_build = yes
			province = 9764
		}
	}
	168 = {
		add_building_construction = {
			type = naval_base
			level = 2
			instant_build = yes
			province = 10024
		}
	}
	167 = {
		add_building_construction = {
			type = naval_base
			level = 3
			instant_build = yes
			province = 6906
		}
		add_building_construction = {
			type = naval_base
			level = 2
			instant_build = yes
			province = 4098
		}
	}
	173 = {
		add_building_construction = {
			type = naval_base
			level = 2
			instant_build = yes
			province = 9979
		}
		add_building_construction = {
			type = naval_base
			level = 2
			instant_build = yes
			province = 12038
		}
	}
	177 = {
		add_building_construction = {
			type = naval_base
			level = 2
			instant_build = yes
			province = 9793
		}
		add_building_construction = {
			type = naval_base
			level = 2
			instant_build = yes
			province = 7114
		}
	}
	171 = {
		add_building_construction = {
			type = naval_base
			level = 6
			instant_build = yes
			province = 758
		}
	}
	178 = {
		add_building_construction = {
			type = naval_base
			level = 1
			instant_build = yes
			province = 13071
		}
	}
}
HMP_anti_building_exploit_effect = { #add to horst tool
	every_state = { limit = { ignore_aa_states = yes non_damaged_building_level  = { building = anti_air_building  level > 5 } } remove_building  = {  type = anti_air_building  level = 1 }  }  
	every_state = { limit = {  non_damaged_building_level  = { building = infrastructure  level > 5 } } remove_building  = {  type = infrastructure  level = 1 }  }  
}	
SOV_Barb_debuff_effect = {
	add_to_variable	= { var = SOV_barb_attack_debuff value = 0.005 }
#	add_to_variable = { var = SOV_barb_defence_debuff value = 0.005 }
}
pregrinded_effect = {
	every_country = {
		limit = {
			OR = {
				allies = yes
				axis = yes
			}
		}
		add_ideas = { NO_GRINDING }
	}
	GER = {
		add_ideas = { pre_grinded_gens_volunteers }
		GER_gerd_von_rundstedt = { add_skill_level = 1 }
		GER_gerd_von_rundstedt = { add_logistics = 2 }
		GER_gerd_von_rundstedt = { add_attack = 1 }
		GER_gerd_von_rundstedt = { add_defense = 2 } 
		GER_gerd_von_rundstedt = {
			add_unit_leader_trait = pre_grinded
			add_unit_leader_trait = organizer
			add_unit_leader_trait = infantry_leader
			add_unit_leader_trait = trickster
			add_unit_leader_trait = infantry_expert
		}
		GER_gerd_von_rundstedt = { promote_leader = yes }
		GER_gerd_von_rundstedt = {
			add_unit_leader_trait = logistics_wizard
		}
		GER_erwin_rommel = { add_attack = 4 }
		GER_erwin_rommel = { add_defense = 2 }
		GER_erwin_rommel = { add_planning = 2 }
		GER_erwin_rommel = { add_logistics = 1 }
		GER_erwin_rommel = {
			add_unit_leader_trait = pre_grinded
			add_unit_leader_trait = expert_improviser
			add_unit_leader_trait = desert_fox
			add_unit_leader_trait = trait_mountaineer
			add_unit_leader_trait = panzer_leader
			add_unit_leader_trait = panzer_expert
			add_unit_leader_trait = trait_engineer
			add_unit_leader_trait = fortress_buster
		}		
		GER_erich_von_manstein = { add_attack = 5 }
		GER_erich_von_manstein = { add_defense = 2 }
		GER_erich_von_manstein = { add_planning = 1 }
		GER_erich_von_manstein = {
			add_unit_leader_trait = pre_grinded
			add_unit_leader_trait = tank_gens
			add_unit_leader_trait = ranger
			add_unit_leader_trait = urban_assault_specialist
			add_unit_leader_trait = panzer_leader
			add_unit_leader_trait = panzer_expert
			add_unit_leader_trait = expert_improviser
			add_unit_leader_trait = trait_engineer
			add_unit_leader_trait = fortress_buster
			add_unit_leader_trait = cavalry_leader
			add_unit_leader_trait = desert_fox
		}	
		GER_fedor_von_bock = { add_attack = 3 }
		GER_fedor_von_bock = { add_defense = 3 }
		GER_fedor_von_bock = { add_planning = 1 }
		GER_fedor_von_bock = { add_logistics = 2 }
		GER_fedor_von_bock = {
			add_unit_leader_trait = pre_grinded
			add_unit_leader_trait = ranger
			add_unit_leader_trait = hill_fighter
			add_unit_leader_trait = panzer_leader
			add_unit_leader_trait = combined_arms_expert
			add_unit_leader_trait = logistics_wizard
			add_unit_leader_trait = thorough_planner
			add_unit_leader_trait = trickster
			add_unit_leader_trait = organizer
			add_unit_leader_trait = cavalry_leader
			add_unit_leader_trait = trait_reckless
			add_unit_leader_trait = trait_engineer

		}
		GER_fedor_von_bock = { promote_leader = yes }
			GER_fedor_von_bock = {
			add_unit_leader_trait = logistics_wizard
			add_unit_leader_trait = thorough_planner
			add_unit_leader_trait = aggressive_assaulter
		}	
		GER_erwin_von_witzleben = { add_attack = 1 }
		GER_erwin_von_witzleben = { add_defense = 1 }
		GER_erwin_von_witzleben = {
			add_unit_leader_trait = pre_grinded
			add_unit_leader_trait = inf_gens
			add_unit_leader_trait = infantry_leader
			add_unit_leader_trait = infantry_expert
			add_unit_leader_trait = winter_specialist
			add_unit_leader_trait = trickster
			add_unit_leader_trait = guerilla_fighter
			add_unit_leader_trait = organizer
		}	
	}
	ITA = {
		add_ideas = { pre_grinded_gens_volunteers }
		ITA_giovanni_messe = { add_planning = 3 }
        ITA_giovanni_messe = { add_attack = 4 }
        ITA_giovanni_messe = { add_defense = 2 }
        ITA_giovanni_messe = {
        	add_unit_leader_trait = pre_grinded
            add_unit_leader_trait = panzer_leader
            add_unit_leader_trait = panzer_expert
            add_unit_leader_trait = expert_improviser
            add_unit_leader_trait = trickster
            add_unit_leader_trait = desert_fox
            add_unit_leader_trait = trait_mountaineer
			add_unit_leader_trait = trait_engineer
			add_unit_leader_trait = fortress_buster
        }
		
		ITA_emilio_de_bono = { add_skill_level = 3 }
		ITA_emilio_de_bono = { add_attack = 2 }
        ITA_emilio_de_bono = { add_defense = 2 }
        ITA_emilio_de_bono = { add_planning = 2 }
		ITA_emilio_de_bono = { add_logistics = 4 }
        ITA_emilio_de_bono = {
        	add_unit_leader_trait = pre_grinded       
            add_unit_leader_trait = infantry_leader
            add_unit_leader_trait = ambusher
            add_unit_leader_trait = trickster
            add_unit_leader_trait = guerilla_fighter
			add_unit_leader_trait = hill_fighter
			add_unit_leader_trait = trait_mountaineer
			add_unit_leader_trait = organizer
        }
		ITA_emilio_de_bono = { promote_leader = yes }
		ITA_emilio_de_bono = { 
			add_unit_leader_trait = logistics_wizard
		}
		ITA_ubaldo_soddu = { add_skill_level = 3 }
		ITA_ubaldo_soddu = { add_attack = 3 }
        ITA_ubaldo_soddu = { add_defense = 3 }
        ITA_ubaldo_soddu = { add_planning = 2 }
		ITA_ubaldo_soddu = { add_logistics = 3 }
        ITA_ubaldo_soddu = {
        	add_unit_leader_trait = pre_grinded
            add_unit_leader_trait = infantry_leader
            add_unit_leader_trait = infantry_expert
            add_unit_leader_trait = guerilla_fighter
            add_unit_leader_trait = trickster
			add_unit_leader_trait = trait_mountaineer
			add_unit_leader_trait = organizer
			add_unit_leader_trait = hill_fighter
			add_unit_leader_trait = commando
        }
		ITA_rodolfo_graziani = { add_skill_level = 2 }
		ITA_rodolfo_graziani = { add_attack = 2 }
        ITA_rodolfo_graziani = { add_defense = 2 }
        ITA_rodolfo_graziani = { add_planning = 1 }
		ITA_rodolfo_graziani = { add_logistics = 3 }
        ITA_rodolfo_graziani = {
        	add_unit_leader_trait = pre_grinded
            add_unit_leader_trait = trait_engineer
            add_unit_leader_trait = infantry_expert
            add_unit_leader_trait = infantry_leader
            add_unit_leader_trait = hill_fighter
            add_unit_leader_trait = trait_mountaineer
			add_unit_leader_trait = expert_improviser
			add_unit_leader_trait = trickster
			add_unit_leader_trait = fortress_buster
        }
		ITA_ugo_cavallero = { add_skill_level = 2 }
		ITA_ugo_cavallero = { add_attack = 3 }
        ITA_ugo_cavallero = { add_defense = 2 }
        ITA_ugo_cavallero = { add_planning = 3 }
		ITA_ugo_cavallero = { add_logistics = 3 }
        ITA_ugo_cavallero = {
        	add_unit_leader_trait = pre_grinded
            add_unit_leader_trait = panzer_leader
            add_unit_leader_trait = panzer_expert
            add_unit_leader_trait = expert_improviser
            add_unit_leader_trait = trickster
            add_unit_leader_trait = desert_fox
            add_unit_leader_trait = hill_fighter
			add_unit_leader_trait = organizer
        }
		ITA_ugo_cavallero = { promote_leader = yes }
		ITA_ugo_cavallero = { 
			add_unit_leader_trait = logistics_wizard
			add_unit_leader_trait = offensive_doctrine
			add_unit_leader_trait = thorough_planner
			add_unit_leader_trait = aggressive_assaulter
		}
		ITA_sebastiano_visconti_prasca = { add_skill_level = 3 }
		ITA_sebastiano_visconti_prasca = { add_attack = 3 }
        ITA_sebastiano_visconti_prasca = { add_defense = 2 }
        ITA_sebastiano_visconti_prasca = { add_planning = 2 }
		ITA_sebastiano_visconti_prasca = { add_logistics = 2 }
		ITA_sebastiano_visconti_prasca = {
			add_unit_leader_trait = pre_grinded
			add_unit_leader_trait = organizer
            add_unit_leader_trait = infantry_expert
            add_unit_leader_trait = infantry_leader
			add_unit_leader_trait = trickster
			add_unit_leader_trait = guerilla_fighter	
			add_unit_leader_trait = inf_gens2		
		}				
	}
	HUN = {
		add_ideas = { pre_grinded_gens_volunteers }
		HUN_geza_lakatos = { add_skill_level = 1 }
		HUN_geza_lakatos = { add_attack = 3 }
        HUN_geza_lakatos = { add_defense = 1 }
        HUN_geza_lakatos = { add_planning = 1 }
		HUN_geza_lakatos = { add_logistics = 2 }
        HUN_geza_lakatos = {
        	add_unit_leader_trait = pre_grinded
            add_unit_leader_trait = panzer_leader
            add_unit_leader_trait = panzer_expert
            add_unit_leader_trait = trickster
            add_unit_leader_trait = expert_improviser
            add_unit_leader_trait = ranger
			add_unit_leader_trait = urban_assault_specialist
			add_unit_leader_trait = desert_fox 
			add_unit_leader_trait = trait_engineer
			add_unit_leader_trait = fortress_buster
			add_unit_leader_trait = commando
		}
		HUN_ivan_hindy = { add_attack = 2 }
        HUN_ivan_hindy = { add_defense = 1 }
        HUN_ivan_hindy = { add_planning = 2 }
        HUN_ivan_hindy = {
        	add_unit_leader_trait = pre_grinded
            add_unit_leader_trait = organizer
            add_unit_leader_trait = panzer_leader
            add_unit_leader_trait = combined_arms_expert	
			add_unit_leader_trait = hill_fighter
			add_unit_leader_trait = urban_assault_specialist
        }
		HUN_ivan_hindy = { promote_leader = yes }
		HUN_ivan_hindy = {
            add_unit_leader_trait = logistics_wizard
			add_unit_leader_trait = thorough_planner
		}
		HUN_karoly_beregfy = { add_skill_level = 3 }
		HUN_karoly_beregfy = { add_attack = 3 }
        HUN_karoly_beregfy = { add_defense = 2 }
        HUN_karoly_beregfy = { add_planning = 2 }
		HUN_karoly_beregfy = { add_logistics = 2 }
        HUN_karoly_beregfy = {
        	add_unit_leader_trait = pre_grinded
            add_unit_leader_trait = organizer
            add_unit_leader_trait = infantry_leader
            add_unit_leader_trait = infantry_expert
			add_unit_leader_trait = hill_fighter
			add_unit_leader_trait = trickster
			add_unit_leader_trait = urban_assault_specialist
        }
		HUN_karoly_beregfy = { promote_leader = yes }
		HUN_karoly_beregfy = {
            add_unit_leader_trait = logistics_wizard
			add_unit_leader_trait = thorough_planner
		}

		HUN_lajos_veress = { add_skill_level = 2 }
		HUN_lajos_veress = { add_attack = 3 }
        HUN_lajos_veress = { add_defense = 2 }
        HUN_lajos_veress = { add_planning = 1 }
		HUN_lajos_veress = { add_logistics = 1 }
        HUN_lajos_veress = {
        	add_unit_leader_trait = pre_grinded
            add_unit_leader_trait = trait_engineer
            add_unit_leader_trait = infantry_leader
            add_unit_leader_trait = infantry_expert
            add_unit_leader_trait = ranger
			add_unit_leader_trait = urban_assault_specialist
            add_unit_leader_trait = expert_improviser
			add_unit_leader_trait = trait_mountaineer
			add_unit_leader_trait = desert_fox
			add_unit_leader_trait = trickster
        }				
	}
	ROM = {
		add_ideas = { pre_grinded_gens_volunteers }
		ROM_petre_dumitrescu = { add_attack = 1 }
        ROM_petre_dumitrescu = { add_defense = 1 }
        ROM_petre_dumitrescu = { add_planning = 2 }
		ROM_petre_dumitrescu = { add_logistics = 1 }
        ROM_petre_dumitrescu = {
        	add_unit_leader_trait = pre_grinded
            add_unit_leader_trait = organizer
            add_unit_leader_trait = infantry_leader
            add_unit_leader_trait = infantry_expert
            add_unit_leader_trait = thorough_planner
            add_unit_leader_trait = trickster
			add_unit_leader_trait = hill_fighter
			add_unit_leader_trait = trait_mountaineer
            add_unit_leader_trait = commando
        }
		ROM_petre_dumitrescu = { promote_leader = yes }
		ROM_petre_dumitrescu = {
            add_unit_leader_trait = thorough_planner
            add_unit_leader_trait = logistics_wizard
		}
		ROM_ioan_mihail_racovita = { add_skill_level = 1 }
		ROM_ioan_mihail_racovita = { add_attack = 4 }
        ROM_ioan_mihail_racovita = { add_defense = 2 }
        ROM_ioan_mihail_racovita = { add_planning = 1 }
		ROM_ioan_mihail_racovita = { add_logistics = 2 }
        ROM_ioan_mihail_racovita = {
        	add_unit_leader_trait = pre_grinded
            add_unit_leader_trait = trait_engineer
            add_unit_leader_trait = infantry_expert
            add_unit_leader_trait = infantry_leader
            add_unit_leader_trait = commando
            add_unit_leader_trait = trickster
			add_unit_leader_trait = expert_improviser
			add_unit_leader_trait = ranger
			add_unit_leader_trait = trait_engineer
			add_unit_leader_trait = fortress_buster
        }
		ROM_nikola_mihov = { add_attack = 3 }
        ROM_nikola_mihov = { add_defense = 3 }
        ROM_nikola_mihov = { add_planning = 2 }
		ROM_nikola_mihov = { add_logistics = 2 }
        ROM_nikola_mihov = {
        	add_unit_leader_trait = pre_grinded
            add_unit_leader_trait = panzer_leader
            add_unit_leader_trait = panzer_expert
            add_unit_leader_trait = trickster
            add_unit_leader_trait = expert_improviser
            add_unit_leader_trait = ranger
			add_unit_leader_trait = hill_fighter
			add_unit_leader_trait = trait_engineer
		}
		ROM_georgi_popov = { add_attack = 3 }
        ROM_georgi_popov = { add_defense = 1 }
        ROM_georgi_popov = { add_planning = 2 }
		ROM_georgi_popov = { add_logistics = 1 }
        ROM_georgi_popov = {
        	add_unit_leader_trait = pre_grinded
            add_unit_leader_trait = panzer_leader
            add_unit_leader_trait = panzer_expert
            add_unit_leader_trait = trickster
            add_unit_leader_trait = trait_mountaineer
			add_unit_leader_trait = hill_fighter
			add_unit_leader_trait = trait_engineer
		}	
		ROM_georgi_popov = { promote_leader = yes }
		ROM_georgi_popov = {
			add_unit_leader_trait = offensive_doctrine
			add_unit_leader_trait = thorough_planner
			add_unit_leader_trait = logistics_wizard
		}				
	}
	BUL = {
		add_ideas = { pre_grinded_gens_volunteers }
		BUL_ivan_markov = { add_skill_level = 1 }
		BUL_ivan_markov = { add_attack = 1 }
        BUL_ivan_markov = { add_defense = 3 }
        BUL_ivan_markov = { add_planning = 1 }
		BUL_ivan_markov = { add_logistics = 1 }
        BUL_ivan_markov = {
        	add_unit_leader_trait = pre_grinded
            add_unit_leader_trait = infantry_expert
            add_unit_leader_trait = hill_fighter
            add_unit_leader_trait = trait_engineer
            add_unit_leader_trait = infantry_leader
            add_unit_leader_trait = commando
			add_unit_leader_trait = trickster
			add_unit_leader_trait = expert_improviser
			add_unit_leader_trait = ranger
			add_unit_leader_trait = hill_fighter
			add_unit_leader_trait = fortress_buster
        }
		BUL_georgi_markov = { add_skill_level = 1 }
		BUL_georgi_markov = { add_attack = 1 }
        BUL_georgi_markov = { add_planning = 1 }
		BUL_georgi_markov = { add_logistics = 1 }
        BUL_georgi_markov = {
        	add_unit_leader_trait = pre_grinded
            add_unit_leader_trait = guerilla_fighter
            add_unit_leader_trait = infantry_leader
            add_unit_leader_trait = trait_engineer
            add_unit_leader_trait = infantry_expert
            add_unit_leader_trait = commando
			add_unit_leader_trait = trickster
			add_unit_leader_trait = hill_fighter
			add_unit_leader_trait = trait_mountaineer
			add_unit_leader_trait = organizer
        }
		BUL_georgi_markov = { promote_leader = yes }
		BUL_georgi_markov = {
			add_unit_leader_trait = offensive_doctrine
			add_unit_leader_trait = thorough_planner
			add_unit_leader_trait = aggressive_assaulter
			add_unit_leader_trait = logistics_wizard
		}
		BUL_nikola_mihov = { add_attack = 3 }
        BUL_nikola_mihov = { add_defense = 3 }
        BUL_nikola_mihov = { add_planning = 2 }
		BUL_nikola_mihov = { add_logistics = 2 }
        BUL_nikola_mihov = {
        	add_unit_leader_trait = pre_grinded
            add_unit_leader_trait = panzer_leader
            add_unit_leader_trait = panzer_expert
            add_unit_leader_trait = trickster
            add_unit_leader_trait = expert_improviser
            add_unit_leader_trait = ranger
			add_unit_leader_trait = hill_fighter
			add_unit_leader_trait = trait_engineer
		}
		BUL_georgi_popov = { add_attack = 3 }
        BUL_georgi_popov = { add_defense = 1 }
        BUL_georgi_popov = { add_planning = 2 }
		BUL_georgi_popov = { add_logistics = 1 }
        BUL_georgi_popov = {
        	add_unit_leader_trait = pre_grinded
            add_unit_leader_trait = panzer_leader
            add_unit_leader_trait = panzer_expert
            add_unit_leader_trait = trickster
            add_unit_leader_trait = trait_mountaineer
			add_unit_leader_trait = hill_fighter
			add_unit_leader_trait = trait_engineer
		}	
		BUL_georgi_popov = { promote_leader = yes }
		BUL_georgi_popov = {
			add_unit_leader_trait = offensive_doctrine
			add_unit_leader_trait = thorough_planner
			add_unit_leader_trait = logistics_wizard
		}	
	}
	SPR = {
		if = {	
			limit = { 
				has_game_rule = {
					rule = JFU_SPAIN 
					option = SPAIN_NORMAL 
				} 
			} 
		add_ideas = { scw_pre_grinded_nerf2 }
		}			
		SPR_antonio_cordon_garcia = { add_skill_level = 2 }
		SPR_antonio_cordon_garcia = { add_attack = 3 }
        SPR_antonio_cordon_garcia = { add_defense = 3 }
        SPR_antonio_cordon_garcia = { add_planning = 1 }
		SPR_antonio_cordon_garcia = { add_logistics = 2 }
        SPR_antonio_cordon_garcia = {
        	add_unit_leader_trait = pre_grinded
            add_unit_leader_trait = infantry_leader
            add_unit_leader_trait = infantry_expert
			add_unit_leader_trait = ranger
			add_unit_leader_trait = trickster
			add_unit_leader_trait = organizer
			add_unit_leader_trait = trait_engineer
			add_unit_leader_trait = fortress_buster
			add_unit_leader_trait = urban_assault_specialist
        }
		SPR_antonio_cordon_garcia = { promote_leader = yes }
		SPR_antonio_cordon_garcia = {
            add_unit_leader_trait = thorough_planner
            add_unit_leader_trait = logistics_wizard
			add_unit_leader_trait = aggressive_assaulter
		}
		SPA_francisco_franco = { add_skill_level = 1 }
		SPA_francisco_franco = { add_attack = 2 }
        SPA_francisco_franco = { add_defense = 2 }
        SPA_francisco_franco = { add_planning = 1 }
		SPA_francisco_franco = { add_logistics = 2 }
        SPA_francisco_franco = {
        	add_unit_leader_trait = pre_grinded
            add_unit_leader_trait = organizer
            add_unit_leader_trait = trickster
            add_unit_leader_trait = panzer_leader
            add_unit_leader_trait = panzer_expert
            add_unit_leader_trait = hill_fighter
			add_unit_leader_trait = ranger
			add_unit_leader_trait = trait_engineer
			add_unit_leader_trait = fortress_buster
        }
		SPA_francisco_franco = { promote_leader = yes }
		SPA_francisco_franco = {
            add_unit_leader_trait = thorough_planner
			add_unit_leader_trait = aggressive_assaulter
		}
		SPR_mohamed_meziane = { add_attack = 2 }
        SPR_mohamed_meziane = { add_defense = 3 }
        SPR_mohamed_meziane = { add_planning = 2 }
		SPR_mohamed_meziane = { add_logistics = 2 }
        SPR_mohamed_meziane = {
        	add_unit_leader_trait = pre_grinded
            add_unit_leader_trait = panzer_leader
            add_unit_leader_trait = panzer_expert
            add_unit_leader_trait = trait_engineer
            add_unit_leader_trait = fortress_buster
            add_unit_leader_trait = trickster
			add_unit_leader_trait = expert_improviser
			add_unit_leader_trait = hill_fighter
			add_unit_leader_trait = ranger
			add_unit_leader_trait = desert_fox
        }
		SPR_gonzalo_queipo_de_llano = { add_skill_level = 1 }
		SPR_gonzalo_queipo_de_llano = { add_attack = 3 }
        SPR_gonzalo_queipo_de_llano = { add_defense = 2 }
        SPR_gonzalo_queipo_de_llano = { add_planning = 2 }
		SPR_gonzalo_queipo_de_llano = { add_logistics = 2 }
        SPR_gonzalo_queipo_de_llano = {
        	add_unit_leader_trait = pre_grinded
            add_unit_leader_trait = trait_engineer
            add_unit_leader_trait = infantry_leader
            add_unit_leader_trait = infantry_expert
            add_unit_leader_trait = trickster
            add_unit_leader_trait = expert_improviser
			add_unit_leader_trait = ranger
			add_unit_leader_trait = hill_fighter
			add_unit_leader_trait = fortress_buster
			add_unit_leader_trait = commando
        }
		SPR_jose_asensio_torrado = { add_skill_level = 2 }	
		SPR_jose_asensio_torrado = {
			add_unit_leader_trait = combined_arms_expert
		}		
	}
	JAP = {
		add_ideas = { pre_grinded_gens_volunteers }
		JAP_tomoyuki_yamashita = { add_attack = 3 }
        JAP_tomoyuki_yamashita = { add_defense = 1 }
        JAP_tomoyuki_yamashita = { add_planning = 2 }
		JAP_tomoyuki_yamashita = { add_logistics = 1 }
        JAP_tomoyuki_yamashita = {
        	add_unit_leader_trait = pre_grinded
            add_unit_leader_trait = commando
            add_unit_leader_trait = fortress_buster
            add_unit_leader_trait = trait_mountaineer
            add_unit_leader_trait = hill_fighter
            add_unit_leader_trait = infantry_expert
			add_unit_leader_trait = infantry_leader
			add_unit_leader_trait = expert_improviser
			add_unit_leader_trait = trait_engineer
			add_unit_leader_trait = fortress_buster
        }
		JAP_hisaichi_terauchi = { add_attack = 1 }
        JAP_hisaichi_terauchi = { add_defense = 1 }
        JAP_hisaichi_terauchi = { add_planning = 1 }
		JAP_hisaichi_terauchi = { add_logistics = 2 }
        JAP_hisaichi_terauchi = {
        	add_unit_leader_trait = pre_grinded
            add_unit_leader_trait = organizer
            add_unit_leader_trait = infantry_expert
            add_unit_leader_trait = infantry_leader
            add_unit_leader_trait = trait_engineer
            add_unit_leader_trait = trickster
			add_unit_leader_trait = hill_fighter
			add_unit_leader_trait = trait_mountaineer
        }
		JAP_hisaichi_terauchi = { promote_leader = yes}
		JAP_hisaichi_terauchi = {
			add_unit_leader_trait = logistics_wizard
			add_unit_leader_trait = thorough_planner
		}
		JAP_shunroku_hata = { add_attack = 3 }
        JAP_shunroku_hata = { add_defense = 1 }
        JAP_shunroku_hata = { add_planning = 2 }
        JAP_shunroku_hata = {
        	add_unit_leader_trait = pre_grinded
            add_unit_leader_trait = organizer
            add_unit_leader_trait = panzer_expert
            add_unit_leader_trait = panzer_leader
            add_unit_leader_trait = trait_engineer
            add_unit_leader_trait = trickster
			add_unit_leader_trait = hill_fighter
			add_unit_leader_trait = trait_mountaineer
        }
		JAP_shunroku_hata = { promote_leader = yes}
		JAP_shunroku_hata = {
			add_unit_leader_trait = logistics_wizard
			add_unit_leader_trait = thorough_planner
		}
		JAP_akira_muto = { add_skill_level = 2 }
		JAP_akira_muto = { add_attack = 4 }
        JAP_akira_muto = { add_defense = 4 }
        JAP_akira_muto = { add_planning = 2 }
		JAP_akira_muto = { add_logistics = 3 }
        JAP_akira_muto = {
        	add_unit_leader_trait = pre_grinded
            add_unit_leader_trait = naval_invader
            add_unit_leader_trait = infantry_expert
            add_unit_leader_trait = infantry_leader
            add_unit_leader_trait = guerilla_fighter
            add_unit_leader_trait = trickster
			add_unit_leader_trait = hill_fighter
			add_unit_leader_trait = urban_assault_specialist
			add_unit_leader_trait = commando
			add_unit_leader_trait = thorough_planner
			add_unit_leader_trait = trait_engineer
			add_unit_leader_trait = fortress_buster
        }
		JAP_shizuichi_tanaka = { add_attack = 4 }
        JAP_shizuichi_tanaka = { add_defense = 3 }
        JAP_shizuichi_tanaka = { add_planning = 3 }
		JAP_shizuichi_tanaka = { add_logistics = 1 }
        JAP_shizuichi_tanaka = {
        	add_unit_leader_trait = pre_grinded
            add_unit_leader_trait = infantry_expert
            add_unit_leader_trait = infantry_leader
            add_unit_leader_trait = naval_invader
            add_unit_leader_trait = commando
            add_unit_leader_trait = expert_improviser
			add_unit_leader_trait = jungle_rat
			add_unit_leader_trait = trait_mountaineer
			add_unit_leader_trait = trait_engineer
			add_unit_leader_trait = fortress_buster
        }
		JAP_kenkichi_ueda = { add_attack = 5 }
        JAP_kenkichi_ueda = { add_defense = 4 }
        JAP_kenkichi_ueda = { add_planning = 1 }
		JAP_kenkichi_ueda = { add_logistics = 1 }
        JAP_kenkichi_ueda = {
        	add_unit_leader_trait = pre_grinded
            add_unit_leader_trait = trait_engineer
            add_unit_leader_trait = panzer_expert
            add_unit_leader_trait = panzer_leader
            add_unit_leader_trait = trickster
            add_unit_leader_trait = commando
			add_unit_leader_trait = expert_improviser
			add_unit_leader_trait = jungle_rat
			add_unit_leader_trait = trait_mountaineer
			add_unit_leader_trait = trait_engineer
			add_unit_leader_trait = fortress_buster
        }				
	}
	MAN = {
		add_ideas = { pre_grinded_gens_volunteers }		
		MAN_tomoyuki_yamashita = { add_attack = 3 }
        MAN_tomoyuki_yamashita = { add_defense = 1 }
        MAN_tomoyuki_yamashita = { add_planning = 2 }
		MAN_tomoyuki_yamashita = { add_logistics = 1 }
        MAN_tomoyuki_yamashita = {
        	add_unit_leader_trait = pre_grinded
            add_unit_leader_trait = commando
            add_unit_leader_trait = fortress_buster
            add_unit_leader_trait = trait_mountaineer
            add_unit_leader_trait = hill_fighter
            add_unit_leader_trait = infantry_expert
			add_unit_leader_trait = infantry_leader
			add_unit_leader_trait = expert_improviser
        }
		MAN_hisaichi_terauchi = { add_attack = 1 }
        MAN_hisaichi_terauchi = { add_defense = 1 }
        MAN_hisaichi_terauchi = { add_planning = 1 }
		MAN_hisaichi_terauchi = { add_logistics = 2 }
        MAN_hisaichi_terauchi = {
        	add_unit_leader_trait = pre_grinded
            add_unit_leader_trait = organizer
            add_unit_leader_trait = infantry_expert
            add_unit_leader_trait = infantry_leader
            add_unit_leader_trait = trait_engineer
            add_unit_leader_trait = trickster
			add_unit_leader_trait = hill_fighter
			add_unit_leader_trait = trait_mountaineer
        }
		MAN_hisaichi_terauchi = { promote_leader = yes}
		MAN_hisaichi_terauchi = {
			add_unit_leader_trait = logistics_wizard
			add_unit_leader_trait = thorough_planner
		}
		MAN_shunroku_hata = { add_attack = 3 }
        MAN_shunroku_hata = { add_defense = 1 }
        MAN_shunroku_hata = { add_planning = 2 }
        MAN_shunroku_hata = {
        	add_unit_leader_trait = pre_grinded
            add_unit_leader_trait = organizer
            add_unit_leader_trait = panzer_expert
            add_unit_leader_trait = panzer_leader
            add_unit_leader_trait = trait_engineer
            add_unit_leader_trait = trickster
			add_unit_leader_trait = hill_fighter
			add_unit_leader_trait = trait_mountaineer
        }
		MAN_shunroku_hata = { promote_leader = yes}
		MAN_shunroku_hata = {
			add_unit_leader_trait = logistics_wizard
			add_unit_leader_trait = thorough_planner
		}
		MAN_akira_muto = { add_skill_level = 2 }
		MAN_akira_muto = { add_attack = 2 }
        MAN_akira_muto = { add_defense = 4 }
        MAN_akira_muto = { add_planning = 2 }
		MAN_akira_muto = { add_logistics = 3 }
        MAN_akira_muto = {
        	add_unit_leader_trait = pre_grinded
            add_unit_leader_trait = naval_invader
            add_unit_leader_trait = infantry_expert
            add_unit_leader_trait = infantry_leader
            add_unit_leader_trait = guerilla_fighter
            add_unit_leader_trait = trickster
			add_unit_leader_trait = hill_fighter
			add_unit_leader_trait = urban_assault_specialist
			add_unit_leader_trait = commando
			add_unit_leader_trait = thorough_planner
        }
		MAN_shizuichi_tanaka = { add_attack = 4 }
        MAN_shizuichi_tanaka = { add_defense = 3 }
        MAN_shizuichi_tanaka = { add_planning = 3 }
		MAN_shizuichi_tanaka = { add_logistics = 1 }
        MAN_shizuichi_tanaka = {
        	add_unit_leader_trait = pre_grinded
            add_unit_leader_trait = infantry_expert
            add_unit_leader_trait = infantry_leader
            add_unit_leader_trait = naval_invader
            add_unit_leader_trait = commando
            add_unit_leader_trait = expert_improviser
			add_unit_leader_trait = jungle_rat
			add_unit_leader_trait = trait_mountaineer
			add_unit_leader_trait = trait_engineer
        }
		MAN_kenkichi_ueda = { add_attack = 5 }
        MAN_kenkichi_ueda = { add_defense = 4 }
        MAN_kenkichi_ueda = { add_planning = 1 }
		MAN_kenkichi_ueda = { add_logistics = 1 }
        MAN_kenkichi_ueda = {
        	add_unit_leader_trait = pre_grinded
            add_unit_leader_trait = trait_engineer
            add_unit_leader_trait = panzer_expert
            add_unit_leader_trait = panzer_leader
            add_unit_leader_trait = trickster
            add_unit_leader_trait = commando
			add_unit_leader_trait = expert_improviser
			add_unit_leader_trait = jungle_rat
			add_unit_leader_trait = trait_mountaineer
        }				
	}
	FIN = {
		add_ideas = { pre_grinded_gens_volunteers }
		FIN_erik_heinrichs = {
            add_unit_leader_trait = pre_grinded
            add_unit_leader_trait = organizer
            add_unit_leader_trait = infantry_expert
            add_unit_leader_trait = infantry_leader
            add_unit_leader_trait = commando 
            add_unit_leader_trait = trait_mountaineer
            add_unit_leader_trait = guerilla_fighter
            add_unit_leader_trait = trickster
        } 
		FIN_erik_heinrichs = { promote_leader = yes }
		FIN_erik_heinrichs = {
			add_unit_leader_trait = logistics_wizard
			add_unit_leader_trait = defensive_doctrine
			add_unit_leader_trait = thorough_planner
		}	
		FIN_vilho_petter_nenonen = {
            add_unit_leader_trait = pre_grinded
            add_unit_leader_trait = ranger
            add_unit_leader_trait = infantry_expert
            add_unit_leader_trait = infantry_leader
            add_unit_leader_trait = trait_engineer
			add_unit_leader_trait = fortress_buster
            add_unit_leader_trait = trickster
			add_unit_leader_trait = expert_improviser
        }		
	}
	FRA = {
		add_ideas = { pre_grinded_gens_volunteers }
		FRA_alphonse_juin = { add_attack = 4 }
		FRA_alphonse_juin = { add_defense = 3 }
		FRA_alphonse_juin = {
			add_unit_leader_trait = pre_grinded
			add_unit_leader_trait = panzer_leader
            add_unit_leader_trait = panzer_expert
			add_unit_leader_trait = expert_improviser
			add_unit_leader_trait = ranger
			add_unit_leader_trait = trickster
			add_unit_leader_trait = desert_fox
		}
		FRA_maxime_weygand = { add_skill_level = 1 }
		FRA_maxime_weygand = { add_attack = 2 }
        FRA_maxime_weygand = { add_planning = 2 }
		FRA_maxime_weygand = { add_logistics = 2 }		
		FRA_maxime_weygand = {
			add_unit_leader_trait = pre_grinded
            add_unit_leader_trait = organizer
			add_unit_leader_trait = infantry_leader
			add_unit_leader_trait = infantry_expert
			add_unit_leader_trait = trickster
			add_unit_leader_trait = hill_fighter
		}
		FRA_maxime_weygand = { promote_leader = yes }
		FRA_maxime_weygand = {
			add_unit_leader_trait = logistics_wizard
			add_unit_leader_trait = unyielding_defender
		}
		FRA_charles_de_gaulle = { add_attack = 1 }
		FRA_charles_de_gaulle = { add_planning = 1 }
		FRA_charles_de_gaulle = { add_logistics = 2 }
		FRA_charles_de_gaulle = {
			add_unit_leader_trait = pre_grinded
            add_unit_leader_trait = guerilla_fighter
			add_unit_leader_trait = trickster
			add_unit_leader_trait = panzer_expert
			add_unit_leader_trait = panzer_leader
			add_unit_leader_trait = urban_assault_specialist
			add_unit_leader_trait = organizer
		}
		FRA_charles_de_gaulle = { promote_leader = yes }
		FRA_charles_de_gaulle = {
			add_unit_leader_trait = logistics_wizard
		}
		FRA_charles_huntziger = { add_skill_level = 1 }
		FRA_charles_huntziger = { add_attack = 3 }
		FRA_charles_huntziger = { add_defense = 3 }
		FRA_charles_huntziger = { add_planning = 1 }
		FRA_charles_huntziger = { add_logistics = 1 }
		FRA_charles_huntziger = {
			add_unit_leader_trait = pre_grinded
            add_unit_leader_trait = infantry_expert
			add_unit_leader_trait = infantry_leader
			add_unit_leader_trait = trickster
			add_unit_leader_trait = expert_improviser
			add_unit_leader_trait = guerilla_fighter
			add_unit_leader_trait = naval_invader
			add_unit_leader_trait = hill_fighter
			add_unit_leader_trait = trait_mountaineer
		}
	}
	SOV = {
		add_ideas = { pre_grinded_gens_volunteers }
		SOV_georgy_zhukov = {
			add_unit_leader_trait = pre_grinded
			add_unit_leader_trait = infantry_leader
			add_unit_leader_trait = ambusher
			add_unit_leader_trait = organizer
			add_unit_leader_trait = skilled_staffer
			
		}
		SOV_georgy_zhukov = { promote_leader = yes }	
		SOV_georgy_zhukov = {
			add_unit_leader_trait = expert_delegator
            add_unit_leader_trait = defensive_doctrine
			add_unit_leader_trait = logistics_wizard
		}
		SOV_nikolay_vatutin = { add_skill_level = 1 }
		SOV_nikolay_vatutin = { add_attack = 1 }
		SOV_nikolay_vatutin = { add_defense = 1 }
		SOV_nikolay_vatutin = { add_planning = 1 }
		SOV_nikolay_vatutin = { add_logistics = 1 }
		SOV_nikolay_vatutin = {
			add_unit_leader_trait = pre_grinded
			add_unit_leader_trait = inf_gens
			add_unit_leader_trait = trait_engineer
			add_unit_leader_trait = infantry_leader
			add_unit_leader_trait = infantry_expert
			add_unit_leader_trait = trickster	
			add_unit_leader_trait = organizer		
		}
		SOV_dmitry_lelyushenko = { add_skill_level = 2 }
		SOV_dmitry_lelyushenko = { add_attack = 3 }
		SOV_dmitry_lelyushenko = { add_defense = 3 }
		SOV_dmitry_lelyushenko = { add_logistics = 4 }	
		SOV_dmitry_lelyushenko = {
			add_unit_leader_trait = pre_grinded
			add_unit_leader_trait = tank_gens
			add_unit_leader_trait = panzer_expert
			add_unit_leader_trait = panzer_leader
			add_unit_leader_trait = trait_engineer
			add_unit_leader_trait = trickster	
			add_unit_leader_trait = ranger	
			add_unit_leader_trait = hill_fighter
			add_unit_leader_trait = cavalry_leader
			add_unit_leader_trait = fortress_buster
			add_unit_leader_trait = winter_specialist
		}
		SOV_andrey_grechko = { add_skill_level = 1 }
		SOV_andrey_grechko = { add_attack = 3 }
		SOV_andrey_grechko = { add_defense = 1 }
		SOV_andrey_grechko = { add_planning = 1 }
		SOV_andrey_grechko = { add_logistics = 1 }
		SOV_andrey_grechko = {
			add_unit_leader_trait = pre_grinded
			add_unit_leader_trait = infantry_leader
			add_unit_leader_trait = trickster
			add_unit_leader_trait = guerilla_fighter
			add_unit_leader_trait = cavalry_leader	
			add_unit_leader_trait = cavalry_expert				
		}
		SOV_vasily_chuykov = { add_skill_level = 2 }
		SOV_vasily_chuykov = { add_attack = 1 }
		SOV_vasily_chuykov = { add_defense = 3 }
		SOV_vasily_chuykov = { add_planning = 1 }
		SOV_vasily_chuykov = { add_logistics = 2 }	
		SOV_vasily_chuykov = {
			add_unit_leader_trait = pre_grinded
			add_unit_leader_trait = organizer
			add_unit_leader_trait = panzer_leader
			add_unit_leader_trait = cavalry_leader
			add_unit_leader_trait = combined_arms_expert
			add_unit_leader_trait = trickster
			add_unit_leader_trait = hill_fighter	
			add_unit_leader_trait = ranger
			add_unit_leader_trait = winter_specialist
			add_unit_leader_trait = fortress_buster			
		}	
		SOV_vasily_chuykov = { promote_leader = yes }
		SOV_vasily_chuykov = {
			add_unit_leader_trait = logistics_wizard
			add_unit_leader_trait = thorough_planner
		}	
	}
	ENG = {
		ENG_bernard_montgomery = { add_attack = 2 }
		ENG_bernard_montgomery = {
			add_unit_leader_trait = pre_grinded
			add_unit_leader_trait = panzer_leader
			add_unit_leader_trait = panzer_expert
			add_unit_leader_trait = desert_fox
			add_unit_leader_trait = trickster
		}
		ENG_bernard_montgomery = { promote_leader = yes }
		ENG_claude_auchinleck = { add_attack = 2 }		
		ENG_claude_auchinleck = {
			add_unit_leader_trait = pre_grinded
			add_unit_leader_trait = infantry_expert
			add_unit_leader_trait = infantry_leader
			add_unit_leader_trait = hill_fighter
			add_unit_leader_trait = trickster
			add_unit_leader_trait = guerilla_fighter
			add_unit_leader_trait = naval_invader
			add_unit_leader_trait = invader_ii
			add_unit_leader_trait = trait_engineer
		}
		ENG_alan_cunningham = { add_attack = 1 }		
		ENG_alan_cunningham = { add_defense = 4 }
		ENG_alan_cunningham = {
			add_unit_leader_trait = pre_grinded
			add_unit_leader_trait = infantry_expert
			add_unit_leader_trait = infantry_leader
			add_unit_leader_trait = hill_fighter
			add_unit_leader_trait = naval_invader
			add_unit_leader_trait = organizer
			add_unit_leader_trait = trickster
			add_unit_leader_trait = guerilla_fighter		
		}
		ENG_alan_cunningham = { promote_leader = yes }
		ENG_alan_cunningham = {
			add_unit_leader_trait = logistics_wizard
		}
		ENG_william_slim = { add_attack = 2 }	
		ENG_william_slim = { add_defense = 2 }				
		ENG_william_slim = {
			add_unit_leader_trait = pre_grinded
			add_unit_leader_trait = expert_improviser
			add_unit_leader_trait = trait_engineer
			add_unit_leader_trait = infantry_expert	
			add_unit_leader_trait = infantry_leader	
			add_unit_leader_trait = ranger
		}
		ENG_harold_alexander = { add_attack = 1}
		ENG_harold_alexander = {
			add_unit_leader_trait = pre_grinded
			add_unit_leader_trait = panzer_leader
			add_unit_leader_trait = panzer_expert
			add_unit_leader_trait = hill_fighter	
			add_unit_leader_trait = trait_engineer	
			add_unit_leader_trait = trickster	
			add_unit_leader_trait = organizer
			add_unit_leader_trait = guerilla_fighter
		}
	}
	USA = {
		USA_george_s_patton = { add_attack = 1 }
		USA_george_s_patton = { add_defense = 3 }
		USA_george_s_patton = { add_planning = 3 }
		USA_george_s_patton = { add_logistics = 1 }
		USA_george_s_patton = {
			add_unit_leader_trait = pre_grinded
			add_unit_leader_trait = panzer_expert
			add_unit_leader_trait = hill_fighter
			add_unit_leader_trait = fortress_buster
			add_unit_leader_trait = trait_engineer
			add_unit_leader_trait = expert_improviser
			add_unit_leader_trait = ranger				
		}
		USA_omar_bradley = { add_attack = 2 }
		USA_omar_bradley = { add_logistics = 1 }
		USA_omar_bradley = {
			add_unit_leader_trait = pre_grinded
			add_unit_leader_trait = panzer_expert
			add_unit_leader_trait = hill_fighter
			add_unit_leader_trait = panzer_leader
			add_unit_leader_trait = organizer	
			add_unit_leader_trait = urban_assault_specialist				
		}
		USA_omar_bradley = { promote_leader = yes }
		USA_omar_bradley = {
			add_unit_leader_trait = thorough_planner
			add_unit_leader_trait = aggressive_assaulter
			add_unit_leader_trait = logistics_wizard		
		}
		USA_dwight_d_eisenhower = { add_attack = 3 }
		USA_dwight_d_eisenhower = { add_defense = 2 }
		USA_dwight_d_eisenhower = {
			add_unit_leader_trait = trait_engineer
			add_unit_leader_trait = pre_grinded
			add_unit_leader_trait = infantry_expert
			add_unit_leader_trait = infantry_leader
			add_unit_leader_trait = hill_fighter
			add_unit_leader_trait = naval_invader
			add_unit_leader_trait = ranger
			add_unit_leader_trait = invader_ii
		}
		USA_dwight_d_eisenhower = { promote_leader = yes }
		USA_dwight_d_eisenhower = {
			add_unit_leader_trait = thorough_planner
			add_unit_leader_trait = aggressive_assaulter			
		}
		USA_geoffrey_keyes = { add_skill_level = 2 }
		USA_geoffrey_keyes = { add_attack = 5 }
		USA_geoffrey_keyes = { add_defense = 4 }
		USA_geoffrey_keyes = { add_planning = 1 }
		USA_geoffrey_keyes = { add_logistics = 1 }
		USA_geoffrey_keyes = {
			add_unit_leader_trait = trickster
			add_unit_leader_trait = pre_grinded
			add_unit_leader_trait = infantry_expert
			add_unit_leader_trait = infantry_leader
			add_unit_leader_trait = hill_fighter	
			add_unit_leader_trait = fortress_buster
			add_unit_leader_trait = trait_engineer
			add_unit_leader_trait = expert_improviser
			add_unit_leader_trait = trait_mountaineer
		}
	}
	CAN = {
		CAN_thomas_victor_anderson = { add_attack = 2 }
		CAN_thomas_victor_anderson = {
			add_unit_leader_trait = pre_grinded
			add_unit_leader_trait = trickster
			add_unit_leader_trait = desert_fox
			add_unit_leader_trait = panzer_leader
			add_unit_leader_trait = panzer_expert
			add_unit_leader_trait = organizer
			add_unit_leader_trait = guerilla_fighter
			add_unit_leader_trait = expert_improviser		
		}
		CAN_charles_foulkes = {
			add_unit_leader_trait = pre_grinded
			add_unit_leader_trait = organizer
			add_unit_leader_trait = hill_fighter
			add_unit_leader_trait = panzer_leader
			add_unit_leader_trait = combined_arms_expert
			add_unit_leader_trait = trickster
			add_unit_leader_trait = guerilla_fighter	
		}
		CAN_charles_foulkes = { promote_leader = yes }
		CAN_charles_foulkes = {
			add_unit_leader_trait = logistics_wizard	
		}
	}
	SAF = {
		SAF_george_edwin_brink = {
			add_unit_leader_trait = trickster
			add_unit_leader_trait = pre_grinded
			add_unit_leader_trait = panzer_leader
			add_unit_leader_trait = panzer_expert
			add_unit_leader_trait = guerilla_fighter
			add_unit_leader_trait = expert_improviser			
		}
		SAF_guy_hallifax = { add_skill_level = 1 }
		SAF_guy_hallifax = {
			add_unit_leader_trait = trickster
			add_unit_leader_trait = pre_grinded
			add_unit_leader_trait = combined_arms_expert
			add_unit_leader_trait = panzer_leader
			add_unit_leader_trait = hill_fighter	
			add_unit_leader_trait = organizer
			add_unit_leader_trait = guerilla_fighter		
		}
		SAF_guy_hallifax = { promote_leader = yes }
		SAF_guy_hallifax = {
			add_unit_leader_trait = logistics_wizard

		}
	}
	AST = {
		AST_leslie_morshead = {
			add_unit_leader_trait = trickster
			add_unit_leader_trait = pre_grinded
			add_unit_leader_trait = guerilla_fighter
			add_unit_leader_trait = panzer_leader
			add_unit_leader_trait = combined_arms_expert
			add_unit_leader_trait = hill_fighter	
			add_unit_leader_trait = organizer				
		}
		AST_leslie_morshead = { promote_leader = yes }
		AST_leslie_morshead = {
			add_unit_leader_trait = logistics_wizard
		}
		AST_thomas_blamey = {
			add_unit_leader_trait = trickster
			add_unit_leader_trait = pre_grinded
			add_unit_leader_trait = guerilla_fighter
			add_unit_leader_trait = infantry_leader
			add_unit_leader_trait = infantry_expert
			add_unit_leader_trait = organizer
			add_unit_leader_trait = trait_mountaineer			
		}
		AST_thomas_blamey = { promote_leader = yes }
		AST_thomas_blamey = {
			add_unit_leader_trait = logistics_wizard
			add_unit_leader_trait = offensive_doctrine
		}
		AST_henry_wynter = {
			add_unit_leader_trait = trickster
			add_unit_leader_trait = pre_grinded
			add_unit_leader_trait = trait_engineer
			add_unit_leader_trait = infantry_expert
			add_unit_leader_trait = infantry_leader
			add_unit_leader_trait = desert_fox		
			add_unit_leader_trait = guerilla_fighter	
			add_unit_leader_trait = commando	
		}
		AST_alan_vasey = { add_skill_level = 1 }
		AST_alan_vasey = { add_attack = 2 }
		AST_alan_vasey = {
			add_unit_leader_trait = trickster
			add_unit_leader_trait = pre_grinded
			add_unit_leader_trait = trait_engineer
			add_unit_leader_trait = panzer_leader
			add_unit_leader_trait = panzer_expert
			add_unit_leader_trait = hill_fighter
			add_unit_leader_trait = guerilla_fighter
			add_unit_leader_trait = expert_improviser					
		}
	}
	BRA = {
		BRA_eurico_gaspar_dutra = {
			add_unit_leader_trait = trickster
			add_unit_leader_trait = pre_grinded
			add_unit_leader_trait = guerilla_fighter
			add_unit_leader_trait = infantry_leader
			add_unit_leader_trait = infantry_expert	
			add_unit_leader_trait = organizer
			add_unit_leader_trait = naval_invader			
		}
		BRA_eurico_gaspar_dutra = { promote_leader = yes }
		BRA_eurico_gaspar_dutra = {
			add_unit_leader_trait = offensive_doctrine
			add_unit_leader_trait = logistics_wizard
		}
		BRA_mascarenhas_de_morais = {
			add_unit_leader_trait = trickster
			add_unit_leader_trait = pre_grinded
			add_unit_leader_trait = trait_engineer
			add_unit_leader_trait = infantry_expert
			add_unit_leader_trait = infantry_leader	
			add_unit_leader_trait = commando
			add_unit_leader_trait = guerilla_fighter
		}
		BRA_augusto_rademaker = { add_skill_level = 1 }
		BRA_augusto_rademaker = {
			add_unit_leader_trait = commando
		}
	}
	MEX = {
		MEX_heliodoro_charis = { add_skill_level = 1 }
		MEX_heliodoro_charis = { add_logistics = 1 }
		MEX_heliodoro_charis = {
			add_unit_leader_trait = trickster
			add_unit_leader_trait = pre_grinded
			add_unit_leader_trait = trait_engineer
			add_unit_leader_trait = infantry_expert
			add_unit_leader_trait = infantry_leader
			add_unit_leader_trait = hill_fighter
			add_unit_leader_trait = guerilla_fighter
			add_unit_leader_trait = naval_invader
		}
		MEX_gildardo_magana = { add_skill_level = 1 }
		MEX_gildardo_magana = { add_attack = 1 }
		MEX_gildardo_magana = {
			add_unit_leader_trait = trickster
			add_unit_leader_trait = pre_grinded
			add_unit_leader_trait = guerilla_fighter
			add_unit_leader_trait = infantry_leader
			add_unit_leader_trait = infantry_expert	
			add_unit_leader_trait = organizer
			add_unit_leader_trait = jungle_rat			
		}
		MEX_gildardo_magana = { promote_leader = yes }
		MEX_gildardo_magana = {
			add_unit_leader_trait = logistics_wizard
		}
		MEX_lazaro_cardenas = { add_skill_level = 1 }
		MEX_lazaro_cardenas = {
			add_unit_leader_trait = commando
		}
	}
	RAJ = {
		RAJ_frank_messervy = { add_skill_level = 1 }
		RAJ_frank_messervy = {
			add_unit_leader_trait = trickster
			add_unit_leader_trait = pre_grinded
			add_unit_leader_trait = trait_engineer
			add_unit_leader_trait = infantry_expert
			add_unit_leader_trait = infantry_leader
			add_unit_leader_trait = guerilla_fighter		
		}
		RAJ_douglas_gracey = { add_skill_level = 1 }
		RAJ_douglas_gracey = {
			add_unit_leader_trait = pre_grinded
			add_unit_leader_trait = guerilla_fighter
			add_unit_leader_trait = infantry_leader
			add_unit_leader_trait = infantry_expert	
			add_unit_leader_trait = organizer
			add_unit_leader_trait = trickster				
		}
		RAJ_douglas_gracey = { promote_leader = yes }
		RAJ_douglas_gracey = {
			add_unit_leader_trait = logistics_wizard
			add_unit_leader_trait = defensive_doctrine
		}
	}
	NZL = {	
		NZL_robert_row = {
			add_unit_leader_trait = trickster
			add_unit_leader_trait = pre_grinded
			add_unit_leader_trait = guerilla_fighter
			add_unit_leader_trait = infantry_leader
			add_unit_leader_trait = infantry_expert	
			add_unit_leader_trait = naval_invader
			add_unit_leader_trait = hill_fighter				
		}	
		NZL_william_stevens = { add_skill_level = 1 }
		NZL_william_stevens = {
			add_unit_leader_trait = pre_grinded
			add_unit_leader_trait = guerilla_fighter
			add_unit_leader_trait = infantry_leader
			add_unit_leader_trait = infantry_expert	
			add_unit_leader_trait = organizer	
			add_unit_leader_trait = urban_assault_specialist
			add_unit_leader_trait = trickster						
		}
		NZL_william_stevens = { promote_leader = yes }
		NZL_william_stevens = {
			add_unit_leader_trait = logistics_wizard
			add_unit_leader_trait = defensive_doctrine
		}
		NZL_bernard_freyberg = {
			add_unit_leader_trait = commando
		}
	}
	IRE = {
		IRE_michael_costello = { add_skill_level = 2 }	
		IRE_michael_costello = {
			add_unit_leader_trait = trickster
			add_unit_leader_trait = pre_grinded
			add_unit_leader_trait = guerilla_fighter
			add_unit_leader_trait = infantry_leader
			add_unit_leader_trait = infantry_expert	
			add_unit_leader_trait = naval_invader
			add_unit_leader_trait = urban_assault_specialist				
		}
		IRE_maurice_gamelin = { add_skill_level = 2 }		
		IRE_maurice_gamelin = {
			add_unit_leader_trait = trickster
			add_unit_leader_trait = pre_grinded
			add_unit_leader_trait = guerilla_fighter
			add_unit_leader_trait = infantry_leader
			add_unit_leader_trait = infantry_expert	
			add_unit_leader_trait = urban_assault_specialist
			add_unit_leader_trait = organizer				
		}
		IRE_maurice_gamelin = { promote_leader = yes }
		IRE_maurice_gamelin = {
			add_unit_leader_trait = logistics_wizard
		}	
	}	
	NOR = {
		NOR_jacob_hivden_haug = { add_skill_level = 2 }	
		NOR_jacob_hivden_haug = {
			add_unit_leader_trait = trickster
			add_unit_leader_trait = pre_grinded
			add_unit_leader_trait = guerilla_fighter
			add_unit_leader_trait = infantry_leader
			add_unit_leader_trait = infantry_expert	
			add_unit_leader_trait = naval_invader
			add_unit_leader_trait = urban_assault_specialist				
		}
		NOR_wilhelm_von_tangen_hansteen = { add_skill_level = 1 }		
		NOR_wilhelm_von_tangen_hansteen = {
			add_unit_leader_trait = trickster
			add_unit_leader_trait = pre_grinded
			add_unit_leader_trait = guerilla_fighter
			add_unit_leader_trait = infantry_leader
			add_unit_leader_trait = infantry_expert	
			add_unit_leader_trait = urban_assault_specialist
			add_unit_leader_trait = organizer				
		}
		NOR_wilhelm_von_tangen_hansteen = { promote_leader = yes }
		NOR_wilhelm_von_tangen_hansteen = {
			add_unit_leader_trait = logistics_wizard
		}	
	}	
}
JFU_update_generals = {
	MEX = {
		MEX_heliodoro_charis = { add_attack = 2 }
		MEX_heliodoro_charis = { add_defense = 2 }
		MEX_heliodoro_charis = { add_logistics = 4 }
		MEX_heliodoro_charis = { add_planning = 3 }	
		MEX_heliodoro_charis = {
			add_unit_leader_trait = expert_improviser
			add_unit_leader_trait = fortress_buster
			add_unit_leader_trait = urban_assault_specialist
		}
		MEX_gildardo_magana = { add_attack = 3 }
		MEX_gildardo_magana = { add_defense = 2 }
		MEX_gildardo_magana = { add_planning = 2 }			
		MEX_gildardo_magana = {
			add_unit_leader_trait = thorough_planner
			add_unit_leader_trait = aggressive_assaulter
			add_unit_leader_trait = trait_mountaineer		
		}

	}
	BRA = {
		BRA_eurico_gaspar_dutra = { add_attack = 3 }
		BRA_eurico_gaspar_dutra = { add_defense = 2 }
		BRA_eurico_gaspar_dutra = { add_planning = 3 }
		BRA_eurico_gaspar_dutra = { add_logistics = 2 }
		BRA_eurico_gaspar_dutra = {	
			add_unit_leader_trait = hill_fighter
		}
		BRA_eurico_gaspar_dutra = {
			add_unit_leader_trait = aggressive_assaulter
			add_unit_leader_trait = thorough_planner	
		}
		BRA_mascarenhas_de_morais = { add_attack = 5 }
		BRA_mascarenhas_de_morais = { add_defense = 2 }
		BRA_mascarenhas_de_morais = { add_planning = 3 }
		BRA_mascarenhas_de_morais = { add_logistics = 2 }
		BRA_mascarenhas_de_morais = {
			add_unit_leader_trait = expert_improviser	
			add_unit_leader_trait = trait_engineer
			add_unit_leader_trait = fortress_buster
			add_unit_leader_trait = trait_mountaineer	
		}
	}
	AST = {
		AST_leslie_morshead = { add_attack = 2 }
		AST_leslie_morshead = { add_defense = 3 }
		AST_leslie_morshead = { add_planning = 3 }	
		AST_leslie_morshead = {
			add_unit_leader_trait = thorough_planner
			add_unit_leader_trait = aggressive_assaulter
			add_unit_leader_trait = jungle_rat
		}
		AST_thomas_blamey = { add_attack = 4 }
		AST_thomas_blamey = { add_defense = 3 }
		AST_thomas_blamey = { add_planning = 2 }
		AST_thomas_blamey = { add_logistics = 2 }	
		AST_thomas_blamey = {
			add_unit_leader_trait = hill_fighter
			add_unit_leader_trait = thorough_planner
			add_unit_leader_trait = aggressive_assaulter			
		}
		AST_henry_wynter = { add_attack = 4 }
		AST_henry_wynter = { add_defense = 2 }
		AST_henry_wynter = { add_planning = 2 }
		AST_henry_wynter = { add_logistics = 2 }	
		AST_henry_wynter = {
			add_unit_leader_trait = expert_improviser
			add_unit_leader_trait = fortress_buster	
			add_unit_leader_trait = trait_mountaineer		
		}
		AST_alan_vasey = { add_attack = 3 }
		AST_alan_vasey = { add_defense = 2 }
		AST_alan_vasey = { add_planning = 2 }
		AST_alan_vasey = { add_logistics = 4 }
		AST_alan_vasey = {
			add_unit_leader_trait = ranger	
			add_unit_leader_trait = expert_improviser				
		}
	}
	SAF = {
		SAF_george_edwin_brink = { add_attack = 3 }
		SAF_george_edwin_brink = { add_defense = 1 }
		SAF_george_edwin_brink = { add_planning = 1 }
		SAF_george_edwin_brink = { add_logistics = 4 }
		SAF_george_edwin_brink = {
			add_unit_leader_trait = trait_engineer
			add_unit_leader_trait = fortress_buster
			add_unit_leader_trait = ranger
		}
		SAF_guy_hallifax = { add_attack = 2 }
		SAF_guy_hallifax = { add_defense = 3 }
		SAF_guy_hallifax = { add_planning = 2 }
		SAF_guy_hallifax = { add_logistics = 1 }
		SAF_guy_hallifax = {
			add_unit_leader_trait = urban_assault_specialist
			add_unit_leader_trait = thorough_planner
			add_unit_leader_trait = aggressive_assaulter
		}
	}
	CAN = {
		CAN_thomas_victor_anderson = { add_attack = 3 }
		CAN_thomas_victor_anderson = { add_defense = 2 }
		CAN_thomas_victor_anderson = { add_planning = 2 }
		CAN_thomas_victor_anderson = {
			add_unit_leader_trait = trait_engineer
            add_unit_leader_trait = fortress_buster
			add_unit_leader_trait = ranger
		}
		CAN_charles_foulkes = { add_attack = 2 }
		CAN_charles_foulkes = { add_defense = 3 }
		CAN_charles_foulkes = { add_planning = 1 }
		CAN_charles_foulkes = { add_logistics = 2 }
		CAN_charles_foulkes = {
			add_unit_leader_trait = urban_assault_specialist
			add_unit_leader_trait = thorough_planner
			add_unit_leader_trait = aggressive_assaulter
		}
	}
	ENG = {
		ENG_bernard_montgomery = {
			add_unit_leader_trait = trait_engineer
            add_unit_leader_trait = fortress_buster
			add_unit_leader_trait = trait_mountaineer
		}
		ENG_bernard_montgomery = { add_attack = 2 }	
		ENG_bernard_montgomery = { add_planning = 2 }	
		ENG_bernard_montgomery = {
			add_unit_leader_trait = ranger
			add_unit_leader_trait = thorough_planner
			add_unit_leader_trait = aggressive_assaulter
		}	
		ENG_claude_auchinleck = { add_attack = 3 }	
		ENG_claude_auchinleck = { add_planning = 2 }	
		ENG_claude_auchinleck = {
            add_unit_leader_trait = fortress_buster
			add_unit_leader_trait = expert_improviser
			add_unit_leader_trait = trait_mountaineer
		}
		ENG_alan_cunningham = { add_attack = 3 }	
		ENG_alan_cunningham = { add_planning = 1 }
		ENG_alan_cunningham = { add_logistics = 1 }
		ENG_alan_cunningham = {
			add_unit_leader_trait = trait_mountaineer
			add_unit_leader_trait = invader_ii		
			add_unit_leader_trait = thorough_planner
			add_unit_leader_trait = aggressive_assaulter
		}
		ENG_william_slim = {
			add_unit_leader_trait = expert_improviser
			add_unit_leader_trait = trait_engineer
			add_unit_leader_trait = fortress_buster
			add_unit_leader_trait = commando
			add_unit_leader_trait = urban_assault_specialist
		}
		ENG_harold_alexander = { add_attack = 3 }
		ENG_harold_alexander = { add_defense = 1}	
		ENG_harold_alexander = { add_planning = 2 }
		ENG_harold_alexander = {
			add_unit_leader_trait = fortress_buster
			add_unit_leader_trait = expert_improviser
			add_unit_leader_trait = ranger
		}
	}
	FRA = {
		FRA_maxime_weygand = { add_attack = 1 }
		FRA_maxime_weygand = { add_defense = 1 }
		FRA_maxime_weygand = {
			add_unit_leader_trait = trait_mountaineer	
			add_unit_leader_trait = trait_engineer
			add_unit_leader_trait = fortress_buster
			add_unit_leader_trait = thorough_planner
		}
		FRA_maxime_weygand = { add_attack = 1 }
		FRA_maxime_weygand = { add_defense = 1 }
		FRA_maxime_weygand = { add_planning= 1 }
		FRA_maxime_weygand = { add_logistics = 1 }
		FRA_charles_de_gaulle = {
			add_unit_leader_trait = ranger
            add_unit_leader_trait = trait_engineer
			add_unit_leader_trait = fortress_buster
			add_unit_leader_trait = thorough_planner
			add_unit_leader_trait = aggressive_assaulter
		}
		FRA_charles_huntziger = { add_attack = 1 }
		FRA_charles_huntziger = { add_logistics = 1 }
		FRA_charles_huntziger = {
            add_unit_leader_trait = trait_engineer
			add_unit_leader_trait = fortress_buster
			add_unit_leader_trait = trait_mountaineer
		}
		FRA_alphonse_juin = { add_attack = 1 }
		FRA_alphonse_juin = { add_planning= 1 }
		FRA_alphonse_juin = { add_logistics = 1 }
		FRA_alphonse_juin = {
            add_unit_leader_trait = trait_engineer
			add_unit_leader_trait = fortress_buster
		}
	}
	RAJ = {
		RAJ_frank_messervy = { add_attack = 4 }
		RAJ_frank_messervy = { add_defense = 3 }
		RAJ_frank_messervy = { add_logistics = 1 }
		RAJ_frank_messervy = { add_planning = 2 }	
		RAJ_frank_messervy = {
			add_unit_leader_trait = expert_improviser
			add_unit_leader_trait = trait_mountaineer
			add_unit_leader_trait = fortress_buster
		}
		RAJ_douglas_gracey = { add_attack = 2 }
		RAJ_douglas_gracey = { add_defense = 2 }
		RAJ_douglas_gracey = { add_logistics = 2 }
		RAJ_douglas_gracey = { add_planning = 2 }	
		RAJ_douglas_gracey = {
			add_unit_leader_trait = trait_mountaineer
			add_unit_leader_trait = thorough_planner
		}
	}
	NZL = {
		NZL_robert_row = { add_attack = 4 }
		NZL_robert_row = { add_defense = 4 }
		NZL_robert_row = { add_logistics = 3 }
		NZL_robert_row = { add_planning = 2 }
		NZL_robert_row = {
			add_unit_leader_trait = expert_improviser
			add_unit_leader_trait = trait_engineer			
			add_unit_leader_trait = trait_mountaineer
			add_unit_leader_trait = fortress_buster
		}
		NZL_william_stevens = { add_attack = 3 }
		NZL_william_stevens = { add_defense = 1 }
		NZL_william_stevens = { add_planning = 2 }
		NZL_william_stevens = {
			add_unit_leader_trait = trait_mountaineer
			add_unit_leader_trait = thorough_planner
		}
	}
	IRE = {
		IRE_michael_costello = { add_attack = 5 }
		IRE_michael_costello = { add_defense = 4 }
		IRE_michael_costello = { add_planning = 4 }
		IRE_michael_costello = { add_logistics = 3 }
		IRE_michael_costello = {
			add_unit_leader_trait = trait_engineer			
			add_unit_leader_trait = trait_mountaineer
			add_unit_leader_trait = fortress_buster
			add_unit_leader_trait = expert_improviser
		}
		IRE_maurice_gamelin = { add_attack = 4 }
		IRE_maurice_gamelin = { add_defense = 3 }
		IRE_maurice_gamelin = { add_planning = 4 }
		IRE_maurice_gamelin = { add_logistics = 3 }
		IRE_maurice_gamelin = {		
			add_unit_leader_trait = trait_mountaineer
			add_unit_leader_trait = aggressive_assaulter
			add_unit_leader_trait = thorough_planner
		}
	}
	NOR = {
		NOR_jacob_hivden_haug = { add_attack = 6 }
		NOR_jacob_hivden_haug = { add_defense = 4 }
		NOR_jacob_hivden_haug = { add_planning = 3 }
		NOR_jacob_hivden_haug = { add_logistics = 3 }
		NOR_jacob_hivden_haug = {
			add_unit_leader_trait = trait_engineer			
			add_unit_leader_trait = trait_mountaineer
			add_unit_leader_trait = fortress_buster
			add_unit_leader_trait = expert_improviser
		}
		NOR_wilhelm_von_tangen_hansteen = { add_attack = 3 }
		NOR_wilhelm_von_tangen_hansteen = { add_defense = 3 }
		NOR_wilhelm_von_tangen_hansteen = { add_planning = 2 }
		NOR_wilhelm_von_tangen_hansteen = { add_logistics = 3 }
		NOR_wilhelm_von_tangen_hansteen = {		
			add_unit_leader_trait = trait_mountaineer
			add_unit_leader_trait = aggressive_assaulter
			add_unit_leader_trait = thorough_planner
		}
	}
}
JFU_update_SOV_generals = {
	SOV = {
		SOV_dmitry_lelyushenko = { add_attack = 2 }
		SOV_dmitry_lelyushenko = {
			add_unit_leader_trait = expert_improviser
		}
		SOV_vasily_chuykov = { add_attack = 2 }
		SOV_vasily_chuykov = {
			add_unit_leader_trait = aggressive_assaulter
		}	
	}	
}
SOV_closed_eco_effect = {
	SOV = {
		add_ideas = closed_economy 
		add_ideas = export_focus_idea
		403 = {
			add_extra_state_shared_building_slots = 16
			add_building_construction = {
				type = industrial_complex
				level = 16
				instant_build = yes
				}
		}
	}	
}
JAP_closed_eco_effect = {
	JAP = {
		add_ideas = closed_economy 
		add_ideas = export_focus_idea
	}
#	MAN = {
#		add_ideas = closed_economy 
#		add_ideas = export_focus_idea		
#	}	
}
Endsieg_Tanks_spawn_ins = {
	GER = {
		set_technology = { mechanised_infantry = 1 }
	}
	create_equipment_variant = {
		name = "ENDSIEG TANK GER"
		type = medium_tank_chassis_1
		allow_without_tech = yes
		parent_version = 0
		modules = {
			main_armament_slot = tank_high_velocity_cannon_2
			turret_type_slot = tank_medium_three_man_tank_turret
			suspension_type_slot = tank_torsion_bar_suspension
			armor_type_slot = tank_welded_armor
			engine_type_slot = tank_gasoline_engine
			special_type_slot_1 = tank_radio_2
			special_type_slot_2 = secondary_turret_small_cannon
			special_type_slot_3 = secondary_turret_small_cannon 
			special_type_slot_4 = easy_maintenance 
		}
		upgrades = {
			tank_nsb_engine_upgrade = 9
			tank_nsb_armor_upgrade = 0
		}
		icon = "GFX_GER_basic_medium_tank_medium"
	}
	create_equipment_variant = {
		name = "ENDSIEG TD GER"
		type = medium_tank_destroyer_chassis_1
		allow_without_tech = yes
		parent_version = 0
		modules = {
			main_armament_slot = tank_high_velocity_cannon_3
			turret_type_slot = tank_medium_fixed_superstructure_turret
			suspension_type_slot = tank_torsion_bar_suspension
			armor_type_slot = tank_welded_armor
			engine_type_slot = tank_gasoline_engine
			special_type_slot_1 = squeezebore_adaptor
			special_type_slot_2 = secondary_turret_small_cannon
			special_type_slot_3 = secondary_turret_small_cannon 
			special_type_slot_4 = easy_maintenance 
		}
		upgrades = {
			tank_nsb_engine_upgrade = 9
			tank_nsb_armor_upgrade = 0
		}
		icon = "GFX_GER_basic_medium_td"
	}
	create_equipment_variant = {
		name = "ENDSIEG SPAA GER"
		type = medium_tank_aa_chassis_1
		allow_without_tech = yes
		parent_version = 0
		modules = {
			main_armament_slot = tank_anti_air_cannon_3
			turret_type_slot = tank_medium_three_man_tank_turret
			suspension_type_slot = tank_torsion_bar_suspension
			armor_type_slot = tank_welded_armor
			engine_type_slot = tank_gasoline_engine
			special_type_slot_1 = additional_machine_guns
			special_type_slot_2 = additional_machine_guns
			special_type_slot_3 = additional_machine_guns 
			special_type_slot_4 = easy_maintenance 
		}
		upgrades = {
			tank_nsb_engine_upgrade = 9
			tank_nsb_armor_upgrade = 0
		}
		icon = "GFX_GER_basic_medium_td"
	}
	load_oob = "GER_endsieg"
}
Vichy_ai_Building = {
	set_temp_variable = { vichy_mils = 0 } 
	set_temp_variable = { vichy_civs = 0 }
	set_temp_variable = { vichy_docks = 0 }
	EFR = {
		every_controlled_state = {
			limit = { is_core_of = EFR }
			add_to_temp_variable = { vichy_mils = arms_factory_level }
			add_to_temp_variable = { vichy_civs = industrial_complex_level }
			add_to_temp_variable = { vichy_docks = building_level@dockyard }
		}
	}
	GER = {
		add_offsite_building = { type = arms_factory level = vichy_mils }
		add_offsite_building = { type = industrial_complex level = vichy_civs }
		add_offsite_building = { type = dockyard level = vichy_docks }
	}
}
SOV_cap_Building = {
	set_temp_variable = { SOV_mils = 0 }
	set_temp_variable = { SOV_civs = 0 }
	SOV = {
		every_controlled_state = {
			limit = { is_core_of = SOV }
			add_to_temp_variable = { SOV_mils = arms_factory_level }
			add_to_temp_variable = { SOV_civs = industrial_complex_level }
		}
	}
	GER = {
		add_offsite_building = { type = arms_factory level = SOV_mils }
		add_offsite_building = { type = industrial_complex level = SOV_civs }
	}
}
SPR_NO_CW = {
	SPR = {
		annex_country = { target = SPA }
	}
	set_global_flag = scw_over
	set_global_flag = nationalist_victory
	SPR = { country_event = { id = lar_news.1 hours = 6 } }		
	ENG = { add_war_support = 0.1}
	CAN = { add_war_support = 0.1}
	if = { limit = { country_exists = SAF } SAF = { add_war_support = 0.1} }
	if = { limit = { country_exists = NZL } NZL = { add_war_support = 0.1} }
	RAJ = { add_war_support = 0.1 }
	SOV = { add_war_support = 0.1 }	
	NOR = { add_war_support = 0.1 }
}
JFU_apply_intel = {
    every_country = {
        limit = {
            OR = {
                original_tag = GER
                original_tag = ITA
                original_tag = JAP
                original_tag = BUL
                original_tag = HUN
                original_tag = ROM
                original_tag = FIN
                original_tag = MAN
                original_tag = SIA
                original_tag = SPR
				original_tag = EFR
            }
        }
        if = {
            limit = { NOT = { tag = GER }}
            add_operation_token = {
                tag = GER
                token = E_token_civilian
            }
            add_operation_token = {
                tag = GER
                token = E_token_army
            }
            add_operation_token = {
                tag = GER
                token = E_token_navy
            }
            add_operation_token = {
                tag = GER
                token = E_token_airforce
            }
        }
        if = {
            limit = { NOT = { tag = ITA }}
            add_operation_token = {
                tag = ITA
                token = E_token_civilian
            }
            add_operation_token = {
                tag = ITA
                token = E_token_army
            }
            add_operation_token = {
                tag = ITA
                token = E_token_navy
            }
            add_operation_token = {
                tag = ITA
                token = E_token_airforce
            }
        }
        if = {
            limit = { NOT = { tag = BUL }}
            add_operation_token = {
                tag = BUL
                token = E_token_civilian
            }
            add_operation_token = {
                tag = BUL
                token = E_token_army
            }
            add_operation_token = {
                tag = BUL
                token = E_token_navy
            }
            add_operation_token = {
                tag = BUL
                token = E_token_airforce
            }
        }
        if = {
            limit = { NOT = { tag = ROM }}
            add_operation_token = {
                tag = ROM
                token = E_token_civilian
            }
            add_operation_token = {
                tag = ROM
                token = E_token_army
            }
            add_operation_token = {
                tag = ROM
                token = E_token_navy
            }
            add_operation_token = {
                tag = ROM
                token = E_token_airforce
            }
        }
        if = {
            limit = { NOT = { tag = HUN }}
            add_operation_token = {
                tag = HUN
                token = E_token_civilian
            }
            add_operation_token = {
                tag = HUN
                token = E_token_army
            }
            add_operation_token = {
                tag = HUN
                token = E_token_navy
            }
            add_operation_token = {
                tag = HUN
                token = E_token_airforce
            }
        }
        if = {
            limit = { NOT = { tag = SIA }}
            add_operation_token = {
                tag = SIA
                token = E_token_civilian
            }
            add_operation_token = {
                tag = SIA
                token = E_token_army
            }
            add_operation_token = {
                tag = SIA
                token = E_token_navy
            }
            add_operation_token = {
                tag = SIA
                token = E_token_airforce
            }
        }
        if = {
            limit = { NOT = { tag = JAP }}
            add_operation_token = {
                tag = JAP
                token = E_token_civilian
            }
            add_operation_token = {
                tag = JAP
                token = E_token_army
            }
            add_operation_token = {
                tag = JAP
                token = E_token_navy
            }
            add_operation_token = {
                tag = JAP
                token = E_token_airforce
            }
        }
        if = {
            limit = { NOT = { tag = MAN }}
            add_operation_token = {
                tag = MAN
                token = E_token_civilian
            }
            add_operation_token = {
                tag = MAN
                token = E_token_army
            }
            add_operation_token = {
                tag = MAN
                token = E_token_navy
            }
            add_operation_token = {
                tag = MAN
                token = E_token_airforce
            }
        }
        if = {
            limit = { NOT = { tag = SPR }}
            add_operation_token = {
                tag = SPR
                token = E_token_civilian
            }
            add_operation_token = {
                tag = SPR
                token = E_token_army
            }
            add_operation_token = {
                tag = SPR
                token = E_token_navy
            }
            add_operation_token = {
                tag = SPR
                token = E_token_airforce
            }
        }
        if = {
            limit = { NOT = { tag = FIN }}
            add_operation_token = {
                tag = FIN
                token = E_token_civilian
            }
            add_operation_token = {
                tag = FIN
                token = E_token_army
            }
            add_operation_token = {
                tag = FIN
                token = E_token_navy
            }
            add_operation_token = {
                tag = FIN
                token = E_token_airforce
            }
        }
        if = {
            limit = { NOT = { tag = EFR }}
            add_operation_token = {
                tag = EFR
                token = E_token_civilian
            }
            add_operation_token = {
                tag = EFR
                token = E_token_army
            }
            add_operation_token = {
                tag = EFR
                token = E_token_navy
            }
            add_operation_token = {
                tag = EFR
                token = E_token_airforce
            }
        }
    }
    every_country = {
        limit = {
            OR = {
                original_tag = CAN
                original_tag = USA
                original_tag = MEX
                original_tag = BRA
                original_tag = ENG
                original_tag = FRA
                original_tag = SAF
                original_tag = RAJ
                original_tag = AST
                original_tag = NZL
                original_tag = IRE
                original_tag = SOV
				original_tag = NOR
            }
        }
        if = {
            limit = { NOT = { tag = ENG }}
            add_operation_token = {
                tag = ENG
                token = E_token_civilian
            }
            add_operation_token = {
                tag = ENG
                token = E_token_army
            }
            add_operation_token = {
                tag = ENG
                token = E_token_navy
            }
            add_operation_token = {
                tag = ENG
                token = E_token_airforce
            }
        }
        if = {
            limit = { NOT = { tag = USA }}
            add_operation_token = {
                tag = USA
                token = E_token_civilian
            }
            add_operation_token = {
                tag = USA
                token = E_token_army
            }
            add_operation_token = {
                tag = USA
                token = E_token_navy
            }
            add_operation_token = {
                tag = USA
                token = E_token_airforce
            }
        }
        if = {
            limit = { NOT = { tag = FRA }}
            add_operation_token = {
                tag = FRA
                token = E_token_civilian
            }
            add_operation_token = {
                tag = FRA
                token = E_token_army
            }
            add_operation_token = {
                tag = FRA
                token = E_token_navy
            }
            add_operation_token = {
                tag = FRA
                token = E_token_airforce
            }
        }
        if = {
            limit = { NOT = { tag = SOV }}
            add_operation_token = {
                tag = SOV
                token = E_token_civilian
            }
            add_operation_token = {
                tag = SOV
                token = E_token_army
            }
            add_operation_token = {
                tag = SOV
                token = E_token_navy
            }
            add_operation_token = {
                tag = SOV
                token = E_token_airforce
            }
        }
        if = {
            limit = { NOT = { tag = CAN }}
            add_operation_token = {
                tag = CAN
                token = E_token_civilian
            }
            add_operation_token = {
                tag = CAN
                token = E_token_army
            }
            add_operation_token = {
                tag = CAN
                token = E_token_navy
            }
            add_operation_token = {
                tag = CAN
                token = E_token_airforce
            }
        }
        if = {
            limit = { NOT = { tag = MEX }}
            add_operation_token = {
                tag = MEX
                token = E_token_civilian
            }
            add_operation_token = {
                tag = MEX
                token = E_token_army
            }
            add_operation_token = {
                tag = MEX
                token = E_token_navy
            }
            add_operation_token = {
                tag = MEX
                token = E_token_airforce
            }
        }
        if = {
            limit = { NOT = { tag = BRA }}
            add_operation_token = {
                tag = BRA
                token = E_token_civilian
            }
            add_operation_token = {
                tag = BRA
                token = E_token_army
            }
            add_operation_token = {
                tag = BRA
                token = E_token_navy
            }
            add_operation_token = {
                tag = BRA
                token = E_token_airforce
            }
        }
        if = {
            limit = { NOT = { tag = SAF }}
            add_operation_token = {
                tag = SAF
                token = E_token_civilian
            }
            add_operation_token = {
                tag = SAF
                token = E_token_army
            }
            add_operation_token = {
                tag = SAF
                token = E_token_navy
            }
            add_operation_token = {
                tag = SAF
                token = E_token_airforce
            }
        }
        if = {
            limit = { NOT = { tag = RAJ }}
            add_operation_token = {
                tag = RAJ
                token = E_token_civilian
            }
            add_operation_token = {
                tag = RAJ
                token = E_token_army
            }
            add_operation_token = {
                tag = RAJ
                token = E_token_navy
            }
            add_operation_token = {
                tag = RAJ
                token = E_token_airforce
            }
        }
        if = {
            limit = { NOT = { tag = IRE }}
            add_operation_token = {
                tag = IRE
                token = E_token_civilian
            }
            add_operation_token = {
                tag = IRE
                token = E_token_army
            }
            add_operation_token = {
                tag = IRE
                token = E_token_navy
            }
            add_operation_token = {
                tag = IRE
                token = E_token_airforce
            }
        }
        if = {
            limit = { NOT = { tag = AST }}
            add_operation_token = {
                tag = AST
                token = E_token_civilian
            }
            add_operation_token = {
                tag = AST
                token = E_token_army
            }
            add_operation_token = {
                tag = AST
                token = E_token_navy
            }
            add_operation_token = {
                tag = AST
                token = E_token_airforce
            }
        }
        if = {
            limit = { NOT = { tag = NZL }}
            add_operation_token = {
                tag = NZL
                token = E_token_civilian
            }
            add_operation_token = {
                tag = NZL
                token = E_token_army
            }
            add_operation_token = {
                tag = NZL
                token = E_token_navy
            }
            add_operation_token = {
                tag = NZL
                token = E_token_airforce
            }
        }
        if = {
            limit = { NOT = { tag = NOR }}
            add_operation_token = {
                tag = NOR
                token = E_token_civilian
            }
            add_operation_token = {
                tag = NOR
                token = E_token_army
            }
            add_operation_token = {
                tag = NOR
                token = E_token_navy
            }
            add_operation_token = {
                tag = NOR
                token = E_token_airforce
            }
        }
    }
}
Atlantikwall_modifier_effect = {
	set_variable = { GER.Atlantikwall_dig_in_modifier = 10 }
	set_variable = { GER.Atlantikwall_invasion_penalty_modifier = 0.5 }
	if = { limit = { any_country = { allies = yes controls_state = 456 } } add_to_variable = { var = GER.Atlantikwall_dig_in_modifier value = -0.5 } add_to_variable = { var = GER.Atlantikwall_invasion_penalty_modifier value = -0.025 } }
	if = { limit = { any_country = { allies = yes controls_state = 907 } } add_to_variable = { var = GER.Atlantikwall_dig_in_modifier value = -0.5 } add_to_variable = { var = GER.Atlantikwall_invasion_penalty_modifier value = -0.025 } }
	if = { limit = { any_country = { allies = yes controls_state = 291 } } add_to_variable = { var = GER.Atlantikwall_dig_in_modifier value = -0.5 } add_to_variable = { var = GER.Atlantikwall_invasion_penalty_modifier value = -0.025 } }
	if = { limit = { any_country = { allies = yes controls_state = 461 } } add_to_variable = { var = GER.Atlantikwall_dig_in_modifier value = -0.5 } add_to_variable = { var = GER.Atlantikwall_invasion_penalty_modifier value = -0.025 } }
	if = { limit = { any_country = { allies = yes controls_state = 458 } } add_to_variable = { var = GER.Atlantikwall_dig_in_modifier value = -0.5 } add_to_variable = { var = GER.Atlantikwall_invasion_penalty_modifier value = -0.025 } }
	if = { limit = { any_country = { allies = yes controls_state = 448 } } add_to_variable = { var = GER.Atlantikwall_dig_in_modifier value = -0.5 } add_to_variable = { var = GER.Atlantikwall_invasion_penalty_modifier value = -0.025 } }
	if = { limit = { any_country = { allies = yes controls_state = 450 } } add_to_variable = { var = GER.Atlantikwall_dig_in_modifier value = -0.5 } add_to_variable = { var = GER.Atlantikwall_invasion_penalty_modifier value = -0.025 } }
	if = { limit = { any_country = { allies = yes controls_state = 451 } } add_to_variable = { var = GER.Atlantikwall_dig_in_modifier value = -0.5 } add_to_variable = { var = GER.Atlantikwall_invasion_penalty_modifier value = -0.025 } }
	if = { limit = { any_country = { allies = yes controls_state = 447 } } add_to_variable = { var = GER.Atlantikwall_dig_in_modifier value = -0.5 } add_to_variable = { var = GER.Atlantikwall_invasion_penalty_modifier value = -0.025 } }
	if = { limit = { any_country = { allies = yes controls_state = 454 } } add_to_variable = { var = GER.Atlantikwall_dig_in_modifier value = -0.5 } add_to_variable = { var = GER.Atlantikwall_invasion_penalty_modifier value = -0.025 } }
	if = { limit = { any_country = { axis = yes controls_state = 808 } } add_to_variable = { var = GER.Atlantikwall_dig_in_modifier value = -0.5 } add_to_variable = { var = GER.Atlantikwall_invasion_penalty_modifier value = -0.025 } }
	if = { limit = { any_country = { axis = yes controls_state = 195 } } add_to_variable = { var = GER.Atlantikwall_dig_in_modifier value = -0.5 } add_to_variable = { var = GER.Atlantikwall_invasion_penalty_modifier value = -0.025 } }
	if = { limit = { any_country = { axis = yes controls_state = 242 } } add_to_variable = { var = GER.Atlantikwall_dig_in_modifier value = -0.5 } add_to_variable = { var = GER.Atlantikwall_invasion_penalty_modifier value = -0.025 } }
	if = { limit = { any_country = { axis = yes controls_state = 209 } } add_to_variable = { var = GER.Atlantikwall_dig_in_modifier value = -0.5 } add_to_variable = { var = GER.Atlantikwall_invasion_penalty_modifier value = -0.025 } }
	if = { limit = { any_country = { axis = yes controls_state = 219 } } add_to_variable = { var = GER.Atlantikwall_dig_in_modifier value = -0.5 } add_to_variable = { var = GER.Atlantikwall_invasion_penalty_modifier value = -0.025 } }
	if = { limit = { any_country = { axis = yes controls_state = 202 } } add_to_variable = { var = GER.Atlantikwall_dig_in_modifier value = -0.5 } add_to_variable = { var = GER.Atlantikwall_invasion_penalty_modifier value = -0.025 } }
	if = { limit = { any_country = { axis = yes controls_state = 220 } } add_to_variable = { var = GER.Atlantikwall_dig_in_modifier value = -0.5 } add_to_variable = { var = GER.Atlantikwall_invasion_penalty_modifier value = -0.025 } }
	if = { limit = { any_country = { axis = yes controls_state = 221 } } add_to_variable = { var = GER.Atlantikwall_dig_in_modifier value = -0.5 } add_to_variable = { var = GER.Atlantikwall_invasion_penalty_modifier value = -0.025 } }
	if = { limit = { any_country = { axis = yes controls_state = 218 } } add_to_variable = { var = GER.Atlantikwall_dig_in_modifier value = -0.5 } add_to_variable = { var = GER.Atlantikwall_invasion_penalty_modifier value = -0.025 } }
	if = { limit = { any_country = { axis = yes controls_state = 217 } } add_to_variable = { var = GER.Atlantikwall_dig_in_modifier value = -0.5 } add_to_variable = { var = GER.Atlantikwall_invasion_penalty_modifier value = -0.025 } }
	if = { limit = { date > 1942.02.01 } add_to_variable = { var = GER.Atlantikwall_dig_in_modifier value = -1 } add_to_variable = { var = GER.Atlantikwall_invasion_penalty_modifier value = -0.05 } }
	if = { limit = { date > 1942.03.01 } add_to_variable = { var = GER.Atlantikwall_dig_in_modifier value = -1 } add_to_variable = { var = GER.Atlantikwall_invasion_penalty_modifier value = -0.05 } }	
	if = { limit = { date > 1942.04.01 } add_to_variable = { var = GER.Atlantikwall_dig_in_modifier value = -1 } add_to_variable = { var = GER.Atlantikwall_invasion_penalty_modifier value = -0.05 } }
	if = { limit = { date > 1942.05.01 } add_to_variable = { var = GER.Atlantikwall_dig_in_modifier value = -1 } add_to_variable = { var = GER.Atlantikwall_invasion_penalty_modifier value = -0.05 } }
	if = { limit = { date > 1942.06.01 } add_to_variable = { var = GER.Atlantikwall_dig_in_modifier value = -1 } add_to_variable = { var = GER.Atlantikwall_invasion_penalty_modifier value = -0.05 } }
	if = { limit = { date > 1942.07.01 } add_to_variable = { var = GER.Atlantikwall_dig_in_modifier value = -1 } add_to_variable = { var = GER.Atlantikwall_invasion_penalty_modifier value = -0.05 } }
	if = { limit = { date > 1942.08.01 } add_to_variable = { var = GER.Atlantikwall_dig_in_modifier value = -1 } add_to_variable = { var = GER.Atlantikwall_invasion_penalty_modifier value = -0.05 } }
	if = { limit = { date > 1942.09.01 } add_to_variable = { var = GER.Atlantikwall_dig_in_modifier value = -1 } add_to_variable = { var = GER.Atlantikwall_invasion_penalty_modifier value = -0.05 } }
	if = { limit = { date > 1942.10.01 } add_to_variable = { var = GER.Atlantikwall_dig_in_modifier value = -1 } add_to_variable = { var = GER.Atlantikwall_invasion_penalty_modifier value = -0.05 } }
	if = { limit = { check_variable = { GER.Atlantikwall_dig_in_modifier < 0 } } every_state = { remove_dynamic_modifier = { modifier = Atlantikwall_modifier } } }
}
pacific_war_japan = {
	set_variable = { PWJ_consumer_goods_factor = 0 }
	set_variable = { PWJ_war_support_factor = 0 }
	set_variable = { PWJ_stability_factor = 0 }
	set_variable = { PWJ_army_core_attack_factor = 1 }
	set_variable = { PWJ_army_core_defence_factor = 1 }

	#major - islands against usa
	if = { limit = { any_country = {axis = yes controls_state = 638 } } add_to_variable = { var = PWJ_army_core_attack_factor value = 0.1 } add_to_variable = { var = PWJ_army_core_defence_factor value = 0.1 } add_to_variable = { var = PWJ_consumer_goods_factor value = -0.05 } add_to_variable = { var = PWJ_war_support_factor value = 0.05 } add_to_variable = { var = PWJ_stability_factor value = 0.05 } }
	if = { limit = { any_country = {axis = yes controls_state = 632 } } add_to_variable = { var = PWJ_army_core_attack_factor value = 0.1 } add_to_variable = { var = PWJ_army_core_defence_factor value = 0.1 } add_to_variable = { var = PWJ_consumer_goods_factor value = -0.05 } add_to_variable = { var = PWJ_war_support_factor value = 0.05 } add_to_variable = { var = PWJ_stability_factor value = 0.05 } }
	if = { limit = { any_country = {axis = yes controls_state = 631 } } add_to_variable = { var = PWJ_army_core_attack_factor value = 0.1 } add_to_variable = { var = PWJ_army_core_defence_factor value = 0.1 } add_to_variable = { var = PWJ_consumer_goods_factor value = -0.05 } add_to_variable = { var = PWJ_war_support_factor value = 0.05 } add_to_variable = { var = PWJ_stability_factor value = 0.05 } }
	if = { limit = { any_country = {axis = yes controls_state = 630 } } add_to_variable = { var = PWJ_army_core_attack_factor value = 0.1 } add_to_variable = { var = PWJ_army_core_defence_factor value = 0.1 } add_to_variable = { var = PWJ_consumer_goods_factor value = -0.05 } add_to_variable = { var = PWJ_war_support_factor value = 0.05 } add_to_variable = { var = PWJ_stability_factor value = 0.05 } }
	if = { limit = { any_country = {axis = yes controls_state = 629 } } add_to_variable = { var = PWJ_army_core_attack_factor value = 0.1 } add_to_variable = { var = PWJ_army_core_defence_factor value = 0.1 } add_to_variable = { var = PWJ_consumer_goods_factor value = -0.05 } add_to_variable = { var = PWJ_war_support_factor value = 0.05 } add_to_variable = { var = PWJ_stability_factor value = 0.05 } }
	#minor - only core attack/defence
	if = { limit = { any_country = {axis = yes controls_state = 327 } } add_to_variable = { var = PWJ_army_core_attack_factor value = 0.1 } add_to_variable = { var = PWJ_army_core_defence_factor value = 0.1 } }
	if = { limit = { any_country = {axis = yes controls_state = 336 } } add_to_variable = { var = PWJ_army_core_attack_factor value = 0.1 } add_to_variable = { var = PWJ_army_core_defence_factor value = 0.1 } }
	if = { limit = { any_country = {axis = yes controls_state = 335 } } add_to_variable = { var = PWJ_army_core_attack_factor value = 0.1 } add_to_variable = { var = PWJ_army_core_defence_factor value = 0.1 } }
	if = { limit = { any_country = {axis = yes controls_state = 334 } } add_to_variable = { var = PWJ_army_core_attack_factor value = 0.1 } add_to_variable = { var = PWJ_army_core_defence_factor value = 0.1 } }
	if = { limit = { any_country = {axis = yes controls_state = 523 } } add_to_variable = { var = PWJ_army_core_attack_factor value = 0.1 } add_to_variable = { var = PWJ_army_core_defence_factor value = 0.1 } }
		
	
	
	#major
	if = { limit = { NOT = { any_country = {axis = yes controls_state = 526 } } } add_to_variable = { var = PWJ_army_core_attack_factor value = -0.1 } add_to_variable = { var = PWJ_army_core_defence_factor value = -0.1 } add_to_variable = { var = PWJ_consumer_goods_factor value = 0.05 } add_to_variable = { var = PWJ_war_support_factor value = -0.05 } add_to_variable = { var = PWJ_stability_factor value = -0.05 } }
	if = { limit = { NOT = { any_country = {axis = yes controls_state = 524 } } } add_to_variable = { var = PWJ_army_core_attack_factor value = -0.1 } add_to_variable = { var = PWJ_army_core_defence_factor value = -0.1 } add_to_variable = { var = PWJ_consumer_goods_factor value = 0.05 } add_to_variable = { var = PWJ_war_support_factor value = -0.05 } add_to_variable = { var = PWJ_stability_factor value = -0.05 } }
	if = { limit = { NOT = { any_country = {axis = yes controls_state = 645 } } } add_to_variable = { var = PWJ_army_core_attack_factor value = -0.1 } add_to_variable = { var = PWJ_army_core_defence_factor value = -0.1 } add_to_variable = { var = PWJ_consumer_goods_factor value = 0.05 } add_to_variable = { var = PWJ_war_support_factor value = -0.05 } add_to_variable = { var = PWJ_stability_factor value = -0.05 } }
	if = { limit = { NOT = { any_country = {axis = yes controls_state = 646 } } } add_to_variable = { var = PWJ_army_core_attack_factor value = -0.1 } add_to_variable = { var = PWJ_army_core_defence_factor value = -0.1 } add_to_variable = { var = PWJ_consumer_goods_factor value = 0.05 } add_to_variable = { var = PWJ_war_support_factor value = -0.05 } add_to_variable = { var = PWJ_stability_factor value = -0.05 } }
	if = { limit = { NOT = { any_country = {axis = yes controls_state = 648 } } } add_to_variable = { var = PWJ_army_core_attack_factor value = -0.1 } add_to_variable = { var = PWJ_army_core_defence_factor value = -0.1 } add_to_variable = { var = PWJ_consumer_goods_factor value = 0.05 } add_to_variable = { var = PWJ_war_support_factor value = -0.05 } add_to_variable = { var = PWJ_stability_factor value = -0.05 } }
	#minor - only core attack/defence
	if = { limit = { NOT = { any_country = {axis = yes controls_state = 684 } } } add_to_variable = { var = PWJ_army_core_attack_factor value = -0.1 } add_to_variable = { var = PWJ_army_core_defence_factor value = -0.1 } }
	if = { limit = { NOT = { any_country = {axis = yes controls_state = 647 } } } add_to_variable = { var = PWJ_army_core_attack_factor value = -0.1 } add_to_variable = { var = PWJ_army_core_defence_factor value = -0.1 } }
	if = { limit = { NOT = { any_country = {axis = yes controls_state = 591 } } } add_to_variable = { var = PWJ_army_core_attack_factor value = -0.1 } add_to_variable = { var = PWJ_army_core_defence_factor value = -0.1 } }
	if = { limit = { NOT = { any_country = {axis = yes controls_state = 633 } } } add_to_variable = { var = PWJ_army_core_attack_factor value = -0.1 } add_to_variable = { var = PWJ_army_core_defence_factor value = -0.1 } }
	if = { limit = { NOT = { any_country = {axis = yes controls_state = 555 } } } add_to_variable = { var = PWJ_army_core_attack_factor value = -0.1 } add_to_variable = { var = PWJ_army_core_defence_factor value = -0.1 } }

	if = {	
		limit = { 
			has_game_rule = { 
				rule = CASUAL_STUFF 
				option = CASUAL_STUFF_OFF 
			} 
		}
		set_variable = { PWJ_consumer_goods_factor = 0 }
		set_variable = { PWJ_war_support_factor = 0 }
		set_variable = { PWJ_stability_factor = 0 }		
	}	
}

pacific_war_USA = {
	set_variable = { PWUSA_consumer_goods_factor = 0 }
	set_variable = { PWUSA_war_support_factor = 0 }
	set_variable = { PWUSA_stability_factor = 0 }
	set_variable = { PWUSA_army_core_attack_factor = 1 }
	set_variable = { PWUSA_army_core_defence_factor = 1 }

	#major - islands against usa 
	if = { limit = { any_country = { allies = yes controls_state = 526 } } add_to_variable = { var = PWUSA_army_core_attack_factor value = 0.1 } add_to_variable = { var = PWUSA_army_core_defence_factor value = 0.1 } add_to_variable = { var = PWUSA_consumer_goods_factor value = -0.05 } add_to_variable = { var = PWUSA_war_support_factor value = 0.05 } add_to_variable = { var = PWUSA_stability_factor value = 0.05 } }
	if = { limit = { any_country = { allies = yes controls_state = 524 } } add_to_variable = { var = PWUSA_army_core_attack_factor value = 0.1 } add_to_variable = { var = PWUSA_army_core_defence_factor value = 0.1 } add_to_variable = { var = PWUSA_consumer_goods_factor value = -0.05 } add_to_variable = { var = PWUSA_war_support_factor value = 0.05 } add_to_variable = { var = PWUSA_stability_factor value = 0.05 } }
	if = { limit = { any_country = { allies = yes controls_state = 645 } } add_to_variable = { var = PWUSA_army_core_attack_factor value = 0.1 } add_to_variable = { var = PWUSA_army_core_defence_factor value = 0.1 } add_to_variable = { var = PWUSA_consumer_goods_factor value = -0.05 } add_to_variable = { var = PWUSA_war_support_factor value = 0.05 } add_to_variable = { var = PWUSA_stability_factor value = 0.05 } }
	if = { limit = { any_country = { allies = yes controls_state = 646 } } add_to_variable = { var = PWUSA_army_core_attack_factor value = 0.1 } add_to_variable = { var = PWUSA_army_core_defence_factor value = 0.1 } add_to_variable = { var = PWUSA_consumer_goods_factor value = -0.05 } add_to_variable = { var = PWUSA_war_support_factor value = 0.05 } add_to_variable = { var = PWUSA_stability_factor value = 0.05 } }
	if = { limit = { any_country = { allies = yes controls_state = 648 } } add_to_variable = { var = PWUSA_army_core_attack_factor value = 0.1 } add_to_variable = { var = PWUSA_army_core_defence_factor value = 0.1 } add_to_variable = { var = PWUSA_consumer_goods_factor value = -0.05 } add_to_variable = { var = PWUSA_war_support_factor value = 0.05 } add_to_variable = { var = PWUSA_stability_factor value = 0.05 } }
	#minor - only core attack/defence
	if = { limit = { any_country = { allies = yes controls_state = 684 } } add_to_variable = { var = PWUSA_army_core_attack_factor value = 0.1 } add_to_variable = { var = PWUSA_army_core_defence_factor value = 0.1 } }
	if = { limit = { any_country = { allies = yes controls_state = 647 } } add_to_variable = { var = PWUSA_army_core_attack_factor value = 0.1 } add_to_variable = { var = PWUSA_army_core_defence_factor value = 0.1 } }
	if = { limit = { any_country = { allies = yes controls_state = 684 } } add_to_variable = { var = PWUSA_army_core_attack_factor value = 0.1 } add_to_variable = { var = PWUSA_army_core_defence_factor value = 0.1 } }
	if = { limit = { any_country = { allies = yes controls_state = 633 } } add_to_variable = { var = PWUSA_army_core_attack_factor value = 0.1 } add_to_variable = { var = PWUSA_army_core_defence_factor value = 0.1 } }
	if = { limit = { any_country = { allies = yes controls_state = 555 } } add_to_variable = { var = PWUSA_army_core_attack_factor value = 0.1 } add_to_variable = { var = PWUSA_army_core_defence_factor value = 0.1 } }
		


	#major
	if = { limit = { NOT = { any_country = { allies = yes controls_state = 638 } } } add_to_variable = { var = PWUSA_army_core_attack_factor value = -0.1 } add_to_variable = { var = PWUSA_army_core_defence_factor value = -0.1 } add_to_variable = { var = PWUSA_consumer_goods_factor value = 0.05 } add_to_variable = { var = PWUSA_war_support_factor value = -0.05 } add_to_variable = { var = PWUSA_stability_factor value = -0.05 } }
	if = { limit = { NOT = { any_country = { allies = yes controls_state = 632 } } } add_to_variable = { var = PWUSA_army_core_attack_factor value = -0.1 } add_to_variable = { var = PWUSA_army_core_defence_factor value = -0.1 } add_to_variable = { var = PWUSA_consumer_goods_factor value = 0.05 } add_to_variable = { var = PWUSA_war_support_factor value = -0.05 } add_to_variable = { var = PWUSA_stability_factor value = -0.05 } }
	if = { limit = { NOT = { any_country = { allies = yes controls_state = 631 } } } add_to_variable = { var = PWUSA_army_core_attack_factor value = -0.1 } add_to_variable = { var = PWUSA_army_core_defence_factor value = -0.1 } add_to_variable = { var = PWUSA_consumer_goods_factor value = 0.05 } add_to_variable = { var = PWUSA_war_support_factor value = -0.05 } add_to_variable = { var = PWUSA_stability_factor value = -0.05 } }
	if = { limit = { NOT = { any_country = { allies = yes controls_state = 630 } } } add_to_variable = { var = PWUSA_army_core_attack_factor value = -0.1 } add_to_variable = { var = PWUSA_army_core_defence_factor value = -0.1 } add_to_variable = { var = PWUSA_consumer_goods_factor value = 0.05 } add_to_variable = { var = PWUSA_war_support_factor value = -0.05 } add_to_variable = { var = PWUSA_stability_factor value = -0.05 } }
	if = { limit = { NOT = { any_country = { allies = yes controls_state = 629 } } } add_to_variable = { var = PWUSA_army_core_attack_factor value = -0.1 } add_to_variable = { var = PWUSA_army_core_defence_factor value = -0.1 } add_to_variable = { var = PWUSA_consumer_goods_factor value = 0.05 } add_to_variable = { var = PWUSA_war_support_factor value = -0.05 } add_to_variable = { var = PWUSA_stability_factor value = -0.05 } }
	#minor - only core attack/defence
	if = { limit = { NOT = { any_country = { allies = yes controls_state = 327 } } } add_to_variable = { var = PWUSA_army_core_attack_factor value = -0.1 } add_to_variable = { var = PWUSA_army_core_defence_factor value = -0.1 } }
	if = { limit = { NOT = { any_country = { allies = yes controls_state = 336 } } } add_to_variable = { var = PWUSA_army_core_attack_factor value = -0.1 } add_to_variable = { var = PWUSA_army_core_defence_factor value = -0.1 } }
	if = { limit = { NOT = { any_country = { allies = yes controls_state = 335 } } } add_to_variable = { var = PWUSA_army_core_attack_factor value = -0.1 } add_to_variable = { var = PWUSA_army_core_defence_factor value = -0.1 } }
	if = { limit = { NOT = { any_country = { allies = yes controls_state = 334 } } } add_to_variable = { var = PWUSA_army_core_attack_factor value = -0.1 } add_to_variable = { var = PWUSA_army_core_defence_factor value = -0.1 } }
	if = { limit = { NOT = { any_country = { allies = yes controls_state = 523 } } } add_to_variable = { var = PWUSA_army_core_attack_factor value = -0.1 } add_to_variable = { var = PWUSA_army_core_defence_factor value = -0.1 } }

	if = {	
		limit = { 
			has_game_rule = { 
				rule = CASUAL_STUFF 
				option = CASUAL_STUFF_OFF 
			} 
		}
		set_variable = { PWUSA_consumer_goods_factor = 0 }
		set_variable = { PWUSA_war_support_factor = 0 }
		set_variable = { PWUSA_stability_factor = 0 }		
	}	
}

pacific_war_allies = {
	set_variable = { PWA_army_core_attack_factor = 0.5 }
	set_variable = { PWA_army_core_defence_factor = 0.5 }

	#minor - only core attack/defence
	if = { limit = { any_country = { allies = yes controls_state = 684 } } add_to_variable = { var = PWA_army_core_attack_factor value = 0.1 } add_to_variable = { var = PWA_army_core_defence_factor value = 0.1 } }
	if = { limit = { any_country = { allies = yes controls_state = 647 } } add_to_variable = { var = PWA_army_core_attack_factor value = 0.1 } add_to_variable = { var = PWA_army_core_defence_factor value = 0.1 } }
	if = { limit = { any_country = { allies = yes controls_state = 684 } } add_to_variable = { var = PWA_army_core_attack_factor value = 0.1 } add_to_variable = { var = PWA_army_core_defence_factor value = 0.1 } }
	if = { limit = { any_country = { allies = yes controls_state = 633 } } add_to_variable = { var = PWA_army_core_attack_factor value = 0.1 } add_to_variable = { var = PWA_army_core_defence_factor value = 0.1 } }
	if = { limit = { any_country = { allies = yes controls_state = 555 } } add_to_variable = { var = PWA_army_core_attack_factor value = 0.1 } add_to_variable = { var = PWA_army_core_defence_factor value = 0.1 } }
		


	#minor - only core attack/defence
	if = { limit = { NOT = { any_country = { allies = yes controls_state = 327 } } } add_to_variable = { var = PWA_army_core_attack_factor value = -0.1 } add_to_variable = { var = PWA_army_core_defence_factor value = -0.1 } }
	if = { limit = { NOT = { any_country = { allies = yes controls_state = 336 } } } add_to_variable = { var = PWA_army_core_attack_factor value = -0.1 } add_to_variable = { var = PWA_army_core_defence_factor value = -0.1 } }
	if = { limit = { NOT = { any_country = { allies = yes controls_state = 335 } } } add_to_variable = { var = PWA_army_core_attack_factor value = -0.1 } add_to_variable = { var = PWA_army_core_defence_factor value = -0.1 } }
	if = { limit = { NOT = { any_country = { allies = yes controls_state = 334 } } } add_to_variable = { var = PWA_army_core_attack_factor value = -0.1 } add_to_variable = { var = PWA_army_core_defence_factor value = -0.1 } }
	if = { limit = { NOT = { any_country = { allies = yes controls_state = 523 } } } add_to_variable = { var = PWA_army_core_attack_factor value = -0.1 } add_to_variable = { var = PWA_army_core_defence_factor value = -0.1 } }	
}

pacific_war_aallies = {
	set_variable = { PWAA_army_core_attack_factor = 0.5 }
	set_variable = { PWAA_army_core_defence_factor = 0.5 }

	#american minors - only core attack/defence
	if = { limit = { any_country = { allies = yes controls_state = 526 } } add_to_variable = { var = PWAA_army_core_attack_factor value = 0.1 } add_to_variable = { var = PWAA_army_core_defence_factor value = 0.1 } }
	if = { limit = { any_country = { allies = yes controls_state = 524 } } add_to_variable = { var = PWAA_army_core_attack_factor value = 0.1 } add_to_variable = { var = PWAA_army_core_defence_factor value = 0.1 } }
	if = { limit = { any_country = { allies = yes controls_state = 645 } } add_to_variable = { var = PWAA_army_core_attack_factor value = 0.1 } add_to_variable = { var = PWAA_army_core_defence_factor value = 0.1 } }
	if = { limit = { any_country = { allies = yes controls_state = 646 } } add_to_variable = { var = PWAA_army_core_attack_factor value = 0.1 } add_to_variable = { var = PWAA_army_core_defence_factor value = 0.1 } }
	if = { limit = { any_country = { allies = yes controls_state = 648 } } add_to_variable = { var = PWAA_army_core_attack_factor value = 0.1 } add_to_variable = { var = PWAA_army_core_defence_factor value = 0.1 } }
		


	#american minor - only core attack/defence
	if = { limit = { NOT = { any_country = { allies = yes controls_state = 638 } } } add_to_variable = { var = PWAA_army_core_attack_factor value = -0.1 } add_to_variable = { var = PWAA_army_core_defence_factor value = -0.1 } }
	if = { limit = { NOT = { any_country = { allies = yes controls_state = 632 } } } add_to_variable = { var = PWAA_army_core_attack_factor value = -0.1 } add_to_variable = { var = PWAA_army_core_defence_factor value = -0.1 } }
	if = { limit = { NOT = { any_country = { allies = yes controls_state = 631 } } } add_to_variable = { var = PWAA_army_core_attack_factor value = -0.1 } add_to_variable = { var = PWAA_army_core_defence_factor value = -0.1 } }
	if = { limit = { NOT = { any_country = { allies = yes controls_state = 630 } } } add_to_variable = { var = PWAA_army_core_attack_factor value = -0.1 } add_to_variable = { var = PWAA_army_core_defence_factor value = -0.1 } }
	if = { limit = { NOT = { any_country = { allies = yes controls_state = 629 } } } add_to_variable = { var = PWAA_army_core_attack_factor value = -0.1 } add_to_variable = { var = PWAA_army_core_defence_factor value = -0.1 } }	
}

anti_cross_faction_trade_allies = {
	send_embargo = USA
	send_embargo = ENG
	send_embargo = POL
	send_embargo = FRA
	send_embargo = MEX
	send_embargo = CAN
	send_embargo = SAF
	send_embargo = RAJ
	send_embargo = AST
	send_embargo = SOV
	send_embargo = NZL
	send_embargo = NOR
}
anti_cross_faction_trade_axis = {
	send_embargo = GER 
	send_embargo = EFR 
	send_embargo = SIA
	send_embargo = ITA 
	send_embargo = BUL 
	send_embargo = ROM 
	send_embargo = HUN 
	send_embargo = SPR 
	send_embargo = FIN 
	send_embargo = JAP 
	send_embargo = MAN 
}
FRA_africa_spawn_ins = {
	FRA = {
		set_technology = { mechanised_infantry = 1 }
	}
	create_equipment_variant = {
		name = "AFRICA TANKs"
		type = medium_tank_chassis_2
		allow_without_tech = yes
		parent_version = 0
		modules = {
			main_armament_slot = tank_high_velocity_cannon_2
			turret_type_slot = tank_medium_three_man_tank_turret
			suspension_type_slot = tank_torsion_bar_suspension
			armor_type_slot = tank_riveted_armor
			engine_type_slot = tank_gasoline_engine
			special_type_slot_1 = tank_radio_2
			special_type_slot_2 = secondary_turret_small_cannon
			special_type_slot_3 = secondary_turret_small_cannon 
			special_type_slot_4 = easy_maintenance 
		}
		upgrades = {
			tank_nsb_engine_upgrade = 9
			tank_nsb_armor_upgrade = 0
		}
		icon = "GFX_GER_basic_medium_tank_medium"
	}
	create_equipment_variant = {
		name = "AFRICA FLAME TANKs"
		type = medium_tank_flame_chassis_1
		allow_without_tech = yes
		parent_version = 0
		modules = {
			main_armament_slot = flamethrower
			turret_type_slot = tank_medium_one_man_tank_turret
			suspension_type_slot = tank_bogie_suspension
			armor_type_slot = tank_riveted_armor
			engine_type_slot = tank_gasoline_engine
		}
		upgrades = {
			tank_nsb_engine_upgrade = 9
			tank_nsb_armor_upgrade = 0
		}
		icon = "GFX_GER_basic_medium_tank_medium"
	}	
	create_equipment_variant = {
		name = "AFRICA LIGHT TANKs"
		type = light_tank_chassis_1
		allow_without_tech = yes
		parent_version = 0
		modules = {
			main_armament_slot = tank_small_cannon_2
			turret_type_slot = tank_light_three_man_tank_turret
			suspension_type_slot = tank_interleaved_suspension
			armor_type_slot = tank_riveted_armor
			engine_type_slot = tank_gasoline_engine
			special_type_slot_1 = tank_radio_1
			special_type_slot_2 = extra_ammo_storage
			special_type_slot_3 = extra_ammo_storage 
			special_type_slot_4 = extra_ammo_storage 
		}
		upgrades = {
			tank_nsb_engine_upgrade = 9
			tank_nsb_armor_upgrade = 0
		}
		icon = "GFX_GER_basic_light_tank_light"
	}

	load_oob = "FRA_AFRICA_tanks"
}

JUNO_set_shared_military_branch_defaults = {
	# Army modifiers
	set_variable = { ROOT.JUNO_army_modifier_experience_gain_army_factor = 0.0 }
	set_variable = { ROOT.JUNO_army_modifier_experience_loss_factor = 0.00 }
	set_variable = { ROOT.JUNO_army_modifier_experience_gain_army = 0.02 }
	set_variable = { ROOT.JUNO_army_production_speed_arms_factory_factor = 0.00 }
	set_variable = { ROOT.JUNO_army_modifier_army_org_factor = 0.00 }
	set_variable = { ROOT.JUNO_army_operative_slot = 0 }
	set_variable = { ROOT.JUNO_supply_combat_penalties_on_core_factor = 0.00 }
	set_variable = { ROOT.JUNO_modifier_production_speed_supply_node_factor = 0.00 }
	set_variable = { ROOT.JUNO_army_modifier_army_core_defence_factor = 0.00 }
	set_variable = { ROOT.JUNO_army_modifier_army_armor_defence_factor = 0.00 }
	set_variable = { ROOT.JUNO_army_modifier_army_armor_attack_factor = 0.00 }
	set_variable = { ROOT.JUNO_army_modifier_army_attack_speed_factor = 0.00 }
	set_variable = { ROOT.JUNO_army_modifier_army_artillery_attack_factor = 0.00 }
	set_variable = { ROOT.JUNO_army_modifier_army_artillery_defence_factor = 0.00 }
	set_variable = { ROOT.JUNO_army_modifier_production_speed_anti_air_building_factor = 0.00 }
	set_variable = { ROOT.JUNO_army_modifier_conscription = 0.00 }
	set_variable = { ROOT.JUNO_army_modifier_training_time_factor = 0.00 }
	set_variable = { ROOT.JUNO_army_modifier_conscription_factor = 0.00 }
	set_variable = { ROOT.JUNO_army_modifier_army_defence_factor = 0.00 }
	set_variable = { ROOT.JUNO_army_modifier_army_attack_factor = 0.00 }
	set_variable = { ROOT.JUNO_army_modifier_special_forces_cap = 0.00 }
	set_variable = { ROOT.JUNO_army_modifier_industrial_capacity_factory = 0.00 }
	set_variable = { ROOT.JUNO_army_modifier_special_forces_out_of_supply_factor = 0.00 }
	set_variable = { ROOT.JUNO_army_modifier_extra_marine_supply_grace = 0 }
	set_variable = { ROOT.JUNO_army_modifier_max_planning_factor = 0 }
	set_variable = { ROOT.JUNO_army_modifier_planning_speed_factor = 0 }
	set_variable = { ROOT.JUNO_army_modifier_max_command_power_mult = 0 }
	set_variable = { ROOT.JUNO_army_modifier_command_power_gain_mult = 0 }
	set_variable = { ROOT.JUNO_army_modifier_acclimatization_cold_climate_gain_factor = 0 }
	set_variable = { ROOT.JUNO_army_modifier_acclimatization_hot_climate_gain_factor = 0 }
	
	# Navy Modifiers
	set_variable = { ROOT.JUNO_navy_experience_gain_navy_factor = 0.02 }
	set_variable = { ROOT.JUNO_navy_mines_planting_by_fleets_factor = 0.0 }
	set_variable = { ROOT.JUNO_navy_navy_anti_air_attack_factor = 0.0 }
	set_variable = { ROOT.JUNO_navy_navy_spirit_category_type_cost_factor = 0 }
	set_variable = { ROOT.JUNO_navy_convoy_retreat_speed = 0 }
	set_variable = { ROOT.JUNO_navy_refit_speed = 0 }
	set_variable = { ROOT.JUNO_navy_spotting_chance = 0 }
	set_variable = { ROOT.JUNO_navy_repair_speed_factor = 0 }
	set_variable = { ROOT.JUNO_navy_production_speed_dockyard_factor = 0 }
	set_variable = { ROOT.JUNO_navy_industrial_capacity_dockyard = 0 }
	set_variable = { ROOT.JUNO_navy_extra_marine_supply_grace = 0 }
	set_variable = { ROOT.JUNO_navy_naval_invasion_capacity = 0 }
	set_variable = { ROOT.JUNO_navy_naval_mines_effect_reduction = 0 }
	set_variable = { ROOT.JUNO_navy_experience_gain_navy_unit_factor = 0 }
	set_variable = { ROOT.JUNO_navy_naval_coordination = 0 }
	set_variable = { ROOT.JUNO_navy_naval_equipment_upgrade_xp_cost = 0 }
	set_variable = { ROOT.JUNO_naval_morale_factor = 0 }
	set_variable = { ROOT.JUNO_screening_efficiency = 0 }
	set_variable = { ROOT.JUNO_convoy_escort_efficiency = 0 }
	set_variable = { ROOT.JUNO_navy_capital_ship_defence_factor = 0 }
	set_variable = { ROOT.JUNO_naval_accidents_chance = 0 }
	set_variable = { ROOT.JUNO_navy_screen_defence_factor = 0 }
	#set_variable = { ROOT.JUNO_modifier_production_speed_bunker_factor = 0 }
	set_variable = { ROOT.JUNO_modifier_production_speed_coastal_bunker_factor = 0 }

	# Air modifier
	set_variable = { ROOT.JUNO_airforce_modifier_air_doctrine_cost_factor = 0.0 }
	set_variable = { ROOT.JUNO_airforce_modifier_air_ace_generation_chance_factor = 0.0 }
	set_variable = { ROOT.JUNO_airforce_modifier_air_range_factor = 0.0 }
	set_variable = { ROOT.JUNO_airforce_modifier_air_superiority_efficiency = 0.0 }
	set_variable = { ROOT.JUNO_airforce_modifier_air_intercept_efficiency = 0.0 }
	set_variable = { ROOT.JUNO_airforce_modifier_air_mission_xp_gain_factor = 0.0 }
	set_variable = { ROOT.JUNO_airforce_modifier_air_agility_factor = 0.0 }
	set_variable = { ROOT.JUNO_airforce_modifier_ground_attack_factor = 0.0 }
	set_variable = { ROOT.JUNO_airforce_modifier_experience_gain_air = 0.02 }
	set_variable = { ROOT.JUNO_army_modifier_industrial_capacity_factory_airfoce = 0.00 }
	set_variable = { ROOT.JUNO_airforce_modifier_conscription_factor = 0.00 }
	set_variable = { ROOT.JUNO_airforce_modifier_air_strategic_bomber_bombing_factor = 0.00 }
	set_variable = { ROOT.JUNO_airforce_modifier_air_cas_present_factor = 0.00 }
	#set_variable = { ROOT.JUNO_airforce_modifier_ground_attack_factor = 0.00 }
	set_variable = { ROOT.JUNO_airforce_modifier_air_defence_factor = 0 }

}

BRA_remove_economy_modifier = {
	IF = {
		limit = {
			AND = {
				has_dynamic_modifier = { modifier = BRA_undiversified_economy_modifier }
				check_variable = {
					var = BRA_economy_industrial_capacity_factor
					value = -0.1
					compare = greater_than
				}
				check_variable = {
					var = BRA_economy_production_efficiency_gain_factor
					value = -0.1
					compare = greater_than
				}
				check_variable = {
					var = BRA_economy_production_max_efficiency_factor
					value = -0.1
					compare = greater_than
				}				 						
			}
		}
		remove_dynamic_modifier = { modifier = BRA_undiversified_economy_modifier }
	}
}

BRA_setup_colonized_countries_to_liberate_array = {
	hidden_effect = {
		for_each_scope_loop = {
			array = global.countries
			IF = {
				limit = {
					exists = no #the country does not exist
					any_state = {
						is_core_of = PREV #the state is a core of the non-existing country
						is_on_continent = south_america #the state is in south america
						OWNER = { #the country owning the state
							NOT = { is_in_faction_with = ROOT }
							NOT = { tag = ROOT }
							NOT = { #don't add multiple times
								is_in_array = {
									array = BRA.anti_colonialist_countries_to_liberate
									value = THIS
								}
							}
						}
					}

				}
				add_to_array = { BRA.anti_colonialist_countries_to_liberate = THIS }
			}
		}
		
	}
}


BRA_communist_cw_transfer_chars = {
		BRA = {
			BRA_eurico_gaspar_dutra = {
				set_character_flag = BRA_loyal_to_gov_char
			}
			BRA_mascarenhas_de_morais = {
				set_character_flag = BRA_loyal_to_gov_char
			}
			every_character = {
				limit = {
					has_character_flag = BRA_loyal_to_gov_char
				}
				set_nationality = PREV.PREV
			}
		}
}

BRA_mio_military_factory = {
	random_core_state = {
		limit = {
			free_building_slots = {
				building = arms_factory
				size > 0
				include_locked = yes
			}
			is_owned_and_controlled_by = ROOT
			NOT = {
				has_dynamic_modifier = {
					modifier = BRA_neglected_state_dynamic_modifier
				} 
				OR = {
					state = 961
					state = 962
					state = 963
					state = 964
					state = 965
					state = 966
					state = 967
					state = 968
				}
			}
		}
		add_extra_state_shared_building_slots = 1
		add_building_construction = {
			type = arms_factory
			level = 1
			instant_build = yes
		}
	}
}

BRA_select_leader_flag = {
	IF = {
		limit = {
			has_country_leader = {
				ruling_only = yes
				character = BRA_armando_de_sales_oliveira
			}
		}
		set_country_flag = BRA_adso_president_flag
	}
	ELSE_IF = {
		IF = {
			limit = {
				has_country_leader = {
					ruling_only = yes
					character = BRA_anisio_teixeira
				}
			}
			set_country_flag = BRA_ansio_president_flag
		}
	}
	ELSE_IF = {
		IF = {
			limit = {
				has_country_leader = {
					ruling_only = yes
					character = BRA_minervino_de_oliveira
				}
			}
			set_country_flag = BRA_mdo_president_flag
		}
	}
	ELSE_IF = {
		IF = {
			limit = {
				has_country_leader = {
					ruling_only = yes
					character = BRA_lindolfo_collor
				}
			}
			set_country_flag = BRA_collor_president_flag
		}
	}
	ELSE_IF = {
		IF = {
			limit = {
				has_country_leader = {
					ruling_only = yes
					character = BRA_eurico_gaspar_dutra
				}
			}
			set_country_flag = BRA_dutra_president_flag
		}
	}
}

BRA_clear_leader_flags = {
	clr_country_flag = BRA_adso_president_flag
	clr_country_flag = BRA_ansio_president_flag
	clr_country_flag = BRA_mdo_president_flag
	clr_country_flag = BRA_collor_president_flag
	clr_country_flag = BRA_dutra_president_flag
}

BRA_clr_country_leader_role = {
	IF = {
		limit = {
			has_country_flag = BRA_adso_president_flag
		}
		remove_country_leader_role = {
			character = BRA_armando_de_sales_oliveira
			ideology = liberalism
		}
	}
	ELSE_IF = {
		limit = {
			has_country_flag = BRA_ansio_president_flag
		}
		remove_country_leader_role = {
			character = BRA_anisio_teixeira
			ideology = liberalism
		}
	}
	ELSE_IF = {
		limit = {
			has_country_flag = BRA_mdo_president_flag
		}
		remove_country_leader_role = {
			character = BRA_minervino_de_oliveira
			ideology = liberalism
		}
	}
	ELSE_IF = {
		limit = {
			has_country_flag = BRA_collor_president_flag
		}
		remove_country_leader_role = {
			character = BRA_lindolfo_collor
			ideology = liberalism
		}
	}
	ELSE_IF = {
		limit = {
			has_country_flag = BRA_dutra_president_flag
		}
		remove_country_leader_role = {
			character = BRA_eurico_gaspar_dutra
			ideology = conservatism
		}
	}
}